/*
 * Duck Creek Base JavaScript and CSS
 */
Ext.define("Ext.ux.PreviewPlugin",{extend:"Ext.plugin.Abstract",alias:"plugin.preview",requires:["Ext.grid.feature.RowBody"],hideBodyCls:"x-grid-row-body-hidden",bodyField:"",previewExpanded:true,setCmp:function(f){this.callParent(arguments);var d=this,c=d.cmp=f.isXType("gridview")?f.grid:f,a=d.bodyField,g=d.hideBodyCls,b=Ext.create("Ext.grid.feature.RowBody",{grid:c,getAdditionalData:function(o,k,l,p){var h=d.getAdditionalData,m={rowBody:o[a],rowBodyCls:c.getView().previewExpanded?"":g};if(Ext.isFunction(h)){Ext.apply(m,h.apply(this,arguments))}return m}}),e=function(k,h){h.previewExpanded=d.previewExpanded;h.featuresMC.add(b);b.init(k)};if(c.view){e(c,c.view)}else{c.on({viewcreated:e,single:true})}},toggleExpanded:function(b){var c=this.getCmp(),a=c&&c.getView(),e=a.bufferedRenderer,d=a.scrollManager;if(c&&a&&b!==a.previewExpanded){this.previewExpanded=a.previewExpanded=!!b;a.refreshView();if(d){if(e){e.stretchView(a,e.getScrollHeight(true))}else{d.refresh(true)}}}}});Ext.ns("DCT","DCT.Util","DCT.Integration","DCT.Submit","DCT.Submit.Integration","DCT.Grid","DCT.CustomEvents","DCT.Strings","DCT.LoadingMessage","DCT.Localization","DCT.FieldsChanged","DCT.Sections");Ext.require(["Ext.*","DCT.*"]);Ext.apply(DCT,{postPage:"default.aspx",checkStatusUrl:"CheckSemaphoreStatus.aspx",sessionID:"",manuscriptID:"",topic:"",page:"",savePageSet:"",currentPage:"",spotlightConfidenceThreshold:"",notifyMessage:"",redirectToFormsLogin:"",closePopup:"",clientName:"",globalAction:"",globalPortfolioID:"",globalQuoteID:"",globalLOB:"",globalClientID:"",globalSaveAction:"",globalDetails:"",globalPage:"",globalPopupScrollbars:true,msgActionBtn:"",msgBox:"",proxyUrl:null,imageDir:"",versionID:"",versionDate:"",caption:"",inherited:"",inheritedPage:"",cultureCode:"",skinsDir:"",currentUser:"",currentFullName:"",versionServer:"",versionExpress:"",systemCulture:"",activeAgency:"",userRoles:"",userContexts:"",hoverHelp:Ext.create("Ext.util.MixedCollection",{}),ajaxProcess:null,BillingSystemURL:"",PolicySystemURL:"",IsReadOnly:""});DCT.Util={};DCT.Integration={};DCT.Submit={};DCT.Grid={};DCT.LoadingMessage={};DCT.ProcessQueue={};DCT.FieldsChanged={};DCT.Localization={};DCT.Sections={};Ext.onReady(function(){DCT.Util.generateControls()});Array.prototype.forEachEl=function(b){for(i=0;i<this.length;i++){try{var c=Ext.get(this[i]);if(c){b(c)}}catch(a){}}};Ext.override(Ext,{validIdRe:/^[a-z0-9_][a-z0-9\-_]*$/i,makeIdSelector:function(c){var b=this;if(!Ext.validIdRe.test(c)){Ext.raise('Invalid id selector: "'+c+'"')}var a="#"+c;if(/^#[0-9_][a-z0-9\-_]*$/i.test(a)){a=a.replace("#","#\\3");a=a.slice(0,3)+" "+a.slice(3)}return a}});Ext.override(String,{replaceAll:function(c,b){if(c===b){return this}var a=this;while(a.indexOf(c)!==-1){a=a.replace(c,b)}return a},replaceAnchors:function(b){var a=this;Ext.iterate(b,function(d,c){var e="#{"+d+"}";a=a.replaceAll(e,c)});return a}});Ext.apply(DCT.Localization,{defaultString:function(a){return function(){var b=DCT.Strings[a];return Ext.isDefined(b)?b:a}},translate:function(c,b){var a=DCT.Localization.defaultString(c)().replaceAnchors(b);return Ext.String.trim(a)}});DCT.T=DCT.Localization.translate;Ext.define("Ext.ux.ProgressBarPager",{requires:["Ext.ProgressBar"],width:225,defaultText:DCT.T("Loading"),defaultAnimCfg:{duration:1000,easing:"bounceOut"},constructor:function(a){if(a){Ext.apply(this,a)}},init:function(b){var a;if(b.displayInfo){this.parent=b;a=b.child("#displayItem");if(a){b.remove(a,true)}this.progressBar=Ext.create("Ext.ProgressBar",{text:this.defaultText,width:this.width,animate:this.defaultAnimCfg,style:{cursor:"pointer"},listeners:{el:{scope:this,click:this.handleProgressBarClick}}});b.displayItem=this.progressBar;b.add(b.displayItem);Ext.apply(b,this.parentOverrides)}},handleProgressBarClick:function(k){var f=this.parent,c=f.displayItem,g=this.progressBar.getBox(),h=k.getXY(),b=h[0]-g.x,a=Math.ceil(f.store.getTotalCount()/f.pageSize),d=Math.max(Math.ceil(b/(c.width/a)),1);f.store.loadPage(d)},parentOverrides:{updateInfo:function(){if(this.displayItem){var d=this.store.getCount(),b=this.getPageData(),c=d===0?this.emptyMsg:Ext.String.format(this.displayMsg,b.fromRecord,b.toRecord,this.store.getTotalCount()),a=b.pageCount>0?(b.currentPage/b.pageCount):0;this.displayItem.updateProgress(a,c,this.animate||this.defaultAnimConfig)}}}});Ext.define("Ext.ux.SlidingPager",{requires:["Ext.slider.Single","Ext.slider.Tip"],constructor:function(a){if(a){Ext.apply(this,a)}},init:function(b){var a=b.items.indexOf(b.child("#inputItem")),c;Ext.each(b.items.getRange(a-2,a+2),function(d){d.hide()});c=Ext.create("Ext.slider.Single",{width:114,minValue:1,maxValue:1,hideLabel:true,tipText:function(d){return Ext.String.format("Page <b>{0}</b> of <b>{1}</b>",d.value,d.slider.maxValue)},listeners:{changecomplete:function(e,d){b.store.loadPage(d)}}});b.insert(a+1,c);b.on({change:function(d,e){c.setMaxValue(e.pageCount);c.setValue(e.currentPage)}})}});Ext.define("DCT.EventHub",{extend:"Ext.mixin.Observable",dctDefaultEvents:{taskpickedup:true,taskcompleted:true,taskadded:true,refreshnotes:true,refreshnotestoolbar:true,removetoolbar:true,ajaxcomplete:true,popupclosed:true,attachmentdeleted:true},constructor:function(a){var b=this;if(Ext.isDefined(a.dctEvents)){Ext.apply(b.dctDefaultEvents,a.dctEvents)}b.listeners=a.listeners;b.callParent(a)},fireEvent:function(a){var b=this;Ext.defer(function(){var c=this;c.superclass.fireEvent.call(c,a)},1,b)},addListener:function(a,c,b){var d=this;d.superclass.removeListener.call(d,a,c,b);d.superclass.addListener.call(d,a,c,b)}});Ext.apply(DCT,{hubEvents:Ext.create("DCT.EventHub",{})});Ext.define("DCT.Element",{override:"Ext.Element",replaceScriptTagRe:/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,scriptTagRe:/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,validIdRe:/^[a-z0-9_][a-z0-9\-_]*$/i,getDataPrefixedAttribute:function(a){return this.dom.getAttribute("data-"+a)},getAllAttributes:function(){var b={};var a=this.getAttributes();Ext.iterate(a,function(d,e,c){if(Ext.isString(d)&&Ext.isString(e)){if(d.indexOf("data-")===0){if(e==="true"){e=true}if(e==="false"){e=false}if(e==="null"){e=null}b[d.substring(5)]=e}else{b[d]=e}}});return b},getDataPrefixedAttributes:function(){var b={};var a=this.getAttributes();Ext.iterate(a,function(d,e,c){if(d=="data-config"){e=e.replace(/\n/g,"\\n").replace(/\r/g,"");Ext.apply(b,Ext.decode(e))}else{if(d=="data-value"){var f={value:e};Ext.apply(b,f)}else{if(Ext.isString(d)&&Ext.isString(e)){if(d.indexOf("data-")===0){if(e==="true"){e=true}if(e==="false"){e=false}if(e==="null"){e=null}b[d.substring(5)]=e}}}}});return b},applyDataPrefixedAttributesTo:function(a){Ext.apply(a,this.getDataPrefixedAttributes())},bindConfiguredEvents:function(){var element=this;Ext.iterate(element.getDataPrefixedAttributes(),function(k,v){if(Ext.isEmpty(k)||Ext.isEmpty(v)){return}if(k.indexOf("event-")!==0){return}var eventName=k.substr(6,k.length-6);var customEvent=DCT.CustomEvents[eventName];var fn=function(){if(Ext.isFunction(element[v])){return element[v].apply(element,arguments)}else{if(Ext.isFunction(window[v])){return window[v].apply(element,arguments)}else{return eval(v)}}};if(Ext.isDefined(customEvent)){customEvent(element,fn)}else{element.on(eventName,fn)}})},setHtml:function(c,b,h,d){var e=this,g,f,a;if(!e.dom){return e}c=c||"";f=e.dom;doc=f.ownerDocument;if(b!==true){f.innerHTML=c;Ext.callback(h,e);return e}g=Ext.id();c+='<span id="'+g+'" role="presentation"></span>';a=Ext.interval(function(){var r,m,l,k,p,o;if(!(p=doc.getElementById(g))){return false}clearInterval(a);Ext.removeNode(p);r=doc.head;while((m=e.scriptTagRe.exec(c))){l=m[1];k=l?l.match(e.srcRe):false;o=doc.createElement("script");o.setAttribute("async",false);o.setAttribute("defer",false);if(!Ext.isEmpty(l)){var q=l.split(" ");Ext.each(q,function(s){var u=[];u.push(s.substring(0,s.indexOf("=")));u.push(s.substring(s.indexOf("=")+1));if(!Ext.isEmpty(u[0])&&!Ext.isEmpty(u[1])){var t=doc.createAttribute(u[0]);t.value=u[1].replace(/^"(.+)"$/,"$1");o.setAttributeNode(t)}})}if(m[2]&&m[2].length>0){o.innerHTML=m[2]}if(o.src){r.appendChild(o)}else{Ext.defer(function(){Ext.functionFactory(o.innerHTML).call(d)},1)}}Ext.callback(h,d||e)},20);f.innerHTML=c.replace();return e}});Ext.define("DCT.EventDom",{override:"Ext.event.publisher.Dom",fire:function(c,b,f,g,a){var d;if(c&&c.hasListeners[b]){d=c.events[b];if(d){if(a&&g){d=d.directCaptures}else{if(a){d=d.captures}else{if(g){d=d.directs}}}if(d){f.setCurrentTarget(c.dom);d.fire(f,f.target)}}}}});Ext.define("DCT.Component",{override:"Ext.Component",hubEvents:DCT.hubEvents,bindConfiguredEvents:function(config){var element=this;Ext.iterate(config,function(k,v){if(Ext.isEmpty(k)||Ext.isEmpty(v)){return}if(k.indexOf("event-")!==0){return}var eventName=k.substr(6,k.length-6);var customEvent=DCT.CustomEvents[eventName];var fn=function(){if(Ext.isFunction(element[v])){return element[v].apply(element,arguments)}else{if(Ext.isFunction(window[v])){return window[v].apply(element,arguments)}else{return eval(v)}}};if(Ext.isDefined(customEvent)){customEvent(element,fn)}else{element.on(eventName,fn)}})},afterRender:function(){var a=this;a.hubEvents.addListener("ajaxcomplete",a.reSyncLayout,a);a.callParent([arguments])},beforeDestroy:function(){var b=this;var c=b.hubEvents.events.ajaxcomplete.listeners.filter(function(d){return d.scope==b})[0];if(c&&c.scope==b){var a=b.hubEvents.events.ajaxcomplete.listeners.indexOf(c);delete b.hubEvents.events.ajaxcomplete.listeners[a]}b.hubEvents.removeListener("ajaxcomplete",b.reSyncLayout,b);b.callParent([arguments])},reSyncLayout:function(){var a=this;Ext.defer(function(){if(!a.el.destroyed){a.updateLayout()}},1)}});DCT.CustomEvents={enter:function(obj,fn){obj.on("keypress",function(f,e){if(parseInt(e.keyCode,10)===13){if(Ext.isString(fn)){eval(fn)}if(Ext.isFunction(fn)){fn(f,e)}}})}};Ext.apply(DCT.Util,{elemFocus:"",tabKeyUsed:false,shiftKeyUsed:false,sharedSizeItem:null,progressBarsOnPage:Ext.create("Ext.util.MixedCollection",{}),classArray:[],skipValidation:false,getFileExtension:function(a){if(a.indexOf(".")!=-1){var b=a.split(".").pop();return(b.length>0)?b:false}else{return false}},hideShowGroup:function(a,d){var c="hideOffset";var b=Ext.get(a);if(b){(d)?b.removeCls(c):b.addCls(c);b.select(".controlContainer,a",true).each(function(f){var e=f.getAttribute("data-cmpid");if(f.findParent("div[class*=hideOffset]",10)){if(Ext.isEmpty(e)){f.dom.tabIndex=-1}else{DCT.Util.disableComponent(e,true)}}else{if(Ext.isEmpty(e)){f.dom.tabIndex=0}else{DCT.Util.disableComponent(e,false)}}})}},hideShowByClass:function(a,e,c){var d=c;var b=Ext.get(a);if(b){(e)?b.removeCls(d):b.addCls(d)}},disableComponent:function(c,b){var a=Ext.getCmp(c);if(Ext.isDefined(a)){a.setDisabled(b);if(!b){a.validate()}}},checkFieldsChanged:function(){var a=this;return Ext.ComponentMgr.each(a.findDirtyItem,a)?false:true},findDirtyItem:function(c,d,b){var a=true;if(Ext.isDefined(d.getXType())&&!Ext.isEmpty(d.dctControl)){if(Ext.isDefined(d.isDirty)){a=!d.isDirty()}}return a},initializeFields:function(){DCT.FieldsChanged.clear()},resetFields:function(){var a=this;Ext.ComponentMgr.each(function(c,d,b){if(Ext.isDefined(d.getXType())&&!Ext.isEmpty(d.dctControl)){if(Ext.isDefined(d.reset)){d.reset()}}},a);DCT.FieldsChanged.clear()},resetInvalidFields:function(){var a=this;Ext.ComponentMgr.each(function(c,d,b){if(Ext.isDefined(d.getXType())&&!Ext.isEmpty(d.dctControl)){if(Ext.isDefined(d.reset)&&Ext.isDefined(d.validate)&&!d.validate()){d.reset()}}},a)},setFocusField:function(c){var b=this;b.elemFocus=c;var a=Ext.getDom("_focusField");if(a){a.value=b.elemFocus}},setKeysUsed:function(c,a){var b=this;b.shiftKeyUsed=a;b.tabKeyUsed=c},getFocusField:function(b){var a=this;return(a.elemFocus)},isInterviewControl:function(a){var c=false;var b=Ext.getCmp(a);if(b){if(Ext.isDefined(b.getXType())&&!Ext.isEmpty(b.dctControl)){c=true}}return(c)},validateFields:function(k){k=k===true||k==="1";var h=this;var a=true;var l=null;var b="<br/><br/>"+DCT.T("TheseFieldsMustBeCorrected")+":<ul>";var d=new Array();if(!h.skipValidation){Ext.ComponentMgr.each(function(p,q,o){if(Ext.isDefined(!q.isDestroyed&&q.getXType())&&!Ext.isEmpty(q.dctControl)){var r=false;if(q.invalidClass){r=q.el.hasCls(q.invalidClass)}if(Ext.isDefined(q.validate)&&(q.el&&q.el.dom)&&!q.validate()){var c=Ext.Array.contains(q.getActiveErrors(),q.blankText);if(!(k&&c)){a=false;l=q;d.push({cmp:q,caption:q.dctCaption,x:q.getPosition()[0],y:q.getPosition()[1]})}else{if(DCT.skipRequiredHighlightOnBlur&&k&&(!r)&&c){q.clearInvalid()}}}}},h);d.sort(DCT.Util.sortYX);for(var g=0;g<d.length;g++){b+=("<li>"+d[g].caption+"</li>")}b+="</ul>";if(!a){DCT.Sections.expandForInvalidFields();var e=(l)?l.el.findParent(".x-tab"):null;var m=DCT.T("InvalidDataOnPage");if(e){m=DCT.T("InvalidDataOnTabs")}var f={ok:DCT.T("ShowMe")};m+=b;Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:m,buttonText:f,fn:function(c){if(c=="ok"){var o=d[0];DCT.Util.scrollTo(document.body,o.y-15,250,function(){o.cmp.focus()})}}}).show()}}return a},setSkipRequiredFields:function(){var a=this;if(!Ext.form.field.Base.prototype.skipRequiredChecking){Ext.form.field.Base.prototype.skipRequiredChecking=true;Ext.ComponentMgr.each(function(c,d,b){if(Ext.isDefined(d.getXType())&&!Ext.isEmpty(d.dctControl)){if(Ext.isDefined(d.allowBlank)){d.allowBlank=true}}},a)}},destroyFields:function(){var a=this;Ext.ComponentMgr.each(function(c,d,b){if(!Ext.isEmpty(d.dctControl)){if(!d.destroyed){d.destroy()}}},a)},getEditorControl:function(c){var d=Ext.create("Ext.form.TextField",{});if(Ext.isDefined(c)){var e=c.getXType();if(e.indexOf("dct")>-1){var b=null;var a=null;switch(e){case DCT.ComboField.xtype:b=Ext.copyTo({},c.initialConfig,"allowBlank,store,tpl,listeners,fieldRef,objectRef");a="DCT.EditorComboField";break;case DCT.InputDateField.xtype:b=Ext.copyTo({},c.initialConfig,"allowBlank,altFormats,dateFormat,format,listeners,maxLength,maxValue,minValue,showToday,fieldRef,objectRef");a="DCT.InputDateField";break;case DCT.InputIntField.xtype:case DCT.InputFloatField.xtype:b=Ext.copyTo({},c.initialConfig,"allowBlank,dctNumberFormat,dctNumberMax,dctNumberMin,listeners,maxLength,regex,regexText,validator,formatter,formatting,maskRe,fieldRef,objectRef");a="DCT.EditorNumberField";break;case DCT.InputEmailField.xtype:case DCT.InputIPField.xtype:case DCT.InputZipCodeField.xtype:case DCT.InputTimeField.xtype:case DCT.InputStringField.xtype:case DCT.InputSSNField.xtype:case DCT.InputPhoneField.xtype:b=Ext.copyTo({},c.initialConfig,"allowBlank,dctFormatMask,listeners,maxLength,regex,regexText,vtype,formatter,validator,fieldRef,objectRef");a="DCT.EditorInputField";break;case DCT.CheckBoxField.xtype:b=Ext.copyTo({},c.initialConfig,"boxLabel,checked,disabled,inputValue,listeners,fieldRef,objectRef");a="DCT.EditorCheckBoxField";break;default:b={};a="Ext.form.TextField";break}editorControl=Ext.create(a,b)}else{editorControl=d}}else{editorControl=d}return(editorControl)},reg:function(e,b,a){var c=this;var d={};Ext.apply(d,{xtype:e,htmlclass:b,cls:a});c.classArray.push(d)},generateControls:function(a){Ext.each(DCT.Util.classArray,function(c,b){Ext.select("."+c.htmlclass,true,a).each(function(f){var e,d;e=f.getDataPrefixedAttributes();d=Ext.create(c.cls,e);DCT.Util.generateControlsRecursive(f.dom,d);Ext.removeNode(f.dom)})})},generateControlsRecursive:function(a,b){Ext.each(DCT.Util.classArray,function(d,c){Ext.each(Array.prototype.slice.call(a.childNodes),function(h){var g=Ext.get(h);if(g.hasCls(d.htmlclass)){var f,e;f=g.getDataPrefixedAttributes();e=Ext.create(d.cls,f);if(b){b.add(e)}DCT.Util.generateControlsRecursive(g.dom,e);Ext.removeNode(g.dom)}})})},removeTabs:function(a){var b=this;if(typeof(a)=="object"){a=false}var c=Ext.query("A, INPUT");if(c){for(i=0;i<c.length;i++){if(c[i].type!="hidden"){if(a){if(c[i].getAttribute("tabProcessed")=="1"){continue}if(c[i].tabIndex==-1){c[i].tabIndex=-2}else{c[i].tabIndex=-1}c[i].setAttribute("tabProcessed","1")}else{if(c[i].tabIndex==-2){c[i].tabIndex=-1}else{c[i].tabIndex=0}c[i].setAttribute("tabProcessed","0")}}}}Ext.ComponentMgr.each(function(e,f,d){if(f.startEditing!=null){f.setDisabled(a)}},b)},includeHeaderFile:function(a,e,c){var l;if(e=="js"){l=document.createElement("script");l.setAttribute("type","text/javascript");l.setAttribute("src",a)}else{if(e=="css"){l=document.createElement("link");l.setAttribute("rel","stylesheet");l.setAttribute("type","text/css");l.setAttribute("href",a)}}var h=false;var g=(e=="js")?"script":(e=="css")?"link":"none";var d=(e=="js")?"src":(e=="css")?"href":"none";var k=document.getElementsByTagName(g);if(typeof c!="undefined"){for(var b=k.length;b>=0;b--){if(k[b]&&k[b].getAttribute(d)!=null&&k[b].getAttribute(d).indexOf(c)!=-1){k[b].parentNode.replaceChild(l,k[b]);h=true}}}if(!h){var f=false;for(var b=k.length;b>=0;b--){if(k[b]&&k[b].getAttribute(d)!=null&&k[b].getAttribute(d).indexOf(a)!=-1){f=true;break}}if(!f){document.getElementsByTagName("head")[0].appendChild(l)}}},getParent:function(b){var c=self;try{if(b){c=(c.name.search("dctPopup_")>-1)?c.parent:c}else{while(c.parent.name===c.name&&c.parent!=c||(c.name.search("dctPopup_")>-1)){c=c.parent}}}catch(a){c=window}return c},getPostUrl:function(){return DCT.postPage+"?_windowGuid="+DCT.Util.getParent().DCT.Util.getWindowGuid()},getWindowGuid:function(){var a=DCT.Util.getParent().DCT.Util.getSafeElement("_windowGuid");return a.value},setWindowGuid:function(b){var a=DCT.Util.getParent().DCT.Util.getSafeElement("_windowGuid");a.value=b},cloneElementWithComputedStyle:function(d,b){var f=this;var g=d.cloneNode(false);if(d.style&&window.getComputedStyle){var e=window.getComputedStyle(d,null).cssText;if(e===""){var a=window.getComputedStyle(d,null);for(var c in a){if(typeof(a[c])==="string"){e+=c+":"+a[c]+";"}}}g.style.cssText=e;if(b){Ext.each(d.childNodes,function(k){var h=DCT.Util.cloneElementWithComputedStyle(k,true);if(h){g.appendChild(h)}},f)}}return g},showLoadingMessageForPopup:function(d){DCT.LoadingMessage.show();var c=DCT.Util.getSafeElement("loadingMessage");var b=DCT.Util.cloneElementWithComputedStyle(c,true);var a=d.body.query("iframe")[0];if(a.contentWindow.document.body==null){a.contentWindow.document.write("<body></body>")}a.contentWindow.document.body.appendChild(b);var e={height:a.clientHeight,width:a.clientWidth};DCT.Util.centerElement(b,d.body,e);DCT.LoadingMessage.hide()},centerElement:function(d,b,k){var g=d.style.width;var c=d.style.height;g=g.substring(0,g.indexOf("px"));c=c.substring(0,c.indexOf("px"));var a=Math.round((k.width/2)-(g/2));var e=b.getHeight(true);if(k.height>0){e=k.height}var f=Math.round(e/2-(c/2));d.style.left=a+"px";d.style.top=f+"px"},scrollTo:function(b,f,c,e){if(c<=0){return}var d=f-b.scrollTop;var a=d/c*10;setTimeout(function(){var g=b.scrollTop;b.scrollTop=b.scrollTop+a;if(b.scrollTop===f||b.scrollTop===g){if(e){e()}return}DCT.Util.scrollTo(b,f,c-10,e)},10)},sortYX:function(d,c){if(d.y<c.y){return -1}else{if(d.y>c.y){return 1}else{if(d.y==c.y){if(d.x<c.x){return -1}else{if(d.x>c.x){return 1}else{return 0}}}}}},checkSpace:function(b){var a=b.which||b.charCode||b.keyCode||0;if(a==32||a==13){b.preventDefault();return true}else{return false}}});Ext.apply(DCT.Util,{enableDisableActionButton:function(b,a){var c=Ext.get(a);if(c){if(b){c.replaceCls("btnEnabled","btnDisabled")}else{c.replaceCls("btnDisabled","btnEnabled")}}},isButtonDisabled:function(a){liNode=Ext.get(a);if(liNode){if(liNode.hasCls("btnDisabled")){return true}}return false}});Ext.apply(DCT.Util,{getProxyUrl:function(){var a=location.href;if(a.toLowerCase().search(DCT.postPage.toLowerCase())==-1){a=a+DCT.postPage}if(a.indexOf("#")==a.length-1){a=a.replace("#","")}return a}});Ext.apply(DCT.Util,{setInterviewActionAsync:function(){this.getSafeElement("runInterviewActionAsync").value=true},processInterviewActionAsync:function(d,b,c){if(DCT.Util.getSafeElement("runInterviewActionAsync").value==="true"){if(!d){d="POL"}var a="AdminPAS";var e="Policy Dashboard";switch(d){case"PTY":a="Party";e="Party Dashboard";break;case"BIL":a="Billing";e="Billing Dashboard";break}DCT.ProcessQueue.displayAsyncProcessingPopUp(e,a,d,b,c)}},processInterviewGridAnchor:function(b,e){var d=this;var c=Ext.getCmp(b);var a=c.getStore().anchorObjects.get(e);d.processInterviewAnchor(a)},processInterviewAnchor:function(b){var c=this;var a;switch(b.processType){case"newWindow":a=function(){c.processInterviewAnchor_NewWindow(b)};break;case"alertMsg":a=function(){c.processInterviewAnchor_AlertMessage(b)};break;case"actionUrl":a=function(){c.processInterviewAnchor_ActionUrl(b)};break;case"download":a=function(){c.processInterviewAnchor_Download(b)};break;case"pdfPage":a=function(){c.processInterviewAnchor_PdfPage(b)};break;case"popUp":a=function(){c.processInterviewAnchor_PopUp(b)};break;case"integrationReturn":a=function(){c.processInterviewAnchor_IntegrationReturn(b)};break;case"partyReturn":a=function(){c.processInterviewAnchor_PartyReturn(b)};break;case"billingReturn":a=function(){c.processInterviewAnchor_BillingReturn(b)};break;case"runForPortal":a=function(){c.processInterviewAnchor_RunForPortal(b)};break;case"party360":a=function(){c.processInterviewAnchor_Party360(b)};break;default:a=function(){c.processInterviewAnchor_Default(b)};break}if(b.processType!="alertMsg"){if(b.isDeleteCmd){if(b.isList){c.initSubmission("delete",true)}else{c.initSubmission("delete",false)}}}if(!Ext.isEmpty(b.preEventField)&&Ext.isEmpty(b.preEventFieldAsync)){if(b.preEventFieldConfirm=="1"){c.preEventFieldConfirmAndGo(b.manuscriptId,b.actionName,b.preEventField,b.skipValidation,b.preEventFieldConfirmText,b.preEventFieldAlertOnly,a)}else{c.preEventField(b.manuscriptId,b.actionName,b.preEventField,b.skipValidation,b.preEventFieldAlertOnly,true,a)}}else{a()}if(b.processType!="alertMsg"){if(b.handleSkinCommand){b.skinCommand}}},processInterviewButtonConfirm:function(a,d){var b=this;if(a.isConfirm=="1"||a.isDelete=="1"){var c;if(!Ext.isEmpty(a.confirmText)){c=a.confirmText}else{c=a.isConfirm=="1"?DCT.T("AreYouSure"):DCT.T("AreYouSureDelete")}DCT.Util.removeTabs(true);Ext.Msg.confirm(DCT.T("Confirm"),c,function(e,f){DCT.Util.removeTabs(false);if(e=="yes"){if(a.skipValidation!="1"){if(!DCT.Util.validateFields()){return false}}if(a.cancelChanges=="1"){DCT.Util.resetFields()}d()}else{return false}},b)}else{d()}},processInterviewAnchor_RunForPortal:function(a){var d=a.parameters._PortalName;if((d=="Billing")&&(DCT.BillingSystemURL!="")){document.forms[0].action=DCT.BillingSystemURL}else{if((d!="Party")&&(DCT.PolicySystemURL!="")){document.forms[0].action=DCT.PolicySystemURL}}var b=a.postAction.search(":")==0?"":",";var c="setPortal"+b+a.postAction;DCT.Submit.addToParmArray("_submitAction",c);for(var e in a.parameters){DCT.Submit.addToParmArray(e,a.parameters[e])}DCT.FieldsChanged.clear();DCT.Submit.setActiveParent("dashboardHome");DCT.Submit.submitPageForm(a.parameters._targetPage)},processInterviewAnchor_Party360:function(b){var a;for(var c in b.parameters){if(c=="objectID"){a=b.parameters[c]}}DCT.Util.popUpPartyCommon("partyStart:party360",'["_partyReturnStructure:none","_partyReturnAction:none360","_objectId360:'+a+'","_objectTypeCode360:PTY","_objectreference360:","_page360:ParticipantDetail"]')},processInterviewAnchor_Default:function(b){var c=this;if(b.postAction=="upload"){c.postFile()}var d=(Ext.getDom("_groupPaging"))?Ext.getDom("_groupPaging").value:null;if(d){DCT.Util.getSafeElement("_pagingGroups").value=d}c.clearIntegrationData();var a=(b.isConfirm=="1")?"Confirm":((b.isDelete=="1")?"Delete":"");DCT.ajaxProcess.submitAjax("PageContainer",b.actionName,b.skipValidation,b.cancelChanges,a,b.confirmText)},processInterviewAnchor_BillingReturn:function(a){var b=this;if(a.postAction=="upload"){b.postFile()}b.processInterviewButtonConfirm(a,function(){DCT.ajaxProcess.submitInterfaceReturn(a.popUp,a.postAction,"",a.actionName)})},processInterviewAnchor_AlertMessage:function(a){var b=this;b.showCustomMessage(a.alertMsg,a.alertMsgTitle,a.alertMsgClass,b)},processInterviewAnchor_PartyReturn:function(a){var b=this;if(a.postAction=="upload"){b.postFile()}b.processInterviewButtonConfirm(a,function(){DCT.ajaxProcess.submitPartyReturn(a.popUp,a.postAction,a.partyId,a.actionName)})},processInterviewAnchor_IntegrationReturn:function(a){var b=this;if(a.postAction=="upload"){b.postFile()}b.processInterviewButtonConfirm(a,function(){DCT.ajaxProcess.submitIntegrationReturn(a.popUp,a.postAction,a.integrationImportRq,a.actionName)})},processInterviewAnchor_PopUp:function(a){DCT.Util.popUpPage(a.popUp,a.actionName,a.skipValidation,a.cancelChanges,a.hideCloseButton,a.popUpClass,a.popUpWidth,a.popUpHeight,a.popUpTitle,a.isConfirm,a.confirmText)},processInterviewAnchor_PdfPage:function(a){DCT.Util.printOutWithAction("",a.pdfPage,a.actionName,a.suppressRefresh)},processInterviewAnchor_ActionUrl:function(anchorObject){if(!Ext.isEmpty(anchorObject.preEventField)){DCT.LoadingMessage.hideAndCancel();eval(anchorObject.actionUrl)}else{if(!Ext.isEmpty(anchorObject.newWindow)){eval(window.open(anchorObject.actionUrl))}else{eval(anchorObject.actionUrl)}}},processInterviewAnchor_Download:function(a){if(a.attachmentID>0){DCT.Submit.processAttachment(a.attachmentId||0,a.returnPage||"",a.interViewAction)}else{DCT.Util.getSafeElement("_action").value=a.actionName;DCT.Util.getSafeElement("_targetPage").value="";DCT.Submit.submitAction(a.interViewAction);DCT.LoadingMessage.hideAndCancel()}},processInterviewAnchor_NewWindow:function(a){if(!Ext.isEmpty(a.actionName)){DCT.LoadingMessage.cancel();var e=DCT.Util.getSafeElement("_action").value;var c=DCT.Util.getSafeElement("_popUp").value;var f=DCT.Util.getSafeElement("_submitAction").value;DCT.Util.getSafeElement("_duplicateWindow").value="1";DCT.Util.getSafeElement("_popUp").value="false";DCT.Util.getSafeElement("_action").value=a.actionName;document.forms[0].target="_blank";if(!Ext.isEmpty(a.portalName)){DCT.Util.getSafeElement("_externalSite").value="0";var b=a.postAction.search(":")==0?"":",";var d="setPortal"+b+a.postAction;DCT.Util.getSafeElement("_submitAction").value=d;DCT.Util.getSafeElement("_PortalName").value=a.portalName;for(var g in a.parameters){if(g=="objectID"){if(a.portalType=="PAS"){if(DCT.PolicySystemURL!=""){document.forms[0].action=DCT.PolicySystemURL}DCT.Util.getSafeElement("_QuoteID").value=a.parameters[g]}else{if(a.portalType=="BIL"){if(DCT.BillingSystemURL!=""){document.forms[0].action=DCT.BillingSystemURL}DCT.Util.getSafeElement("_accountId").value=a.parameters[g]}else{if(a.portalType=="PTY"){DCT.Util.getSafeElement("_partyIndex").value=a.parameters[g]}}}}if(g=="language"){DCT.Util.getSafeElement("_language").value=a.parameters[g];DCT.Util.getSafeElement("_submitAction").value="setLanguage,"+DCT.Util.getSafeElement("_submitAction").value}}}document.forms[0].submit();DCT.LoadingMessage.hideAndCancel();DCT.Util.getSafeElement("_action").value=e;DCT.Util.getSafeElement("_duplicateWindow").value="0";DCT.Util.getSafeElement("_popUp").value=c;DCT.Util.getSafeElement("_submitAction").value=f;DCT.Util.getSafeElement("_targetPage").value="";document.forms[0].target=""}else{window.open(a.actionUrl)}},processInterviewButtonAnchor:function(b){var d=this;var a=Ext.get(b);if(a){var c=a.getDataPrefixedAttributes();d.processInterviewAnchor(c)}},processFormSubmit:function(b,a,d,e,f){var c=this;c.customOnSubmit();if((a=="Confirm")||(a=="Delete")){if(!Ext.isEmpty(f)){strConfirm=f}else{if(a=="Confirm"){strConfirm=DCT.T("AreYouSure")}else{strConfirm=DCT.T("AreYouSureDelete")}}DCT.Util.removeTabs(true);DCT.LoadingMessage.hideAndCancel();Ext.Msg.confirm(DCT.T("Confirm"),strConfirm,function(g,h){DCT.Util.removeTabs(false);if(g=="yes"){if(d!="1"){if(!DCT.Util.validateFields()){return false}}DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_action").value=b;document.forms[0].action=DCT.postPage;document.forms[0].target="";if(e=="1"){DCT.Util.resetFields()}DCT.Submit.submitForm()}else{return false}},c)}else{if(d!="1"){if(!DCT.Util.validateFields()){DCT.LoadingMessage.hideAndCancel();return false}}DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_action").value=b;document.forms[0].action=DCT.postPage;document.forms[0].target="";if(e=="1"){DCT.Util.resetFields()}DCT.Submit.submitForm()}},initSubmission:function(a,b){if(a=="delete"){if(b){Ext.getDom("_parentGroupIsPaged").value="1"}else{Ext.getDom("_parentGroupIsPaged").value="0"}}},preEventFieldConfirmAndGo:function(a,f,h,e,b,d,g){var c=this;if(Ext.isEmpty(b)){b=DCT.T("AreYouSure")}c.removeTabs(true);Ext.Msg.confirm(DCT.T("Confirm"),b,function(k){c.removeTabs(false);if(k=="yes"){DCT.Util.preEventField(a,f,h,e,d,true,g)}},c)},processPreEventField:function(b){var e=this;DCT.FieldsChanged.clear();DCT.Util.toggleButtons(false);if(!Ext.isEmpty(b)&&e.displayMessage){var d="";var h=DCT.Util.getNodes(b,"/HTTPError");var g=DCT.Util.getNodes(b,'//ManuScript.getValueRs[@status="failure"]/errors/error');if(h.length>0){Ext.each(h,function(k){d+=(k.text)?"\r\n"+k.text:"\r\n"+k.textContent})}else{if(g.length>0){d=DCT.T("FieldProcessingError");Ext.each(g,function(k){d+=(k.text)?"\r\n"+k.text:"\r\n"+k.textContent})}else{var a=DCT.Util.getSingleNode(b,'//ManuScript.getValueRs[@status="success"]/@value');if(a==null){d=DCT.T("FieldNoValue",{name:e.fieldName,manuScriptId:e.manuScriptID})}else{d=DCT.Util.getNodeText(a);if(Ext.isEmpty(Ext.String.trim(d))){d=""}}}}if(d.length>0){DCT.LoadingMessage.hideAndCancel();DCT.Util.removeTabs(true);Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:d,fn:function(k){DCT.Util.removeTabs(false);if(k=="ok"&&e.doFunctionToBeCalled&&e.preEventFieldAlertOnly=="1"){e.functionToBeCalled()}if(e.doFunctionToBeCalled){return false}return e.preEventFieldAlertOnly=="1"},scope:e}).show()}else{if(e.doFunctionToBeCalled){e.functionToBeCalled();return true}}}else{if(!Ext.isEmpty(b)){DCT.LoadingMessage.hideAndCancel();DCT.Util.removeTabs(true);var f=DCT.Util.getSingleNode(b,'//ManuScript.getValueRs[@status="success"]/@asyncID');if(f!=null){var c=DCT.Util.getNodeText(f);if(c.length>0){DCT.Submit.setPortal("AdminPAS","");return true}}else{if(e.doFunctionToBeCalled){e.functionToBeCalled()}}}else{if(e.doFunctionToBeCalled){e.functionToBeCalled()}}}return true},preEventField:function(b,g,k,a,f,d,c){var h=this;var e;h.doFunctionToBeCalled=false;h.manuScriptID=b;h.fieldName=k;h.preEventFieldAlertOnly=f;h.displayMessage=d;h.functionToBeCalled=c;if(!Ext.isDefined(d)){h.displayMessage=true}if(!Ext.isEmpty(c)){h.doFunctionToBeCalled=true}h.toggleButtons(true);if(a!="1"){if(!DCT.Util.validateFields()){h.toggleButtons(false);return false}}DCT.LoadingMessage.delayedShow();e=DCT.ajaxProcess.createStoreXML(g);DCT.ajaxProcess.postServerMessage(e,"PreEvent/xml",Ext.Function.createDelayed(h.processPreEventField,0,h),true,"preEvent")},toggleButtons:function(c){if((document.forms[0].target=="")||(document.forms[0].target=="_self")){var d=Ext.query("A");if(d){for(i=0,n=d.length;i<n;i++){if(d[i].onclick){if(c){var a=d[i].getAttribute("onclick");d[i].setAttribute("data-onclick",a);d[i].setAttribute("onclick","")}else{var b=d[i].getAttribute("data-onclick");if(!Ext.isEmpty(b)){d[i].setAttribute("onclick",b);d[i].setAttribute("data-onclick","")}}}}}}},showCustomMessage:function(e,d,a,c,f){var b="<div class='cMsg'>"+e+"</div>";Ext.Msg.show({title:d||DCT.T("Alert"),cls:a||"cMsgWin",msg:b,buttons:Ext.Msg.OK,width:400,fn:f||null,animEl:(c&&c.id)?c.id:null})},postFile:function(){document.forms[0].encoding="multipart/form-data";DCT.FieldsChanged.set()},clearIntegrationData:function(){if(DCT.Integration.Spotlight){DCT.Integration.Spotlight.close()}if(DCT.ValidationLogs){DCT.ValidationLogs.close()}},customOnSubmit:function(){}});Ext.define("DCT.grid.filters.filter.Date",{override:"Ext.grid.filters.filter.Date",dateBefore:true,dateAfter:true,dateOn:true,createMenu:function(a){var b=this;b.getFilterMenuItems();b.callParent(arguments)},getFilterMenuItems:function(){var b=this,a=[];if(b.dateBefore){a.push("lt")}if(b.dateAfter){a.push("gt")}if(b.dateBefore&&b.dateAfter&&b.dateOn){a.push("-")}if(b.dateOn){a.push("eq")}b.menuItems=a},onMenuSelect:function(g,f){var c=this.fields,h=c[g.itemId],d=c.gt,b=c.lt,a=c.eq,e={};h.up("menuitem").setChecked(true,true);if(h===a){if(b){b.up("menuitem").setChecked(false,true)}if(d){d.up("menuitem").setChecked(false,true)}}else{if(a){a.up("menuitem").setChecked(false,true)}if(h===d&&b&&(+b.value<+f)){b.up("menuitem").setChecked(false,true);e.lt=null}else{if(h===b&&d&&(+d.value>+f)){d.up("menuitem").setChecked(false,true);e.gt=null}}}e[h.filterKey]=f;this.setValue(e);g.up("menu").hide()}});Ext.define("DCT.grid.filters.filter.List",{override:"Ext.grid.filters.filter.List",createListStore:function(p){var g=this,m=g.store,h=p.isStore,b=g.idField,d=g.labelField,k=false,a,c,e,f,l;if(h){if(p!==g.getGridStore()){k=true;m=g.store=p}else{g.autoStore=true;a=g.getOptionsFromStore(p)}}else{a=[];for(e=0,f=p.length;e<f;e++){l=p[e];switch(Ext.typeOf(l)){case"array":a.push(l);break;case"object":a.push(l);break;default:if(l!=null){c={};c[b]=l;c[d]=l;a.push(c)}}}}if(!k){if(m){m.destroy()}m=g.store=new Ext.data.Store({fields:[b,d],data:a});g.loaded=true}g.setStoreFilter(m)}});Ext.define("DCT.grid.NavigationModel",{override:"Ext.grid.NavigationModel",onCellClick:function(g,k,f,d,o,b,l){var e=this,a=Ext.Component.fromElement(l.target,k),m=a&&a.isFocusable&&a.isFocusable(),h=(document.getSelection().anchorNode)?document.getSelection().anchorNode:Ext.Element.getActiveElement(),c=Ext.isGecko?h:Ext.Element.getActiveElement();if(!Ext.isIE10m&&!g.el.contains(c)&&l.pointerType!=="touch"){return}if(g.actionableMode){if(!l.position.isEqual(g.actionPosition)){if(!m){g.setActionableMode(false,l.position)}}e.fireEvent("navigate",{view:g,navigationModel:e,keyEvent:l,previousPosition:e.previousPosition,previousRecordIndex:e.previousRecordIndex,previousRecord:e.previousRecord,previousItem:e.previousItem,previousCell:e.previousCell,previousColumnIndex:e.previousColumnIndex,previousColumn:e.previousColumn,position:l.position,recordIndex:l.position.rowIdx,record:l.position.record,selectionStart:e.selectionStart,item:l.item,cell:l.position.cellElement,columnIndex:l.position.colIdx,column:l.position.column})}else{if(e.position.isEqual(l.position)||m){if(Ext.isIE10m&&!e.record){return}e.fireNavigateEvent(l)}else{if(l.position.column.cellFocusable!==false){e.setPosition(l.position,null,l)}else{l.preventDefault()}}}}});Ext.define("DCT.selection.CheckboxModel",{alias:"selection.dctcheckboxmodel",extend:"Ext.selection.CheckboxModel",itemsSelectedPerPage:null,allSelected:false,selectAllItems:false,trackPageSelections:true,constructor:function(){var a=this;a.itemsSelectedPerPage=Ext.create("Ext.util.MixedCollection",{});a.pagingSelection=true;a.callParent(arguments);a.grid.store.on("load",function(){var b=this;if(b.trackPageSelections){b.assignPageSelections()}},a)},onSelectChange:function(a,b){var c=this;c.callParent(arguments);c.setPageSelections();if(!b){c.allSelected=false}DCT.Util.getSafeElement("_gridAllSelected").value=c.allSelected},getHeaderConfig:function(){var b=this,d=b.showHeaderCheckbox!==false,c=Ext.String.htmlEncode,a;if(b.renderer){a={xtype:"checkcolumn",headerCheckbox:d,isCheckerHd:d,ignoreExport:true,text:b.headerText,width:b.headerWidth,sortable:false,draggable:false,resizable:false,hideable:false,menuDisabled:true,checkOnly:b.checkOnly,checkboxAriaRole:"presentation",tdCls:b.tdCls,cls:Ext.baseCSSPrefix+"selmodel-column",defaultRenderer:b.renderer.bind(b),editRenderer:b.editRenderer||b.renderEmpty,locked:b.hasLockedHeader(),processEvent:b.processColumnEvent,toggleAll:Ext.emptyFn,setRecordCheck:Ext.emptyFn,isRecordChecked:b.isRowSelected.bind(b)};if(!b.checkOnly){a.tabIndex=undefined;a.ariaRole="presentation";a.focusable=false;a.cellFocusable=false}else{a.useAriaElements=true;a.ariaLabel=c(b.headerAriaLabel);a.headerSelectText=c(b.headerSelectText);a.headerDeselectText=c(b.headerDeselectText);a.rowSelectText=c(b.rowSelectText);a.rowDeselectText=c(b.rowDeselectText)}return a}else{return(b.callParent())}},onHeaderClick:function(b,h,l){var m=this,p=m.store,f=m.column,d,c,g,k,a,o;if(m.showHeaderCheckbox!==false&&h===m.column&&m.mode!=="SINGLE"){l.stopEvent();d=h.el.hasCls(Ext.baseCSSPrefix+"grid-hd-checker-on");if(d){c=[];a=this.getSelection();for(g=0,k=a.length;g<k;++g){o=a[g];if(p.indexOf(o)>-1){c.push(o)}}if(c.length>0){m.deselect(c);m.allSelected=false;if(m.selectAllItems){m.clearPageSelections()}else{m.setPageSelections()}}}else{m.selectAll();m.allSelected=(m.selectAllItems)?true:false;m.setPageSelections()}DCT.Util.getSafeElement("_gridAllSelected").value=m.allSelected}},updateHeaderState:function(){var f=this,g=f.store,e=g?g.getCount():0,h=f.views,k=false,a=0,b,d,c;if(g&&g.getAdjustedCount){e=e-g.getAdjustedCount()}if(g&&!g.isBufferedStore&&e>0){b=f.selected;k=true;for(c=0,d=b.getCount();c<d;++c){if(g.indexOfId(b.getAt(c).id)>-1){++a}}k=e===a}if(h&&h.length){f.column.setHeaderStatus(k)}},setPageSelections:function(){var c=this,a=c.grid;if(Ext.isDefined(a)){var e=c.getSelection();var d=1;var b=a.getDockedItems("dctpagetoolbar");if(!Ext.isEmpty(b)){d=b[0].getPageData().currentPage}c.itemsSelectedPerPage.add(d,e)}},assignPageSelections:function(){var e=this;if(e.locked){return}if(e.allSelected){e.selectAll();e.setPageSelections();return}var c=e.grid;e.selected.clear();var f=1;var d=c.getDockedItems("dctpagetoolbar");if(!Ext.isEmpty(d)){f=d[0].getPageData().currentPage}var g=e.itemsSelectedPerPage.get(f);if(Ext.isDefined(g)){for(var b=0,a=g.length;b<a;b++){var h=c.store.indexOfId(g[b].id);e.select(h,true)}}},clearPageSelections:function(){var b=this,a=b.grid;if(Ext.isDefined(a)){b.itemsSelectedPerPage.clear();b.allSelected=false}},clearSelections:function(){var c=this,a=c.grid;if(c.store){c.deselectAll()}if(!c.silent){if(c.selectAllItems){c.clearPageSelections()}else{var b=a.getDockedItems("dctpagetoolbar");var d=(!Ext.isEmpty(b))?b[0].getPageData().currentPage:1;c.itemsSelectedPerPage.removeAtKey(d)}}},isRowSelected:function(a){var b=this;return(b.dctIsSelected)?b.dctIsSelected(a):b.isSelected(a)}});Ext.define("DCT.CellEditing",{alias:"plugin.dctcellediting",extend:"Ext.grid.plugin.CellEditing",clicksToEdit:1,id:"dctcellediting",constructor:function(a){var b=this;b.setListeners(a);b.callParent([a])},setListeners:function(a){var b=this;a.listeners={edit:{fn:b.processAfterEdit,scope:b},beforeedit:{fn:b.processBeforeEdit,scope:b}}},processAfterEdit:function(h,d,l){var m="fieldInstance[@fieldRef='"+d.field+"']";var o=Ext.DomQuery.select(m,d.store.proxy.reader.rawData);var p=(Ext.isEmpty(o))?null:o[d.rowIdx];var k=Ext.DomQuery.selectValue("@uid",p);var e=Ext.getCmp(k);var b;var c;if(Ext.isDefined(e)){switch(e.dctType){case"date":e.setValue((!Ext.isEmpty(d.value))?Ext.Date.format(d.value,e.format):d.value);b=(!Ext.isEmpty(d.originalValue))?Ext.Date.format(d.originalValue,e.format):d.originalValue;c=e.getValue();break;case"boolean":e.setValue(d.value);b=d.originalValue;c=d.value;break;default:var f=(Ext.isDefined(e.formatter))?e.formatter(d.value):d.value;e.setValue(f);b=d.originalValue;c=f;break}if(b!=c){d.record.commit();if(e.hasListener("change")){e.fireEvent("change")}if(e.hasListener("check")){e.fireEvent("check",e)}if(e.hasListener("select")&&(e.dctType!="date")){var a=e.getStore();var g=a.getAt(a.findExact(e.valueField,c));e.fireEvent("select",e,g)}if(e.hasListener("blur")){e.fireEvent("blur",e)}}}},processBeforeEdit:function(h,a,f){var d="fieldInstance[@fieldRef='"+a.field+"']";var c=Ext.DomQuery.select(d,a.store.proxy.reader.rawData);var b=(Ext.isEmpty(c))?null:c[a.rowIdx];var e=Ext.DomQuery.selectValue("@uid",b);var g=Ext.getCmp(e);if(a.column.dataReadOnly||((Ext.isDefined(g))&&g.xtype=="dctinputdisplayfield")){return false}if(Ext.isDefined(g)){a.value=a.originalValue=g.getValue();if(g.hasListener("focus")){g.fireEvent("focus")}}if(DCT.ajaxProcess.processingBlur){a.cancel=true;return}if(g.dctType!="boolean"){a.column.setEditor(DCT.Util.getEditorControl(g))}}});Ext.define("DCT.GridEditor",{override:"Ext.Editor",alignment:"c-c"});Ext.define("DCT.BaseGridPanel",{extend:"Ext.grid.GridPanel",inputXType:"dctbasegridpanel",dctControl:true,loadMask:{msg:DCT.T("Loading")},originalGridConfig:null,dctGroupTextTpl:'{text} ({[values.rs.length]} {[values.rs.length > 1 ? DCT.T("Items") : DCT.T("Item")]})',saveButton:"saveButton",cancelButton:"cancelButton",currentStartIndex:0,dctClickedRowIndex:-1,xtype:"dctbasegridpanel",forceFit:true,constructor:function(c){var e=this;e.checkControlExists(c);e.setDataStore(c);e.setPlugins(c);e.setFeatures(c);e.setColumnModel(c);e.setGridView(c);e.setTopToolbar(c);e.setBottomToolbar(c);e.setListeners(c);e.setHubListeners(c);e.setPanelButtons(c);e.setSelectionModel(c);c.store.grid=e;e.callParent([c]);if(c.dctPreviewGrid){var d=e.getPlugin("preview");var a=Ext.isEmpty(c.dctPreviewConfig)?null:c.dctPreviewConfig;var b=Ext.isEmpty(a)||Ext.isEmpty(a.expanded)?false:a.expanded;d.toggleExpanded(b)}e.bindConfiguredEvents(c)},setHubListeners:function(a){},setPlugins:function(b){var c=this;var a=[];if(b.dctPreviewGrid){a.push(b.dctPreviewConfig)}if(b.dctFilteringConfig){a.push(b.dctFilteringConfig)}b.plugins=(Ext.isEmpty(a))?undefined:a},setFeatures:function(a){var b=this;var c=[];if(a.dctGroupingConfig){c.push(a.dctGroupingConfig)}a.features=(Ext.isEmpty(c))?undefined:c},afterRender:function(){var a=this;if(a.reloadOnAjax){DCT.hubEvents.addListener("ajaxcomplete",a.reloadData,a)}DCT.hubEvents.addListener("popupclosed",a.reloadData,a);a.callParent([arguments])},onDestroy:function(){var a=this;if(a.reloadOnAjax){DCT.hubEvents.removeListener("ajaxcomplete",a.reloadData,a)}DCT.hubEvents.removeListener("popupclosed",a.reloadData,a);a.callParent([arguments])},setListeners:function(a){var b=this;a.listeners={rowclick:{fn:b.rowClicked,scope:b},boxReady:{fn:function(e,f,c,d){var g=this;g.originalGridConfig=g.pullGridState(e);Ext.Function.defer(g.restoreGridState,10,g,[e])},scope:b},afterrender:{fn:function(d,c){var e=this;Ext.Function.defer(d.updateLayout,10,e)},scope:b},columnmove:{fn:function(e,f,k,d,c){var g=this;var h=Ext.getCmp("persistStateButton"+g.id);if(h){h.enable()}},scope:b},columnresize:{fn:function(d,f,e,c){var g=this;var h=Ext.getCmp("persistStateButton"+g.id);if(h){h.enable()}},scope:b},headerclick:{fn:function(g,d,m,h){var l=this,f=Ext.getCmp("persistStateButton"+l.id);if(d.isSortable()){if(f){f.enable()}var k=g.grid.getStore().getSorters(),o=Ext.getDom("_sortDirection"),c=Ext.getDom("_sortColumn");if(k.getCount()>0){var e=k.getByKey(d.dataIndex);o.value=e.getDirection();c.value=e.getProperty()}else{o.value="";c.value=""}}},scope:b}}},setDataStore:function(b){var c=this;var a=b.dctStoreConfig.fields;if(Ext.isEmpty(Ext.Array.findBy(a,function(e,d){if(e.hasOwnProperty("id")){return true}},c))){b.dctStoreConfig.fields.push({name:"id",mapping:b.dctStoreConfig.idProperty})}b.store=Ext.create(b.dctStoreClass,b.dctStoreConfig);b.store.on("beforeload",function(d,e){var f=this;f.currentStartIndex=e.getStart()})},setColumnModel:function(a){var b=this;a.columns={items:a.dctColumnModel,sortAscText:DCT.T("SortAscending"),sortDescText:DCT.T("SortDescending"),columnsText:DCT.T("Columns"),listeners:{columnschanged:{fn:function(d,c){var e=this;var f=Ext.getCmp("persistStateButton"+e.id);if(f){f.enable()}},scope:b}}}},setSelectionModel:function(a){var b=this;Ext.apply(a.dctSelectionConfig,{grid:b,});a.selModel=a.dctSelectionConfig},setGridView:function(a){var b={cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','<tpl if="record.store.grid.view.debugModeOn">','columnRef="{record.store.grid.view.debugId}_{column.dataIndex}" ',"</tpl>",'style="text-align:{align};<tpl if="style">{style}</tpl>" {cellInnerAttr:attributes}>','<tpl if="values.column.renderer">',"{value}","<tpl else>","{[this.checkForXSS(values.record.data[values.column.dataIndex])]}","</tpl>","</div>","</td>",{priority:0,checkForXSS:function(c){if(Ext.util.Format.htmlDecode(c)==c){return Ext.util.Format.htmlEncode(c)}else{return c}}}]};if(Ext.isDefined(a.dctViewConfig)){Ext.apply(a.dctViewConfig,b)}else{a.dctViewConfig=b}a.viewConfig=a.dctViewConfig},setTopToolbar:function(a){if(a.dctShowToolBar){a.tbar=Ext.create("DCT.GridToolbar",{dctTitle:a.dctTitle,dctPreviewGrid:a.dctPreviewGrid,dctShowPreviewToolTip:a.dctShowPreviewToolTip,dctInitialPreview:a.dctInitialPreview,dctCheckBoxSelection:a.dctCheckBoxSelection,dctGridCheckboxwithButtons:a.dctGridCheckboxwithButtons,dctGridId:a.id})}},setBottomToolbar:function(a){},setPanelButtons:function(a){var b=this;if(a.dctAddPanelButtons){a.buttons=[{text:DCT.Localization.translate("Cancel"),id:b.cancelButton,handler:function(){var c=this;c.ownerCt.closeWindow()},scope:b},{text:DCT.Localization.translate("Save"),id:b.saveButton,handler:function(){var c=this;c.saveItems()},scope:b}]}},saveItems:function(){var f=this;var e=new Array();var b=new Array();var c=f.getTotalSelectionCount();if((c!=0)&&(c!=f.store.totalCount)){f.assignGridSelection(false,DCT.Grid.buildItemsArray);var d=DCT.Util.getSafeElement("_gridSelectionArray").value;var a=d.split(",");Ext.each(a,function(k){var h=k.split("|");e.push(h[0]);b.push(h[1])})}else{e.push("");b.push(f.dctViewAllText)}var g=DCT.Util.getParent();g.Ext.getCmp(f.dctSelected).setValue(b.join(", "));g.Ext.getCmp(f.dctSelectedIds).setValue(e.join(","));f.ownerCt.closeWindow()},rowClicked:function(b,a,c,f,d){if(Ext.isDefined(b)){if(!b.dctCheckBoxSelection){DCT.Util.getSafeElement("selectedID").value=a.id}}},pullGridState:function(e){var d=e.headerCt.getGridColumns();var a=new Array();var f;for(var c=0;c<d.length;c++){f={id:d[c].id,dataIndex:d[c].dataIndex,hidden:d[c].isHidden(),width:d[c].width,flex:d[c].flex,sortState:d[c].sortState};a[a.length]=f}var h=Ext.getCmp("perpage"+e.id);if(h){var g={dataIndex:"perpage"+e.id,value:h.value};a[a.length]=g}var b=Ext.encode(a);return b},restoreGridState:function(a){var c=Ext.util.Cookies.get(a.id);if(!Ext.isEmpty(c)){c=Ext.decode(c);var l,d;var m=a.getColumnManager();for(var e=0;e<c.length;e++){if((a.getSelectionModel().selType!="dctcheckboxmodel")||(a.getSelectionModel().selType=="dctcheckboxmodel"&&e>0)){column=m.getHeaderByDataIndex(c[e].dataIndex);if(column){if(column.fullColumnIndex!=e){m.headerCt.move(column.fullColumnIndex,e)}if(c[e].hidden){column.hide()}else{column.show()}if(c[e].width){column.width=c[e].width}if(c[e].flex){column.setFlex(c[e].flex)}if(c[e].sortState){d={direction:c[e].sortState,dataIndex:c[e].dataIndex}}}if(c[e].dataIndex=="perpage"+a.id){var b=c[e].value;var k=Ext.getCmp("perpage"+a.id);var f=k.findRecord("id",b);var g=k.store.indexOf(f);if(g>=0){k.setValue(b);var h=a.getStore();h.autoLoad.params.limit=b;if(!d){k.setValue(f.id);k.fireEvent("select",k,f)}}}}}}if(d){a.store.sort(d.dataIndex,d.direction)}else{if(a.store.sorters){a.store.sorters.clear()}a.view.refresh()}},buildSelectedArray:function(b){var a=this;if(a.selectObject.appendTS){if(typeof(a.selectObject.processingFunc)=="function"){a.selectObject.selectedItems.push(a.selectObject.processingFunc(b)+"|"+b.data.lockingTS+"|"+b.data.reversalAmount)}else{a.selectObject.selectedItems.push(b.id+"|"+b.data.lockingTS+"|"+b.data.reversalAmount)}}else{if(typeof(a.selectObject.processingFunc)=="function"){a.selectObject.selectedItems.push(a.selectObject.processingFunc(b))}else{a.selectObject.selectedItems.push(b.id)}}},assignGridSelection:function(d,a){var c=this;c.selectObject={selectedItems:new Array(),appendTS:d,processingFunc:a};if(c.getStore()){var b=c.getSelectionModel();if(b.pagingSelection){b.itemsSelectedPerPage.each(function(h,f,g){Ext.each(h,function(m,k){var l=this;l.buildSelectedArray(m)},c)},this)}else{var e=b.getSelection();Ext.each(e,function(h,f){var g=this;g.buildSelectedArray(h)},c)}}DCT.Util.getSafeElement("_gridSelectionArray").value=c.selectObject.selectedItems;c.selectObject=null},getTotalSelectionCount:function(c){var d=this;var b=0;if(d.getStore()){var a=d.getSelectionModel();if(a.pagingSelection){a.itemsSelectedPerPage.each(function(g,e,f){b=b+g.length},d)}else{b=a.getCount()}}return b},reloadData:function(){var a=this;a.store.oldItems=a.store.data.items;DCT.Grid.applyFilterToDataStore(a.store)},afterReloadData:function(c){var b=this;var a=[];if(!Ext.isEmpty(b.oldItems)&&b.oldItems.length<b.data.items.length){Ext.each(b.data.items,function(e,d,g){var f=false;Ext.each(b.oldItems,function(h,l,k){if(e.id===h.id){f=true}});if(!f){a.push(d)}});Ext.each(a,function(e,d,g){var f=b.grid.getView().getRow(e);Ext.get(f).highlight()})}if(!Ext.isEmpty(b.oldItems)){DCT.hubEvents.fireEvent("ajaxcomplete")}},addDropZone:function(){var b=this;if(b.supportsDragDrop()){var c=b.el.wrap(),a=Ext.get("dropZone"),d=null;if(a){d=a.dom}else{d=c.createChild({id:"dropZone",tag:"div",})}b.fileUpload=Ext.create("DCT.SystemDropFileField",{renderTo:d});var d=Ext.get("dropZone").dom;b.fileUpload.onDrop=Ext.emptyFn;d.addEventListener("drop",function(f){return b.onDrop(f)},false);d.addEventListener("dragenter",b.stopEvent,false);d.addEventListener("dragleave",b.stopEvent,false);d.addEventListener("dragover",b.stopEvent,false)}else{b.createFileUploadArea(b)}b.bindListeners()},createFileUploadArea:function(a){},getFileData:function(c,b,a){},onDrop:function(b){var a=this;Ext.each(b.dataTransfer.files,function(e,c,f){var d=this;b.stopPropagation();b.preventDefault();d.fileUpload.onDragLeave(b);d.submitFile(e)},a)},bindListeners:function(){var a=this;a.fileUpload.on("fileselected",function(){a.submitFile()},a)},stopEvent:function(a){a.stopPropagation();a.preventDefault()},submitFile:function(c){var b=this;var a={url:DCT.Util.getPostUrl(),scope:b,headers:{"Content-Type":null},useDefaultXhrHeader:false,processFormData:true,success:function(d){b.reloadData()},callback:function(e,g,f){b.handleErrors(f);DCT.LoadingMessage.hide();b.fileUpload.reset()}};a=b.getFileData(b,c,a);DCT.LoadingMessage.show();Ext.Ajax.request(a)},handleErrors:function(b){var e;if(b.responseText.substring(0,1)==="{"){var b=Ext.decode(b.responseText);if(!Ext.isEmpty(b)&&!Ext.isEmpty(b.error)){Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:b.error}).show()}}else{if(b.responseText.search("Server Error")>-1){var c=b.responseXML||DCT.Util.loadXMLString(b.responseText);var d=c.title;if(Ext.isEmpty(d)){var a=DCT.Util.getSingleNode(c,"/html/head/title");if(!Ext.isEmpty(a)){d=a.innerHTML}}if(!Ext.isEmpty(d)){Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:d}).show()}}}},supportsDragDrop:function(){var a=document.createElement("div");return("ondragenter" in a&&"ondragleave" in a&&"ondragleave" in a&&"ondrop" in a)&&a.addEventListener&&window.FileList}});DCT.Util.reg("dctbasegridpanel","baseGridPanel","DCT.BaseGridPanel");Ext.define("DCT.EditorGridPanel",{extend:"DCT.BaseGridPanel",inputXType:"dcteditorgridpanel",hidden:false,enableColumnMove:true,xtype:"dcteditorgridpanel",setDataStore:function(b){var c=this,a=b.dctStoreConfig.fields;if(Ext.isEmpty(Ext.Array.findBy(a,function(e,d){if(e.hasOwnProperty("id")){return true}},c))){b.dctStoreConfig.fields.push({name:"id",mapping:b.dctStoreConfig.idProperty})}b.store=Ext.create("DCT.EditPagingStore",b.dctStoreConfig)},setPlugins:function(a){a.plugins=[{ptype:"dctcellediting"}]},setColumnModel:function(a){a.columns={items:a.dctColumnModel,sortAscText:DCT.T("SortAscending"),sortDescText:DCT.T("SortDescending"),columnsText:DCT.T("Columns")}},setGridView:function(a){var b={cellTpl:['<td class="{tdCls}" {tdAttr} {cellAttr:attributes}',' style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>"','<tpl if="column.cellFocusable === false">',' role="presentation"',"<tpl else>",' role="{cellRole}" tabindex="-1"',"</tpl>",'  data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','<tpl if="record.store.grid.view.debugModeOn">','columnRef="InterviewGrid_{column.dataIndex}" ',"</tpl>",'style="text-align:{align};<tpl if="style">{style}</tpl>" {cellInnerAttr:attributes}>','<tpl if="values.column.renderer">',"{value}","<tpl else>","{[this.checkForXSS(values.record.data[values.column.dataIndex])]}","</tpl>","</div>","</td>",{priority:0,checkForXSS:function(c){if(Ext.util.Format.htmlDecode(c)==c){return Ext.util.Format.htmlEncode(c)}else{return c}}}]};if(Ext.isDefined(a.dctViewConfig)){Ext.apply(a.dctViewConfig,b)}else{a.dctViewConfig=b}a.viewConfig=a.dctViewConfig},setListeners:function(a){var b=this;a.listeners={boxready:{fn:function(d,c){var e=this;Ext.Function.defer(d.updateLayout,10,e)},scope:b}}},setBottomToolbar:function(a){var b=this;if(a.dctPagingBarConfig){Ext.apply(a.dctPagingBarConfig,{store:a.store});a.bbar=Ext.create("DCT.EditPageToolbar",a.dctPagingBarConfig)}}});DCT.Util.reg("dcteditorgridpanel","interviewEditorGridPanel","DCT.EditorGridPanel");Ext.define("DCT.NonPagingGridPanel",{extend:"DCT.BaseGridPanel",inputXType:"dctnonpaginggridpanel",xtype:"dctnonpaginggridpanel"});DCT.Util.reg("dctnonpaginggridpanel","nonPagingGridPanel","DCT.NonPagingGridPanel");Ext.define("DCT.PagingGridPanel",{extend:"DCT.BaseGridPanel",inputXType:"dctpaginggridpanel",xtype:"dctpaginggridpanel",setBottomToolbar:function(a){if(a.dctPagingBarConfig){Ext.apply(a.dctPagingBarConfig,{store:a.store});a.bbar=Ext.create("DCT.PageToolbar",a.dctPagingBarConfig)}}});DCT.Util.reg("dctpaginggridpanel","pagingGridPanel","DCT.PagingGridPanel");Ext.define("DCT.BaseXmlStore",{extend:"Ext.data.XmlStore",inputXType:"dctbasexmlstore",autoDestroy:true,xtype:"dctbasexmlstore",constructor:function(a){var b=this;b.setStoreItems(a);b.setProxyItems(a);b.setListeners(a);b.setStartPage(a);b.setAdjustedCount(a);b.callParent([a])},setStoreItems:function(a){},setAdjustedCount:function(a){var b=this;if(a.dctGetAdjustedCountMethod){a.getAdjustedCount=a.dctGetAdjustedCountMethod}},setProxyItems:function(a){a.proxy={type:"ajax",actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:DCT.Util.getProxyUrl(),simpleSortMode:true,reader:{type:"xml",keepRawData:true,record:a.record}}},setStartPage:function(a){a.currentPage=(a.dctStart>0)?(a.dctStart/a.pageSize)+1:1},setListeners:function(a){var b=this;if(a.proxy.type!=="memory"){a.listeners={beforeload:{fn:function(d,c,e){var f=this;f.setBeforeLoadParams(d,c,f.getLocalParams())},scope:b},load:{fn:function(e,d,l,c){var g=this,h=false,f=null,k=null;if(!l){h=true}else{if(!Ext.isEmpty(c.getResponse())){f=Ext.DomQuery.selectNode("/session[@timedOut]",c.getResponse().responseXML);k=Ext.DomQuery.selectNode("/page/content/errors",c.getResponse().responseXML)}}if(h||(f)){DCT.Util.getSafeElement("_targetPage").value="login";DCT.Submit.submitForm()}else{if(k){DCT.ajaxProcess.handleErrorType({value:k.outerHTML})}if(g.dctLoadMethod){g.dctLoadMethod(e,d,l)}}Ext.Function.defer(function(){var m=this;if(e.grid){e.grid.updateLayout()}},500,g)},scope:b}}}else{a.listeners={refresh:{fn:function(d,e){var f=this;var c=DCT.Util.getFocusField();if(!Ext.isEmpty(c)){Ext.Function.defer(DCT.Util.activateField,10,f,[c])}},scope:b}}}},getLocalParams:function(){var a=this;var b={_targetPage:a.dctTargetPage,_gridRequest:"1",_queryFilterSubSet:a.dctFilterSubSet};if(DCT.manuscriptID&&DCT.topic&&DCT.page){Ext.apply(b,{_manuScriptID:DCT.manuscriptID,_topic:DCT.topic,_page:DCT.page})}return b}});Ext.define("DCT.NonPagingStore",{extend:"DCT.BaseXmlStore",inputXType:"dctnonpagingstore",remoteSort:false,remoteFilter:false,autoLoad:true,xtype:"dctnonpagingstore"});Ext.define("DCT.PagingStore",{extend:"DCT.BaseXmlStore",inputXType:"dctpagingstore",remoteSort:true,remoteFilter:true,xtype:"dctpagingstore",setProxyItems:function(a){var b=this;var c=Ext.get(a.dctGridId+"_gridHiddenInputs");if(!Ext.isEmpty(c)){a.proxy={type:"memory",data:b.getGridXml(c.getAttribute("data-grid-xml")),reader:{type:"xml",keepRawData:true,record:a.record,totalProperty:a.totalProperty}}}else{a.proxy={type:"ajax",actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:DCT.Util.getProxyUrl(),simpleSortMode:true,reader:{type:"xml",keepRawData:true,record:a.record,totalProperty:a.totalProperty}}}},getGridXml:function(a){var b;if(window.ActiveXObject){b=new ActiveXObject("Microsoft.XMLDOM");b.setProperty("ProhibitDTD",true);b.async="false";b.loadXML(a)}else{var c=new DOMParser();b=c.parseFromString(a,"text/xml")}delete a;return(b.documentElement)}});Ext.define("DCT.EditPagingStore",{extend:"DCT.PagingStore",inputXType:"dcteditpagingstore",anchorObjects:Ext.create("Ext.util.MixedCollection",{}),autoLoad:true,xtype:"dcteditpagingstore",setStartPage:function(a){a.currentPage=(a.dctStart)?(a.dctStart/a.pageSize)+1:1}});Ext.define("DCT.ArrayStore",{extend:"Ext.data.ArrayStore",inputXType:"dctarraystore",autoDestroy:true,idIndex:0,xtype:"dctarraystore",constructor:function(a){var b=this;b.setStoreItems(a);b.callParent([a])},setStoreItems:function(a){var b=this;a.idIndex=b.idIndex}});Ext.define("DCT.DataStore",{override:"Ext.data.Store",setBeforeLoadParams:function(c,b,g){var d=this;var f=(c.lastOptions.params)?c.lastOptions.params:{};var a=Ext.copyTo({},f,[c.proxy.getStartParam(),c.proxy.getLimitParam(),c.proxy.getSortParam(),c.proxy.getDirectionParam()]);c.lastOptions.params=a;var e=Ext.apply(DCT.Util.buildBaseParams(),g);b.setParams(e);if(d.anchorObjects){d.anchorObjects.clear()}}});Ext.define("DCT.GridToolbar",{extend:"Ext.Toolbar",inputXType:"dctgridtoolbar",xtype:"dctgridtoolbar",constructor:function(a){var b=this;b.setToolbarItems(a);b.callParent([a])},setToolbarItems:function(a){var b=this;a.items=[a.dctTitle,"->"];if(a.dctPreviewGrid){a.items.push({icon:DCT.imageDir+"icons/table_sort.png",iconCls:"x-btn-icon",tooltip:a.dctShowPreviewToolTip,tooltipType:"title",pressed:a.dctInitialPreview,enableToggle:true,allowDepress:true,id:"gridPreviewButton"+a.dctGridId,toggleHandler:b.togglePreview,scope:b})}if(!a.dctCheckBoxSelection||a.dctGridCheckboxwithButtons){a.items.push({icon:DCT.imageDir+"icons/disk.png",iconCls:"x-btn-icon",tooltip:DCT.T("SaveTableSettings"),tooltipType:"title",disabled:false,id:"persistStateButton"+a.dctGridId,handler:b.persistStateClick,scope:b});a.items.push({icon:DCT.imageDir+"icons/arrow_rotate_clockwise.png",iconCls:"x-btn-icon",tooltip:DCT.T("RestoreDefaults"),tooltipType:"title",disabled:false,id:"clearStateButton"+a.dctGridId,handler:b.clearStateClick,scope:b})}a.items.push({icon:DCT.imageDir+"icons/help.png",iconCls:"x-btn-icon",tooltip:DCT.T("HowToConfigureTableSettings"),tooltipType:"title",disabled:false,id:"gridHelpButton"+a.dctGridId,handler:b.displayGridHelpPopUp,scope:b})},togglePreview:function(b,d){var c=this;var a=Ext.getCmp(c.dctGridId);a.getPlugin("preview").toggleExpanded(d)},persistStateClick:function(b,e){var d=this;var a=Ext.getCmp(d.dctGridId);d.persistGridState(a);b.disable();var c=a.getDockedItems("dctgridtoolbar");if(!Ext.isEmpty(c)){c[0].getComponent("clearStateButton"+d.dctGridId).enable()}},clearStateClick:function(b,e){var d=this;var a=Ext.getCmp(d.dctGridId);var c=Ext.Date.add(new Date(),Ext.Date.DAY,3650);Ext.util.Cookies.clear(d.dctGridId);d.setOriginalGridState(a)},persistGridState:function(){var c=this;var a=Ext.getCmp(c.dctGridId);var f=a.pullGridState(a);try{var b=Ext.Date.add(new Date(),Ext.Date.DAY,3650);Ext.util.Cookies.set(c.dctGridId,f,b)}catch(d){}},setOriginalGridState:function(a){var h=Ext.decode(a.originalGridConfig);var c,d;var l=a.getColumnManager();for(var e=0;e<h.length;e++){c=l.getHeaderByDataIndex(h[e].dataIndex);if(c){if(h[e].flex&&(h[e].flex!=c.flex)){c.setFlex(h[e].flex)}if(c.fullColumnIndex!=e){l.headerCt.move(c.fullColumnIndex,e)}if(h[e].hidden&&!c.isHidden()){c.hide()}if(!h[e].hidden&&c.isHidden()){c.show()}if(h[e].width&&(h[e].width!=c.width)){c.setWidth(h[e].width)}if(h[e].sortState){d={direction:h[e].sortState,dataIndex:h[e].dataIndex}}}if(h[e].dataIndex=="perpage"+a.id){var b=h[e].value;var k=Ext.getCmp("perpage"+a.id);var f=k.findRecord("id",b);var g=k.store.indexOf(f);if(g>=0){k.setValue(f.id);k.fireEvent("select",k,f)}}}if(d){a.store.sort(d.dataIndex,d.direction)}else{a.store.sorters.clear();a.view.refresh()}},displayGridHelpPopUp:function(){DCT.Util.removeTabs(true);var b=Ext.getCmp("gridHelpDialog");if(b){return}var a=Ext.create("DCT.GridHelpDialog",{id:"gridHelpDialog"});a.show()}});Ext.define("DCT.PageToolbar",{extend:"Ext.PagingToolbar",inputXType:"dctpagetoolbar",displayMsg:DCT.T("DynamicResultsFound"),emptyMsg:DCT.T("NoResultsToDisplay"),beforePageText:DCT.T("Grid_BeforePageText"),afterPageText:DCT.T("Grid_AfterPageText"),firstText:DCT.T("FirstPage"),prevText:DCT.T("PreviousPage"),nextText:DCT.T("NextPage"),lastText:DCT.T("LastPage"),refreshText:DCT.T("Refresh"),displayInfo:true,xtype:"dctpagetoolbar",constructor:function(a){var b=this;b.setPlugins(a);b.setItems(a);b.callParent([a])},setPlugins:function(b){var a=[];switch(b.dctPagingPluginType){case"slider":a.push(Ext.create("Ext.ux.SlidingPager",{}));break;case"progress":a.push(Ext.create("Ext.ux.ProgressBarPager",{}));break;default:a=undefined;break}b.plugins=a},setItems:function(a){var b=this;if(a.showItemsPerPageCombo){a.items=[{xtype:"tbseparator"},{xtype:"tbtext",html:DCT.T("ItemsPerPage")},{xtype:"combobox",id:"perpage"+a.dctGridId,name:"perpage"+a.dctGridId,width:45,grow:true,store:{xtype:"array",fields:["id"],data:[["10"],["25"],["50"],["100"]]},listeners:{select:{fn:function(e,c,d){b.pageSize=b.store.pageSize=parseInt(c.get("id"),10);b.store.currentPage=1;b.doRefresh();var f=Ext.getCmp("persistStateButton"+b.dctGridId);if(f){f.enable()}},acope:b}},mode:"local",value:"10",displayField:"id",valueField:"id",editable:false,forceSelection:true,selectOnFocus:false}]}}});Ext.define("DCT.EditPageToolbar",{extend:"DCT.PageToolbar",inputXType:"dcteditpagetoolbar",displayMsg:DCT.T("DynamicResultsFound"),emptyMsg:DCT.T("NoResultsToDisplay"),displayInfo:true,xtype:"dcteditpagetoolbar",setPlugins:function(a){},moveFirst:function(){var b=this,a=b.store;a.currentPage=1;b.ajaxPaging(1,"interview",a.dctGroupIndex)},movePrevious:function(){var d=this,a=d.store,b=a.getPageSize(),c=a.currentPage-1,e=((c-1)*b)+1;d.ajaxPaging(e,"interview",a.dctGroupIndex)},moveNext:function(){var d=this,a=d.store,b=a.getPageSize(),c=a.currentPage+1,e=((c-1)*b)+1;d.ajaxPaging(e,"interview",a.dctGroupIndex)},moveLast:function(){var d=this,a=d.store,b=a.getPageSize(),c=d.getPageData().pageCount,e=((c-1)*b)+1;d.ajaxPaging(e,"interview",a.dctGroupIndex)},doRefresh:function(){var c=this,a=c.store,b=a.getPageSize(),e=a.currentPage,d=((e-1)*b)+1;c.ajaxPaging(d,"interview",a.dctGroupIndex)},ajaxPaging:function(a,c,b){if(DCT.Util.validateFields()){var d=(Ext.getDom("_groupPaging"))?Ext.getDom("_groupPaging").value:null;if(d){DCT.Util.getSafeElement("_groupIndex").value=b;DCT.Util.getSafeElement("_groupStart").value=a;DCT.Util.getSafeElement("_pagingGroups").value=d}Ext.getDom("_iterationStartIndex").value=a;DCT.Util.getSafeElement("_action").value="";Ext.getDom("_pageChange").value="1";DCT.Util.getSafeElement("_targetPage").value=c;document.forms[0].action=DCT.postPage;document.forms[0].target="";DCT.ajaxProcess.completeContentAjax()}}});Ext.define("DCT.GridHelpDialog",{extend:"Ext.Window",dctControl:true,inputXType:"dctgridhelpdialog",modal:true,plain:true,width:650,height:200,title:DCT.T("Help"),layout:"fit",collapsible:false,shadow:true,stateful:false,xtype:"dctgridhelpdialog",constructor:function(a){var b=this;b.checkControlExists(a);b.setItems(a);b.setListeners(a);b.callParent([a])},setItems:function(a){var b=this;a.items=Ext.create("Ext.form.FormPanel",{defaultType:"displayfield",bodyBorder:false,id:"gridHelpFormId",formId:"gridHelpForm",items:[{style:"margin-top:5px;",hideLabel:true,anchor:"100%",value:"To configure table settings:"},{hideLabel:true,anchor:"100%",value:"To sort entries by column heading, click the appropriate heading."},{hideLabel:true,anchor:"100%",value:"To rearrange column order, click the column heading and drag it to the desired position."},{hideLabel:true,anchor:"100%",value:"To configure other table settings, right-click in the column heading and select the desired option."}],buttons:[{text:DCT.T("Close"),id:"closeButton",handler:function(){var c=this;c.closeDialog()},scope:b}]})},setListeners:function(a){var b=this;a.listeners={show:{fn:function(c){Ext.getCmp("closeButton").focus(false,5)},scope:b},close:{fn:function(){var c=this;c.closeDialog()},scope:b},hide:{fn:function(){var c=this;c.closeDialog()},scope:b}}},closeDialog:function(){var a=this;DCT.Util.removeTabs(false);a.destroy()}});DCT.Util.reg("dctgridhelpdialog","gridHelpDialog","DCT.GridHelpDialog");Ext.apply(DCT.Util,{getPopUpWidth:function(b){var a=Ext.DomQuery.selectValue("@popUpWidth",b);return(Ext.isDefined(a))?a:"750"},getPopUpHeight:function(b){var a=Ext.DomQuery.selectValue("@popUpHeight",b);return(Ext.isDefined(a))?a:"500"},applyCellStyles:function(a,d,b,e){if(a.tdCls.charAt(a.tdCls.length-1)!=" "){a.tdCls+=" "}var c=Ext.getCmp(b);if(Ext.isDefined(c)){if(!a.column.dataReadOnly&&!e&&c.xtype!="dctinputdisplayfield"){if(c.dctRequired=="1"&&Ext.isEmpty(d)){a.tdCls+=" x-form-invalid ";a.attr='data-qtip="'+DCT.T("FieldRequired")+'"; data-qclass="x-form-invalid-tip"'}else{a.tdCls+="editable "}}else{a.tdCls+="uneditable "}}else{if(!a.column.dataReadOnly&&!e){a.tdCls+="editable "}else{a.tdCls+="uneditable "}}if(a.column.dataFieldCls){a.tdCls+=a.column.dataFieldCls;a.tdCls+=" "}},dateInterviewColumnRender:function(a,c,l,k,p,q,m,b){var h=this;var r=h.getEliminate(c,l);var f=h.getType(c,l);var e="uid_"+c.column.dataIndex;var g=l.get(e);var o=Ext.getCmp(g);var d=(Ext.isEmpty(a)||r)?"":a;if(!r){if(Ext.isDefined(o)){if(!b||c.column.dataReadOnly||o.xtype=="dctinputdisplayfield"){d=o.getValue()}else{if(!Ext.isEmpty(a)){d=o.getRawValue()}}}else{if(!Ext.isEmpty(a)){var s;if(f=="datetime"){s=Ext.getDom("_hiddenExtJsDateTimeformat").value;if(a.indexOf(" ")>-1){a=a.replace(" ","T")}if(a.indexOf("T")>-1){a=a.substring(0,19)+"Z"}a=new Date(a);a=new Date(a.getTime()+(a.getTimezoneOffset()*60000))}else{s=Ext.getDom("_hiddenExtJsDateformat").value}d=Ext.Date.format(a,s)}}DCT.Util.applyCellStyles(c,a,g,r)}return d},textInterviewColumnRender:function(g,w,o,k,m,v,l,x){var y=this;var r=y.getEliminate(w,o);var q=(Ext.isEmpty(g)||r)?"":g;if(!r){var f=y.getType(w,o);var d="uid_"+w.column.dataIndex;var e=o.get(d);var p="fieldInstance[@uid='"+e+"']";var s=Ext.DomQuery.selectNode(p,o.store.proxy.reader.rawData);var b=Ext.getCmp(e);var a=Ext.DomQuery.selectValue("@qtip",s);if(Ext.isDefined(a)){w.attr+='title="'+a+'"'}if(Ext.isDefined(b)){if(!x||w.column.dataReadOnly){q=b.getValue()}else{if(Ext.isDefined(b.formatter)&&!Ext.isEmpty(g)){q=b.formatter(g)}}}else{if(f=="float"||f=="int"){var h=Ext.DomQuery.selectValue("@formatMask",s);var c=Ext.getDom("_hiddenFormatNumMask").value;if(Ext.isEmpty(h)){h=""}if(!Ext.isEmpty(c)){if(c.charAt(0)=="!"){h=h+c}else{h=c}}else{h=null}var t=Ext.create("DCT.Formatting",{numberType:f,numberMask:h});q=t.formatFloat(g)}else{if(f=="string"){var h=Ext.DomQuery.selectValue("@formatMask",s);var u=Ext.create("DCT.StringFormatting",{stringFormatMask:h});q=u.formatString(g)}}}DCT.Util.applyCellStyles(w,g,e,r)}return Ext.util.Format.htmlEncode(q)},booleanInterviewBeforeChange:function(b,d,c,a){if(b.dataReadOnly){return false}return true},booleanInterviewAfterChange:function(c,g,k,f){var a=c.getView().grid;var h=a.store.getAt(g);var d="uid_"+c.dataIndex;var e=h.get(d);var b=Ext.getCmp(e);if(Ext.isDefined(b)){b.setValue(k)}},booleanInterviewColumnRender:function(a,d,g,f,l,m,h,b){var e=this;var p=e.getEliminate(d,g);var c=Ext.baseCSSPrefix,o=c+"grid-checkcolumn";if(d.column.dataReadOnly||p){d.tdCls+=" "+h.disabledCls;d.tdCls+=" uneditable "}else{d.tdCls+=" editable "}var k=(typeof(a)=="boolean")?a:((a=="0")?false:true);if(k){o+=" "+c+"grid-checkcolumn-checked"}return'<span class="'+o+'" role="button" tabindex="-1" data-tabindex-value="0" data-tabindex-counter="1"></span>'},listInterviewColumnRender:function(a,c,l,k,p,q,m,b){var h=this;var s=h.getEliminate(c,l);var e=(Ext.isEmpty(a)||s)?"":a;if(!s){var d="uid_"+c.column.dataIndex;var f=l.get(d);var g="fieldInstance[@uid='"+f+"']";var r=Ext.DomQuery.selectNode(g,l.store.proxy.reader.rawData);if(!b||c.column.dataReadOnly){var o=Ext.getCmp(f);if(Ext.isDefined(o)){return o.getValue()}}g="list/option[@value='"+a+"']/@caption";e=Ext.DomQuery.selectValue(g,r);DCT.Util.applyCellStyles(c,a,f,s)}return e},getEliminate:function(d,g){var c="uid_"+d.column.dataIndex;var f=g.get(c);var e="fieldInstance[@uid='"+f+"']";var b=Ext.DomQuery.selectNode(e,g.store.proxy.reader.rawData);e="@eliminate";var a=Ext.DomQuery.selectValue(e,b);return((!Ext.isEmpty(a)&&(a=="1"||a=="-1"))?true:false)},getReadOnly:function(c,f){var b="uid_"+c.column.dataIndex;var e=f.get(b);var d="fieldInstance[@uid='"+e+"']";var a=Ext.DomQuery.selectNode(d,f.store.proxy.reader.rawData);d="@readOnly";var g=Ext.DomQuery.selectValue(d,a);return((!Ext.isEmpty(g)&&g=="1")?true:false)},getType:function(d,g){var c="uid_"+d.column.dataIndex;var f=g.get(c);var e="fieldInstance[@uid='"+f+"']";var b=Ext.DomQuery.selectNode(e,g.store.proxy.reader.rawData);e="@type";var a=Ext.DomQuery.selectValue(e,b);return(a)},getSessionId:function(b,a){var c=Ext.DomQuery.selectValue("/page/state/sessionID",b);return(c!=undefined)?c:Ext.DomQuery.selectValue("@sessionID",a)},getManuscriptId:function(c,b){var a=Ext.DomQuery.selectValue("/page/content/getPage/properties/@manuscriptID",c);return(a!=undefined)?a:Ext.DomQuery.selectValue("@manuscript",b)},checkForDeleteConfirmation:function(a){return(Ext.DomQuery.selectValue("@AreYouSure",a)=="1"||Ext.DomQuery.selectValue("@areyousure",a)=="1"||Ext.DomQuery.selectValue("@checkDelete",a)=="1"||Ext.DomQuery.selectValue("@checkdelete",a)=="1")?"1":"0"},anchorInterviewColumnRenderer:function(l,z,r,p,q,x){l=(Ext.isEmpty(l))?"":l;var h={};var f="actionId_"+z.column.dataIndex;var t=r.get(f);if(t==null){return""}var s="action[@id='"+t+"']";var e=Ext.DomQuery.select(s,r.store.proxy.reader.rawData);var v=(Ext.isEmpty(e))?null:e[0];if(Ext.isEmpty(v)){return""}var b=Ext.DomQuery.select("server/requests",v);var u,g;for(var w=0;w<b[0].childNodes.length;w++){if(Ext.isDefined(u)&&Ext.isDefined(g)){break}if(!Ext.isDefined(u)&&b[0].childNodes[w].nodeName==="ManuScript.getPageRq"){u=b[0].childNodes[w];continue}if(!Ext.isDefined(g)&&b[0].childNodes[w].nodeName==="Session.resumeRq"){g=b[0].childNodes[w]}}h.actionName=Ext.DomQuery.selectValue("@uid",v);h.actionUrl=Ext.DomQuery.selectValue("@actionUrl",u);h.attachmentId=Ext.DomQuery.selectValue("@attachmentId",u);h.returnPage=Ext.DomQuery.selectValue("@returnPage",u);h.pdfPage=Ext.DomQuery.selectValue("@PDFPage",u);h.preEventField=Ext.DomQuery.selectValue("@preEventField",u);h.preEventFieldAlertOnly=Ext.DomQuery.selectValue("@preEventFieldAlertOnly",u);h.preEventFieldConfirm=Ext.DomQuery.selectValue("@preEventFieldConfirm",u);h.preEventFieldConfirmText=Ext.DomQuery.selectValue("@preEventFieldConfirmText",u);h.isConfirm=Ext.DomQuery.selectValue("@Confirm",u);h.confirmText=(h.isConfirm=="1")?Ext.DomQuery.selectValue("@confirmText",u):undefined;h.popUp=Ext.DomQuery.selectValue("@popUp",u);h.newWindow=Ext.DomQuery.selectValue("@newWindow",u);var a=Ext.DomQuery.selectValue("@objectID",u);h.parameters={objectID:a};h.popUpWidth=Number(DCT.Util.getPopUpWidth(u));h.popUpHeight=Number(DCT.Util.getPopUpHeight(u));h.popUpTitle=Ext.DomQuery.selectValue("@popUpTitle",u);h.hideCloseButton=Ext.valueFrom(Ext.DomQuery.selectValue("@hideCloseButton",u),false);h.popUpClass=Ext.valueFrom(Ext.DomQuery.selectValue("@popUpClass",u),"");h.cancelChanges=Ext.DomQuery.selectValue("@cancelChanges",u);var o=Ext.DomQuery.selectValue("@page",u);var d=Ext.DomQuery.selectValue("@topic",u);var m=((o==DCT.page)&&(d==DCT.topic))?"1":"0";h.ignoreValidation=Ext.DomQuery.selectValue("@ignoreValidation",u);h.skipValidation=(h.ignoreValidationignoreValidation=="1"||m=="1")?"1":"0";h.manuscriptId=DCT.Util.getManuscriptId(r.store.proxy.reader.rawData,u);h.sessionId=DCT.Util.getSessionId(r.store.proxy.reader.rawData,g);h.suppressRefresh=Ext.DomQuery.selectValue("@suppressRefresh",u);h.isDelete=DCT.Util.checkForDeleteConfirmation(u);h.postAction=Ext.DomQuery.selectValue("@postAction",u);h.partyId=Ext.DomQuery.selectValue("PartyId",v);h.integrationImportRq=Ext.DomQuery.selectValue("@IntegrationImportRq",u);h.interViewAction=(Ext.isEmpty(h.postAction))?"":h.postAction.substring(h.postAction.indexOf(":")+1);h.alertMsg=Ext.DomQuery.selectValue("@alertMsg",u);h.alertMsgTitle=Ext.DomQuery.selectValue("@alertMsgTitle",u);h.alertMsgClass=Ext.DomQuery.selectValue("@alertMsgClass",u);h.qtip=Ext.DomQuery.selectValue("@qtip",u);h.isDeleteCmd=(Ext.DomQuery.selectValue("@command",u)=="delete"||Ext.DomQuery.selectValue("@command",u)=="markForDelete");h.isList=(x.dctPageSize>0);h.runForPortal=Ext.DomQuery.selectValue("@runForPortal",u);if(!Ext.isEmpty(h.alertMsg)){h.processType="alertMsg"}else{if(!Ext.isEmpty(h.runForPortal)){var k="";var B=this;if(!Ext.isEmpty(DCT.portals)){Ext.each(DCT.portals,function(C){if(C.portalType.toLowerCase()==h.runForPortal.toLowerCase()){k=C.name}},B)}h.processType="runForPortal";h.parameters={_PortalName:k};Ext.each(u.attributes,function(C){if(C&&C.name){h.parameters[C.name]=C.value}})}else{if(Ext.isDefined(h.actionUrl)){h.processType="actionUrl"}else{if(Ext.isDefined(h.pdfPage)){h.processType="pdfPage"}else{if(h.interViewAction.search("download")!=-1){h.processType="download"}else{if(h.interViewAction=="integrationReturn"){h.processType="integrationReturn"}else{if(h.interViewAction=="partyReturn"){h.processType="partyReturn"}else{if(Ext.isDefined(h.popUp)){h.processType="popUp"}else{if(h.interViewAction=="billingReturn"){h.processType="billingReturn"}else{if(Ext.isDefined(h.newWindow)){h.processType="newWindow"}else{if(h.interViewAction=="party360"){h.processType="party360"}else{h.processType="default"}}}}}}}}}}}var c=h.actionName;x.anchorObjects.add(c,h);var t='id="'+h.actionName+'" ';var y="DCT.Util.customOnClick(this);DCT.Util.processInterviewGridAnchor('"+x.grid.id+"','"+c+"')";var A=Ext.isIE?u.getAttribute("class"):Ext.DomQuery.selectValue("@class",u);if(!Ext.isDefined(A)){A=""}if(!Ext.isDefined(h.qtip)){h.qtip=""}anchorColumnHTML='<a id="dctGridLink" href="javascript:;" title="'+h.qtip+'" onmousemove="window.status=\'\';" onmouseout="window.status=\'\';" '+t+'onclick="'+y+'" class="'+A+'">'+Ext.util.Format.htmlEncode(l)+"</a>";return anchorColumnHTML}});Ext.define("DCT.TreeColumn",{extend:"Ext.tree.Column",alias:"widget.dcttreecolumn",cellTpl:['<tpl for="lines">','<img src="{parent.blankUrl}" class="{parent.childCls} {parent.elbowCls}-img ','{parent.elbowCls}-<tpl if=".">line<tpl else>empty</tpl>" role="presentation"/>',"</tpl>",'<img src="{blankUrl}" class="{childCls} {elbowCls}-img {elbowCls}','<tpl if="isLast">-end</tpl><tpl if="expandable">-plus {expanderCls}</tpl>" role="presentation"/>','<tpl if="checked !== null">','<input type="button" {ariaCellCheckboxAttr}',' class="{childCls} {checkboxCls}<tpl if="checked"> {checkboxCls}-checked</tpl>"/>',"</tpl>",'<span class="{textCls} {childCls}">{value}</span>']});Ext.define("DCT.TreeGridPanel",{extend:"Ext.tree.Panel",inputXType:"dcttreegridpanel",dctControl:true,xtype:"dcttreegridpanel",forceFit:true,reserveScrollbar:true,lines:false,rootVisible:false,sortableColumns:false,enableColumnMove:false,enableColumnHide:false,height:600,emptyText:DCT.T("NoResultsToDisplay"),constructor:function(a){var b=this;b.checkControlExists(a);b.setModel(a);b.setDataStore(a);b.setColumnModel(a);b.setGridView(a);b.setToolbar(a);b.setListeners(a);a.store.grid=b;b.callParent([a])},setListeners:function(a){},setModel:function(a){},setDataStore:function(a){var b=this;a.store=Ext.create(a.dctStoreClass,a.dctStoreConfig)},setColumnModel:function(a){},setGridView:function(a){var b={cellTpl:['<td class="{tdCls}" {tdAttr} {[Ext.aria ? "id=\\"" + Ext.id() + "\\"" : ""]} style="width:{column.cellWidth}px;<tpl if="tdStyle">{tdStyle}</tpl>" tabindex="-1" {ariaCellAttr} data-columnid="{[values.column.getItemId()]}">','<div {unselectableAttr} class="'+Ext.baseCSSPrefix+'grid-cell-inner {innerCls}" ','<tpl if="record.getTreeStore().grid.view.debugModeOn">','columnRef="{[values.record.getTreeStore().grid.view.debugId]}_{column.dataIndex}" ',"</tpl>",'style="text-align:{align};<tpl if="style">{style}</tpl>" {ariaCellInnerAttr}>{value}</div>',"</td>",{priority:0}],treeRowTpl:["{%","this.processRowValues(values);","this.nextTpl.applyOut(values, out, parent);","%}",{priority:10,processRowValues:function(e){var d=e.record,c=e.view;if(c.getRowTips){c.getRowTips(e)}else{e.rowAttr["data-qtip"]=d.get("qtip")||"";e.rowAttr["data-qtitle"]=d.get("qtitle")||""}if(d.isExpanded()){e.rowClasses.push(c.expandedCls)}if(d.isLeaf()){e.rowClasses.push(c.leafCls)}if(d.isLoading()){e.rowClasses.push(c.loadingCls)}}}]};if(Ext.isDefined(a.dctViewConfig)){Ext.apply(a.dctViewConfig,b)}else{a.dctViewConfig=b}a.viewConfig=a.dctViewConfig},setToolbar:function(b){if(b.dctTreeToolbarClass){var a={dctTitle:b.dctTitle,dctTreeId:b.id,dctDateFormat:b.dctDateFormat,dctDefaultStartDate:b.dctDefaultStartDate};if(b.dctToolbarConfig){Ext.apply(a,b.dctToolbarConfig)}b.tbar=Ext.create(b.dctTreeToolbarClass,a)}}});DCT.Util.reg("dcttreegridpanel","treeGridPanel","DCT.TreeGridPanel");Ext.define("DCT.TreeStore",{extend:"Ext.data.TreeStore",inputXType:"dcttreetore",remoteSort:false,remoteFilter:false,autoLoad:true,autoDestroy:true,xtype:"dcttreetore",constructor:function(a){var b=this;b.setProxyItems(a);b.setListeners(a);b.callParent([a])},setProxyItems:function(a){a.proxy={type:"ajax",actionMethods:{create:"POST",read:"POST",update:"POST",destroy:"POST"},url:DCT.Util.getProxyUrl(),reader:{type:"json"}}},setListeners:function(a){var b=this;a.listeners={beforeload:{fn:function(d,c,e){var f=this;f.setBeforeLoadParams(d,c,f.getLocalParams())},scope:b},load:{fn:function(e,d,g,c){var f=this;if(!g){if(c.error.response.timedout){Ext.getDom("_targetPage").value="login";DCT.Submit.submitForm()}}},scope:b}}},getLocalParams:function(){var a=this;var b={_targetPage:a.dctTargetPage,_gridRequest:"1"};return b}});Ext.define("DCT.BaseTreeToolbar",{extend:"Ext.Toolbar",inputXType:"dctbasetreetoolbar",xtype:"dctbasetreetoolbar",id:"treeToolbar",constructor:function(a){var b=this;b.setToolbarItems(a);b.callParent([a])},setToolbarItems:function(a){},refreshPage:function(a,b){DCT.Submit.submitBillingPage("installmentSchedule","")},toggleTree:function(a,c){var b=this;if(c){Ext.getCmp(b.dctTreeId).collapseAll()}else{Ext.getCmp(b.dctTreeId).expandAll()}},refreshClicked:function(a,c){var b=this;Ext.getCmp("expandCollapse").setPressed();Ext.getCmp(b.dctTreeId).getStore().load()}});Ext.define("DCT.AgencyInstallmentTreeToolbar",{extend:"DCT.BaseTreeToolbar",inputXType:"dctagencyinstallmenttreetoolbar",xtype:"dctagencyinstallmenttreetoolbar",setToolbarItems:function(a){var b=this;a.items=[a.dctTitle,"->",{icon:DCT.imageDir+"icons/arrow_left.png",iconCls:"x-btn-icon",tooltip:DCT.T("Show Policy Term Summary"),id:"policytermsummary",disabled:false,handler:b.policyTermSummary,scope:b}," ",{icon:DCT.imageDir+"icons/arrow_redo.png",iconCls:"x-btn-icon",tooltip:DCT.T("Refresh Page"),id:"refreshpage",disabled:false,handler:b.refreshPage,scope:b}," ",{icon:DCT.imageDir+"icons/table_sort.png",iconCls:"x-btn-icon",tooltip:DCT.T("ExpandCollapse"),id:"expandCollapse",template:Ext.create("Ext.Template",'<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button id="{4}Button" type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>",{compiled:true}),pressed:true,enableToggle:true,allowDepress:true,toggleHandler:b.toggleTree,scope:b}," ",{xtype:"dctinstallmentdatefield",format:a.dctDateFormat,emptyText:DCT.T("StartDate"),name:"_startDate",id:"installmentStartDate",value:a.dctDefaultStartDate}," ",{xtype:"dctinstallmentdatefield",format:a.dctDateFormat,emptyText:DCT.T("EndDate"),name:"_endDate",id:"installmentEndDate"},"-",{icon:DCT.imageDir+"icons/arrow_rotate_clockwise.png",iconCls:"x-btn-icon",tooltip:DCT.T("Refresh"),disabled:false,id:"refresh",handler:b.refreshClicked,scope:b}]},policyTermSummary:function(a,b){DCT.Submit.submitBillingActivity("policy",DCT.Util.getSafeElement("_policyId").value)}});Ext.define("DCT.InstallmentTreeToolbar",{extend:"DCT.BaseTreeToolbar",inputXType:"dctinstallmenttreetoolbar",xtype:"dctinstallmenttreetoolbar",setToolbarItems:function(a){var b=this;a.items=[a.dctTitle,"->",{icon:DCT.imageDir+"icons/table_sort.png",iconCls:"x-btn-icon",tooltip:DCT.T("ExpandCollapse"),id:"expandCollapse",template:Ext.create("Ext.Template",'<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button id="{4}Button" type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>",{compiled:true}),pressed:true,enableToggle:true,allowDepress:true,toggleHandler:b.toggleTree,scope:b}," ",{xtype:"dctinstallmentdatefield",format:a.dctDateFormat,emptyText:DCT.T("StartDate"),name:"_startDate",id:"installmentStartDate",value:a.dctDefaultStartDate}," ",{xtype:"dctinstallmentdatefield",format:a.dctDateFormat,emptyText:DCT.T("EndDate"),name:"_endDate",id:"installmentEndDate"},"-",{icon:DCT.imageDir+"icons/arrow_rotate_clockwise.png",iconCls:"x-btn-icon",tooltip:DCT.T("Refresh"),disabled:false,id:"refresh",handler:b.refreshClicked,scope:b}]}});Ext.define("DCT.Accordion",{extend:"Ext.panel.Panel",requires:["Ext.layout.container.Accordion"],layout:{type:"accordion",titleCollapse:true,animate:false,activeOnTop:false},dctControl:true,collapsible:false,autoScroll:false,border:false,inputXType:"dctaccordion",xtype:"dctaccordion",constructor:function(a){var b=this;b.checkControlExists(a);b.setAccordianItems(a);b.callParent([a]);b.bindConfiguredEvents(a)},setAccordianItems:function(a){var b=this;b.items=[];Ext.get(a.dctAccordion).select(".accordionItem",true).each(function(e,f,d){var c=e.getDataPrefixedAttributes();if(d===0){Ext.apply(c,{collapsed:false})}else{Ext.apply(c,{collapsed:true})}b.items.push(Ext.create("DCT.AccordionItem",c))},b)}});DCT.Util.reg("dctaccordion","accordion","DCT.Accordion");Ext.define("DCT.AccordionItem",{extend:"Ext.panel.Panel",requires:["Ext.layout.container.Accordion"],margins:"0 0 0 0",animCollapse:false,collapsed:true,autoHeight:true,autoScroll:false,inputXType:"dctaccordionitem",xtype:"dctaccordionitem",constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={beforeexpand:{fn:function(c){c.onExpandEvent(c)},scope:b}}},onExpandEvent:function(){var a=this;if(!Ext.isEmpty(a.expandEvent)){DCT.Util.preEventField(DCT.manuscriptID,a.expandEventUid,a.expandEvent,"0","1",false,Ext.Function.createDelayed(a.processExpansion,0,a))}},processExpansion:function(){var a=this;DCT.LoadingMessage.hideAndCancel();DCT.Submit.submitForm()}});Ext.apply(DCT.Util,{searchAgency:function(c,a){if(this.isButtonDisabled(a)){return}var b=Ext.get("clearLink");if(c){this.resetAgencySearchFilters();b.addCls("btnDisabled")}else{b.removeCls("btnDisabled")}DCT.Grid.applySearch(Ext.getCmp("agencyList").getStore(),false)},resetAgencySearchFilters:function(){Ext.getCmp("Agency_Name_Id").setValue("");Ext.getCmp("Agency_PhoneNumber_Id").setValue("");Ext.getCmp("Agency_Address1_Id").setValue("");Ext.getCmp("Agency_City_Id").setValue("");Ext.getCmp("Agency_State_Id").setValue("")},selectAgency:function(a,b){var d=DCT.Util.getParent();d.Ext.getDom("_AgencyID").value=a;d.Ext.getDom("agencyIDField").innerHTML=b;var c=d.Ext.getCmp("agencyList");if(c){c.getStore().loadPage(1,{params:{_AgencyID:a},callback:d.DCT.Util.loadProducerList})}this.closeWindow()},popUpAgencies:function(){DCT.Util.getSafeElement("_popUp").value="1";var a=Ext.create("DCT.PopupWindow",{width:850,height:500,modal:true,dctItemClass:"DCT.AgencyPanel",dctPanelConfig:{dctTargetPage:"selectAgency"}});a.show()},cancelSelectAgency:function(a){if(a=="login"){DCT.Submit.submitPage("logout")}else{this.closeWindow()}},loadProducerList:function(e,f,h){var b;var d=Ext.getCmp("ProducerName");var a=d.getStore();var g="";var c=[];if(e.length>0){d.setValue("");b=Ext.DomQuery.select("/page/content/userList/user",e[0].store.proxy.reader.rawData);if(b.length>0){for(i=0,n=b.length;i<n;i++){producerName=Ext.DomQuery.selectValue("@name",b[i]);producerFullName=Ext.DomQuery.selectValue("@fullName",b[i]);if(Ext.isEmpty(producerFullName)){c.push([producerName,producerName])}else{c.push([producerName,producerFullName])}if(i==0){g=producerName}}}a.loadData(c);d.collapse()}else{if(h){a.removeAll()}}d.setValue(g)}});Ext.define("DCT.AlertMessage",{title:DCT.T("Alert"),xtype:"dctalertmessage",cls:"cMsg",constructor:function(a){var b=this;b.setButton(a);b.setIcon(a);b.callParent([a]);Ext.apply(b,a)},show:function(){var a=this;Ext.MessageBox.show(a)},setButton:function(a){a.buttons=Ext.MessageBox.OK},setIcon:function(a){a.icon=Ext.MessageBox.WARNING}});Ext.define("DCT.RatingMessageToolBar",{extend:"Ext.Toolbar",dctControl:true,cls:"ratingToolBar",inputXType:"dctratingmessagetoolbar",xtype:"dctratingmessagetoolbar",constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);b.setRenderTo(a);b.setToolbarItems(a);b.callParent([a])},setRenderTo:function(a){a.renderTo=(a.renderTo)?a.renderTo:Ext.getBody()},setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(){var c=this;DCT.hubEvents.addListener("ajaxcomplete",c.cleanUpToolbar,c)},scope:b},destroy:{fn:function(){var c=this;DCT.hubEvents.removeListener("ajaxcomplete",c.cleanUpToolbar,c)},scope:b}}},cleanUpToolbar:function(){var a=this,b=Ext.getDom("justMessages");if(!b){a.destroy()}},setToolbarItems:function(a){var b=this;b.items=[{xtype:"button",text:DCT.T("ClickToViewRatingMessages"),icon:DCT.imageDir+"icons/error.png",handler:function(c){var e=Ext.getDom("justMessages").innerHTML;var d=Ext.create("Ext.Window",{width:550,title:DCT.T("RatingMessages"),dctControl:true,scrollable:true,cls:"rateMsgWindow",modal:true,bodyCls:"rateMsgBody",html:"<ul id='rateMsgWinList' class='rateMsgList'>"+e+"</ul>"});d.show()}}]}});DCT.Util.reg("dctratingmessagetoolbar","ratingMessages","DCT.RatingMessageToolBar");Ext.apply(DCT.Util,{displayPDFAttachment:function(c,b,a,d){window.open(DCT.Util.getPostUrl()+"&_submitAction=&_targetPage="+c+"&_attachmentID="+b+"&_moniker="+a+"&_filename="+d+"&mode=popup&_action=","","dependent=yes,hotkeys=no,location=no,width=800,height=600,status=no,resizable=yes,toolbar=no,scrollbars=no")}});Ext.apply(DCT.Submit,{deleteMsgAttachment:function(a){DCT.Util.getSafeElement("_attachmentID").value=a;this.submitPageAction("message","deleteAttachment")},downloadAttachment:function(a,b){DCT.Util.getSafeElement("_attachmentID").value=a;if(Ext.isEmpty(b)){b="policy"}this.submitPageAction(b,"downloadAttachment")}});Ext.define("DCT.CollapsibleGroupPanel",{extend:"Ext.Panel",layout:"auto",border:false,dctControl:true,inputXType:"dctcollapsiblegrouppanel",xtype:"dctcollapsiblegrouppanel",constructor:function(a){var b=this;b.checkControlExists(a);b.setPanelItems(a);b.setListeners(a);b.callParent([a])},setPanelItems:function(a){var b=this;b.items=[];Ext.get(a.renderTo).select(".collapsibleGroupItem",true).each(function(f,g,e){var d={xtype:"dctcollapsiblegroupitem"};var c=f.getDataPrefixedAttributes();Ext.apply(d,c);b.items.push(d)},b)},setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(c){Ext.get(b.renderTo).removeCls("x-hidden")},scope:b}}}});DCT.Util.reg("dctcollapsiblegrouppanel","collapsibleGroupPanel","DCT.CollapsibleGroupPanel");Ext.define("DCT.CollapsibleGroupItem",{extend:"Ext.Panel",margins:"0 0 0 0",animCollapse:true,collapsible:true,titleCollapse:true,hideMode:"offsets",inputXType:"dctcollapsiblegroupitem",xtype:"dctcollapsiblegroupitem",constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);b.callParent([a])},setListeners:function(a){}});Ext.define("DCT.CollapsiblePanel",{extend:"Ext.Panel",header:false,layout:"fit",animCollapse:true,collapsible:false,border:false,collapsed:true,hideMode:"offsets",dctControl:true,inputXType:"dctcollapsiblepanel",xtype:"dctcollapsiblepanel",constructor:function(a){var b=this;b.checkControlExists(a);b.callParent([a])}});DCT.Util.reg("dctcollapsiblepanel","collapsiblePanel","DCT.CollapsiblePanel");Ext.apply(DCT.Util,{toggleSection:function(b){var a=this;var c=Ext.getCmp(b);Ext.get(c.contentEl).select("div[data-cmpid]").each(function(f){var d=f.getAttribute("data-cmpid");d=(d)?d:f.dom.getAttribute("data-cmpid");var e=Ext.getCmp(d);e.setDisabled(!c.collapsed);e.validate()},a);c.toggleCollapse(false)},toggleInterviewSection:function(b){var c=Ext.get(b);if(!Ext.isEmpty(c)){var a=c.prev("[id*=_toggleHeader]")||c.parent().prev("[id*=_toggleHeader]");if(c.isVisible()){if(a){a.addCls("toggle-collapsed")}c.slideOut("t",{useDisplay:false,callback:function(){DCT.Sections.process(b,true);DCT.Sections.collapseChildren(c);c.addCls("x-hidden")}})}else{c.removeCls("x-hidden");if(a){a.removeCls("toggle-collapsed")}c.slideIn("t",{callback:function(){DCT.Sections.process(b,false);DCT.Sections.expandChildren(c)}})}}}});Ext.apply(DCT.Sections,{items:Ext.create("Ext.util.MixedCollection",{}),collapsed:false,savedState:Ext.create("Ext.util.MixedCollection",{}),process:function(b,d){var a=this;var c=a.get(b);a.setCollapsed(c,d)},add:function(a){var b=this;if(!(b.items.containsKey(a.id))){b.items.add(a.id,Ext.create("DCT.Section",a))}},get:function(b){var a=this;return a.items.get(b)},set:function(c,b){var a=this;if(a.items.containsKey(c)){a.items.replace(c,b)}},setCollapsed:function(b,c){var a=this;b.collapsed=c;a.set(b.id,b)},findAllSections:function(){var a=this;Ext.select(".collapsibleSection",true).each(function(d){var c,b;c=d.getDataPrefixedAttributes();a.add(c)},a)},backupCollapsedStates:function(){var a=this;a.items.each(function(b){if(DCT.Sections.savedState.containsKey(b.id)){DCT.Sections.savedState.replace(b.id,b.collapsed)}else{DCT.Sections.savedState.add(b.id,b.collapsed)}})},setSectionStates:function(){var b=new Array();var a;this.items.each(function(c){b.push('"'+c.id+":"+c.collapsed+'"')});a="["+b.toString()+"]";DCT.Util.getSafeElement("_sectionStates").value=a},restoreCollapsedStates:function(){var b=this;var a=false;b.items.each(function(e){if(DCT.Sections.savedState.containsKey(e.id)){var c=DCT.Sections.savedState.get(e.id);var d=e.collapsed;if(c!=d){e.collapsed=c;a=true}}});if(a){b.setSections()}},restoreToSavedStates:function(sectionStates){var needsRefresh=false;var array="";if(sectionStates!=null&&sectionStates.length>2){array=eval("("+sectionStates+")")}for(var i=0;i<array.length;i++){var pair=array[i].split(":");var item=this.items.get(pair[0]);if(item){var savedState=(pair[1]==="true");var currentState=item.collapsed?true:false;if(currentState!=savedState){item.collapsed=savedState;needsRefresh=true}}}if(needsRefresh){this.setSections()}},setSections:function(){var a=this;a.items.each(function(d){var b=Ext.get(d.id);if(b){var c=b.prev("[id*=_toggleHeader]");if(b.isVisible()&&d.collapsed){b.addCls("x-hidden");if(c){c.addCls("toggle-collapsed")}}else{if(!b.isVisible()&&!d.collapsed){b.removeCls("x-hidden");if(c){c.removeCls("toggle-collapsed")}b.setDisplayed(true)}}}})},initialize:function(){var a=DCT.Util.getSafeElement("_sectionStates").value;this.findAllSections();this.setSections();if(this.savedState.getCount()>0){this.restoreCollapsedStates()}else{if(a!=""){this.restoreToSavedStates(a)}}},toggle:function(){var a=this;var b=a.items.filter("collapsed",((a.collapsed)?"true":"false"),true,true);b.each(function(c){a.process(c.id,!a.collapsed);DCT.Util.toggleInterviewSection(c.id)},a);a.collapsed=(a.collapsed)?false:true},toggleAll:function(b){var a=this.items.filter("collapsed",!b,true,true);a.each(function(c){this.process(c.id,b)},this);this.collapsed=b},setToggleButton:function(){var a=Ext.query("div.toggleHeader").length;if(a>0){Ext.get("togglePanelButton").setDisplayed(true)}else{Ext.get("togglePanelButton").setDisplayed(false)}},expandForInvalidFields:function(){var a=this;if(a.items.getCount()>0){a.items.each(function(c){var b=this;if(c.collapsed){var d=Ext.query(".controlContainer",true,Ext.getDom(c.id));Ext.each(d,function(h,e){var f=h.getAttribute("data-cmpid");var g=Ext.getCmp(f);if(g){if(!g.isValid()){DCT.Util.toggleInterviewSection(c.id);return false}}},b)}},a)}},toggleIncludingInterviewSection:function(b){var c=this;var a=c.items.filter("collapsed",!b,true,true);a.each(function(e){var d=this;d.process(e.id,b);DCT.Util.toggleInterviewSection(e.id)},c);c.collapsed=b},expandChildren:function(d){var a=d.query("[id*=toggleItem]");for(var f=0;f<a.length;f++){var b=Ext.get(a[f].id);var e=b.up("[id*=toggleItem]");if(e.id===d.id){var c=b.prev("[id*=_toggleHeader]");if(c&&!c.hasCls("toggle-collapsed")){b.removeCls("x-hidden");b.slideIn("t",{callback:function(h,g){return function(){DCT.Sections.process(h,false);DCT.Sections.expandChildren(g)}}(a[f].id,b)})}}}},collapseChildren:function(d){var c=d.query("[id*=toggleItem]");for(var f=0;f<c.length;f++){var b=Ext.get(c[f].id);var e=b.up("[id*=toggleItem]");if(e.id===d.id){var a=b.prev("[id*=_toggleHeader]");if(a){b.slideOut("t",{useDisplay:false,callback:function(h,g){return function(){h.addCls("x-hidden");DCT.Sections.process(c[g].id,true);DCT.Sections.collapseChildren(h)}}(b,f)})}}}}});Ext.define("DCT.Section",{collapsed:false,id:"",constructor:function(a){var b=this;b.collapsed=a.collapsed;b.id=a.id;b.callParent([a])}});Ext.define("DCT.Ajax",{processingBlur:false,chkboxChanged:false,requestCount:0,requestQueue:[],holdActionField:null,ajaxType:"",hiddenInputAdditions:[],constructor:function(a){var b=this;b.callParent([a])},incrementCount:function(){var a=this;a.requestCount++},decrementCount:function(){var a=this;a.requestCount--;Ext.defer(function(){if(a.requestCount===0){a.runQueuedRequest()}},1)},postServerMessage:function(xmlText,headerText,callback,invisible,ajaxType){var me=this;var parmsData=null;var xmlData=null;me.processingBlur=true;me.ajaxType=ajaxType;if(headerText.search("Ajax")!=-1){xmlData=xmlText}else{parmsData=xmlText}me.incrementCount();Ext.Ajax.request({url:DCT.Util.getProxyUrl(),headers:{"Content-Type":headerText+"; charset=UTF-8"},useDefaultHeader:false,params:parmsData,xmlData:xmlData,timeout:Ext.Ajax.timeout,scope:me,callback:function(options,success,response){if(!invisible&&me.requestQueue.length===0){DCT.LoadingMessage.hideAndCancel()}},success:function(transport,options){var me=this;try{var headers=transport.getAllResponseHeaders();var contentType=headers["content-type"];headerText=contentType.split(";")[0];var response=(headerText=="text/xml")?transport.responseXML:Ext.decode(transport.responseText,true);var isHTML=((headerText!="text/xml")&&(response==null)&&(!Ext.isEmpty(transport.responseText))&&(transport.responseText.match(/html/i)!=null));if(!Ext.isEmpty(response)){if(Ext.isIE&&(headerText=="text/xml")){var doc=new ActiveXObject("Msxml2.DOMDocument.6.0");doc.loadXML(transport.responseText);response=doc}if(Ext.DomQuery.selectNumber("/session/@timedOut",response)==1){Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:DCT.T("SessionTimedOut"),fn:function(result){document.getElementById("wrapper").style.visibility="hidden";DCT.LoadingMessage.show();window.location.href=DCT.postPage}}).show();me.processingBlur=false}else{callback(response)}}else{if(isHTML){document.getElementById("wrapper").style.visibility="hidden";DCT.LoadingMessage.show();window.location.href=DCT.Util.getPostUrl()+"&resumeState=latest";return}try{if(transport.responseXML!=null){response=transport.responseXML}if(Ext.isIE&&(headerText=="application/x-www-form-urlencoded")){var doc=new ActiveXObject("Msxml2.DOMDocument.6.0");doc.loadXML(transport.responseText);response=doc}var asyncNode=DCT.Util.getSingleNode(response,'//*[@asyncID and @status="success"]/@asyncID');if(asyncNode!=null){var asyncValue=DCT.Util.getNodeText(asyncNode);if(asyncValue.length>0){DCT.ProcessQueue.init(asyncValue)}}}catch(err){}}}catch(err){if(DCT.Util.getSafeElement("_debugMode").value!="0"&&DCT.Util.getSafeElement("_debugMode").value!=""){eval("debugger;//step out to see the error")}var errorMessage=(err.message.indexOf(":")>-1)?err.message.substring(0,err.message.indexOf(":")):err.message;errorMessage=(errorMessage.charAt(errorMessage.length-1)!=".")?(errorMessage+"."):errorMessage;var errorXml='<errors><error express="1">'+DCT.T("AjaxPageError")+'</error><error express="1">'+DCT.T("AjaxProcessingError",{message:errorMessage})+"</error></errors>";me.handleErrorType({value:errorXml});me.processingBlur=false}me.processingBlur=false;if(me.ajaxType!=="blur"){me.holdActionField=null}var blurPost=me.holdActionField!=null&&!Ext.isEmpty(Ext.get(me.holdActionField.id));if(blurPost){me.onBlurPost(this.holdActionField)}me.holdActionField=null;Ext.defer(function(){me.decrementCount()},1)},failure:function(transport,options){var me=this;var txt=DCT.T("AjaxTransportError",{text:transport.statusText,status:transport.status});Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:txt}).show();me.processingBlur=false;Ext.defer(function(){me.decrementCount()},1)}})},ajaxSetFocus:function(){var a=DCT.Util.getFocusField();if(!Ext.isEmpty(a)){DCT.Util.activateField(a)}},createStoreXML:function(b){var a=this;if(Ext.isEmpty(b)){b="noAction"}return"<AjaxRequest><action>"+b+"</action><currentPageID>"+DCT.Util.getSafeElement("_currentPageID").value+"</currentPageID><popUp>"+DCT.Util.getSafeElement("_popUp").value+"</popUp>"+a.buildStoreData(document.forms[0])+"</AjaxRequest>"},onBlurPost:function(e){var d=this;var c=true;if(!DCT.Util.validateFields(c)){return false}if(d.processingBlur){d.holdActionField=e;return}d.holdActionField=null;var f=DCT.ajaxProcess.waitForRequests(d);if(f){return}if(DCT.Util.checkFieldsChanged()||DCT.FieldsChanged.fieldHasChanged()){DCT.LoadingMessage.delayedShow();d.processingBlur=true;var b=d.createStoreXML(e.dctActionId);var a=function(g){d.processFieldsNew(g)};d.postServerMessage(b,"Ajax/xml",a,false,"blur")}},replaceScript:function(a,c){var f=this;var e=/<script([\s\S]*<\/)script>/;var d=document.createElement("div");d.innerHTML=c.replace(e,"<div$1div>");var b=document.createElement("script");Ext.each(d.firstChild.attributes,function(h,g){b.setAttribute(h.nodeName,h.nodeValue)},this);b.text=d.firstChild.innerHTML;a.parentNode.insertBefore(b,a);a.parentNode.removeChild(a)},getAttribute:function(a){var b=a.match(/@([a-zA-Z0-9_:-]+$)/);if(b!=null&&b.length>1){return b[1]}else{return""}},getElementPath:function(a){var b=a.match(/(.*)(\/?@[a-zA-Z0-9_:-]+$)/);if(b!=null&&b.length>1){return b[1].replace(/\/$/,"")}else{return a.replace(/\/$/,"")}},replaceComponent:function(g,a,e){var b=this;var d=null;if(Ext.isEmpty(e)){d=g.getXType()}var c=g.getXType();if(g.beforeReplace){g.beforeReplace()}g.destroy();var f=(c=="dctcombofield")?Ext.getCmp(a.id+"tooltip"):null;if(!Ext.isEmpty(f)){f.destroy()}Ext.each(DCT.Util.classArray,function(l,k){if((d!=null&&l.xtype==d)||(e!=null&&l.htmlclass==e)){var m={};Ext.apply(m,a);var h=Ext.create(l.cls,m);return false}},b)},setDomAttribute:function(a,b,c){if(Ext.isIE){switch(b){case"class":a.className=c;break;case"className":a.className=c;break;case"style":a.style.cssText=c;break;case"href":a.href=c;break;case"src":a.src=c;break;case"acceptcharset":a.acceptCharset=c;break;case"accesskey":a.accessKey=c;break;case"allowtransparency":a.allowTransparency=c;break;case"bgcolor":a.bgColor=c;break;case"cellpadding":a.cellPadding=c;break;case"cellspacing":a.cellSpacing=c;break;case"colspan":a.colSpan=c;break;case"defaultchecked":a.defaultChecked=c;break;case"defaultselected":a.defaultSelected=c;break;case"defaultvalue":a.defaultValue=c;break;case"for":a.htmlFor=c;break;case"frameborder":a.frameBorder=c;break;case"hspace":a.hSpace=c;break;case"longdesc":a.longDesc=c;break;case"maxlength":a.maxLength=c;break;case"marginwidth":a.marginWidth=c;break;case"marginheight":a.marginHeight=c;break;case"noresize":a.noResize=c;break;case"noshade":a.noShade=c;break;case"readonly":a.readOnly=c;break;case"rowspan":a.className=c;break;case"tabindex":a.tabIndex=c;break;case"valign":a.vAlign=c;break;case"vspace":a.vSpace=c;break;default:a.setAttribute(b,c)}}else{if(a==document){htmlParent=a.getElementById("htmlParent");if(htmlParent){htmlParent.setAttribute(b,c)}}else{a.setAttribute(b,c)}}},processFieldsNew:function(f){Ext.env.Ready.block();var d=this;var e=Ext.query(".controlContainer",true,Ext.getDom("body"));var b=Ext.create("Ext.util.MixedCollection",{});(DCT.Util.shiftKeyUsed)?b.addAll(e.reverse()):b.addAll(e);var a=f.items;var c=d.collectPendingClassChanges(a);DCT.Sections.backupCollapsedStates();Ext.each(a,function(l,g){var k=this;var h=k.getIdedElement(l.id);k.processResponseItem(l,h,c)},this);d.handleRemainingClassChanges(c);d.cleanupToolTips();DCT.Util.processOnLoad();DCT.Util.generateControls();Ext.env.Ready.unblock();if(DCT.notifyMessage){DCT.Util.removeTabs(true);Ext.create("DCT.AlertMessage",{msg:DCT.notifyMessage,fn:function(){DCT.notifyMessage=""}}).show()}d.assignFieldFocus(b);Ext.defer(function(){DCT.hubEvents.fireEvent("ajaxcomplete")},1)},cleanupToolTips:function(){var b=this;var a=Ext.ComponentQuery.query("tooltip");Ext.each(a,function(e,c){var d=this;if(Ext.isEmpty(e.target)||Ext.isEmpty(e.target.dom)){e.destroy()}},this)},assignFieldFocus:function(a){var b=this;if(!b.assignFocusToNewField(a)){b.assignFocusToField(a)}},assignFocusToNewField:function(h){var o=this;var b=DCT.Util.getFocusField();var k=h.get(b+"Cmp");var c=h.indexOfKey(b+"Cmp");var e=c-1;var g=h.getAt(e);if(!Ext.isEmpty(Ext.get(b))&&DCT.Util.tabKeyUsed&&g){var a=g.getAttribute("data-cmpid");if(!Ext.isEmpty(Ext.get(b))&&!Ext.isEmpty(Ext.get(a))){var p=Ext.query(".controlContainer",true,Ext.getDom("body"));var m=Ext.create("Ext.util.MixedCollection",{});(DCT.Util.shiftKeyUsed)?m.addAll(p.reverse()):m.addAll(p);e=m.indexOfKey(a+"Cmp");var d=m.getAt(++e);if(d){var l=k.getAttribute("data-cmpid");var f=Ext.getCmp(l);if(Ext.isEmpty(f)||!f.isDirty()){b=d.getAttribute("data-cmpid");o.setFocusToField(b);return true}}}}return false},assignFocusToField:function(f){var l=this;var b=DCT.Util.getFocusField();var c=f.indexOfKey(b+"Cmp");if(Ext.isEmpty(Ext.get(b))){var a=1;var h;var g;var m=[];var o;if(DCT.Util.tabKeyUsed){while((o=f.getAt(++c))){m.push(o)}c=f.indexOfKey(b+"Cmp");while((o=f.getAt(--c))){m.push(o)}}else{h=f.getAt(c+a);g=f.getAt(c-a);while(h||g){a++;m.push(h);m.push(g);h=f.getAt(c+a);g=f.getAt(c-a)}}for(var d=0;d<m.length;d++){o=m[d];if(o){var e=o.getAttribute("data-cmpid");var k=(Ext.getCmp(e))?Ext.getCmp(e).hasCls("autoFocusOff"):false;if(!Ext.isEmpty(Ext.get(e))&&!k){l.setFocusToField(e);DCT.Util.setKeysUsed(false,false);return}}}}DCT.Util.setFocusField(b);DCT.Util.setKeysUsed(false,false);l.ajaxSetFocus()},findValidField:function(b,a){var d=b.getAttribute("data-cmpid");var c=Ext.getCmp(d);if(c&&(c.getXType()!="dctinputdisplayfield")){return true}},setFocusToField:function(a){var c=this;var b=Ext.getCmp(a);if(b){var d=b.getXType();(d!="dctcheckboxgroup"&&d!="dctradiogroup")?b.focus(true,5):c.setGroupItemFocus(b);DCT.Util.setFocusField(a)}},setGroupItemFocus:function(b){var a=null;b.items.each(function(c){if(c.checked){a=c;return false}});a=(a)?a:b.items.items[0];if(a.id!=DCT.Util.elemFocus){a.focus(false,5)}},getIdedElement:function(b){var a=Ext.get(b);if(!a){a=document}else{a=a.dom}return a},processResponseItem:function(d,b,a){var c=this;switch(d.type){case"change":c.handleChangeType(d,b,a);break;case"add":c.handleAddType(d,b);break;case"delete":c.handleDeleteType(d,b);break;case"error":c.handleErrorType(d);break;case"reload":c.handleReloadType(d);break}},handleBrowserClasses:function(d,a){var c=this;var b=a.className.split(" ");Ext.each(b,function(e,f){if(e.substring(0,2)==="x-"){d.value+=" "+e}},c)},collectPendingClassChanges:function(a){var b=Ext.create("Ext.util.MixedCollection",{});Ext.each(a,function(f,d){var e=this;if(/Cmp$/.test(f.id)&&/\/div\//.test(f.path)){var c=f.id.substring(0,f.id.length-3);if(/@class$/.test(f.path)){b.add(c,f.value)}}},this);return b},handleRemainingClassChanges:function(b){var a=this;b.eachKey(function(d,e){var f=Ext.getCmp(d);if(f){var c=f.initialConfig;a.replaceComponent(f,c,e)}});return b},handleChangeType:function(q,l,h){var u=this;var a=u.getElementPath(q.path);var p=u.fixNode(a,l);if(Ext.isDefined(p)){if(p.id==="htmlBody"&&q.path==="/@class"){u.handleBrowserClasses(q,l)}}if(/Cmp$/.test(q.id)&&/\/div\//.test(q.path)){var o=q.id.substring(0,q.id.length-3);if(/@data-config$/.test(q.path)){q.value=q.value.replace(/\n/g,"\\n").replace(/\r/g,"");var t=Ext.decode(q.value);o=t.id;var s=Ext.getCmp(o);var c=null;o=o.replace("Grp","");if(h.containsKey(o)){c=h.get(o);h.removeAtKey(o)}if(!s.isXType("radiogroup")){if(Ext.isDefined(s.value)&&s.getValue){t.value=(s.isXType("datefield")||s.isXType("dctinputnumberfield"))?s.getRawValue():s.getValue()}else{t.value=""}}u.replaceComponent(s,t,c)}else{if(/@data-value$/.test(q.path)){var s=Ext.getCmp(o);s.setValue(q.value);s.originalValue=q.value}}}else{if(/_gridHiddenInputs$/i.test(q.id)&&/@data-grid-xml$/i.test(q.path)){var f=q.id;var w=f.replace("_gridHiddenInputs","");var v=DCT.Util.loadXMLString(q.value);var g=Ext.getCmp(w);var m=g.getPlugin("dctcellediting");if(m){m.cancelEdit()}var e=g.getStore();e.proxy.setData(v);e.load();u.setDomAttribute(p,"data-grid-xml",q.value)}else{var k=u.getAttribute(q.path);var r=(k.length>0);var d=(q.path.search("text()")>-1);if(p){if(r){var b=Ext.get(p);if(b.dom&&b.dom.getAttribute&&/@class$/.test(q.path)){b.replaceCls(b.getAttribute("class"),q.value)}else{u.setDomAttribute(p,k,q.value)}}else{if(d){p.innerText=q.value;if(p.nodeName&&p.nodeName.toLowerCase()=="script"){u.replaceScript(p,p.outerHTML)}}else{if(p.nodeName&&p.nodeName.toLowerCase()=="script"){p.innerText=q.value;u.replaceScript(p,p.outerHTML)}else{p.innerHTML=q.value}}}}}}},createTempElement:function(h,f){var e=this;var d=f.nodeName.toLowerCase();var b=null;var k=null;var g=e.isTablePart(d);if(g){k=document.createElement(d);b=Ext.DomHelper.insertHtml("beforeEnd",k,h.value);if(d=="table"){k=k.firstChild}}else{k=Ext.DomHelper.createDom({tag:"div"});var c=/(?:<script([^>]*)?>)/ig.test(h.value);if(c){var a=Ext.get(k).setHtml(h.value,true);k=a.dom}else{b=Ext.DomHelper.insertHtml("beforeEnd",k,h.value)}}return k},isTablePart:function(a){return a=="table"||a=="tbody"||a=="thead"||a=="tfoot"||a=="tr"||a=="td"||a=="th"},handleAddType:function(p,c){var k=this;var l=k.getAttribute(p.path);var o=(l.length>0);var e=(p.path.search("text()")>-1);if(/@data-value$/.test(p.path)){var m=p.id.substring(0,p.id.length-3);var f=Ext.getCmp(m);f.setValue(p.value);f.originalValue=p.value}else{if(o){var b=k.getElementPath(p.path);var d=k.fixNode(b,c);k.setDomAttribute(d,l,p.value)}else{if(e){var g=k.getParentNode(c,p);g.innerText=p.value}else{var g=k.getParentNode(c,p);if(g){var a=k.getChildNode(g,p);var h=k.createTempElement(p,g);if(g.childNodes.length>0&&a){Ext.DomHelper.insertHtml("beforeBegin",a,h.innerHTML)}else{Ext.DomHelper.insertHtml("beforeEnd",g,h.innerHTML)}}}}}},handleDeleteType:function(item,idElem){var me=this;var attributeName=me.getAttribute(item.path);var isAttribute=(attributeName.length>0);if(isAttribute){var selectPath=me.getElementPath(item.path);var elem=me.fixNode(selectPath,idElem);if(elem.removeAttribute){var success=elem.removeAttribute(attributeName)}}else{var parentElem=me.getParentNode(idElem,item);var childElem=me.getChildNode(parentElem,item);if(!Ext.isEmpty(childElem)&&childElem.nodeName.toLowerCase()!="html"){var fieldArray=Ext.dom.Query.select("*",childElem);fieldArray.push(childElem);Ext.each(fieldArray,function(node,index){try{if(node.nodeType!==1){node.parentNode.removeChild(node);return}var compId=node.getAttribute("data-cmpid");if(Ext.isEmpty(compId)){compId=node.id}var extComp=Ext.getCmp(compId);if(!Ext.isEmpty(extComp)){var oldType=extComp.getXType();extComp.destroy();var comboTip=(oldType=="dctcombofield")?Ext.getCmp(compId+"tooltip"):null;if(!Ext.isEmpty(comboTip)){comboTip.destroy()}}else{var extEl=Ext.get(node);if(!Ext.isEmpty(extEl)){extEl.destroy()}}}catch(e){if(DCT.Util.getSafeElement("_debugMode").value!="0"&&DCT.Util.getSafeElement("_debugMode").value!=""){eval("debugger;//step out to see the error")}try{var extEl=Ext.get(node);if(!Ext.isEmpty(extEl)){extEl.destroy()}}catch(ee){}}},this);if(childElem.parentNode){childElem.parentNode.removeChild(childElem)}}}},handleErrorType:function(b){var a=function(c){return c.replace(/[<>&'"]/g,function(d){switch(d){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})};DCT.Util.getSafeElement("_errorXml").value=a(b.value);DCT.Util.getSafeElement("_targetPage").value="errors";document.forms[0].submit()},handleReloadType:function(a){document.getElementById("wrapper").style.visibility="hidden";DCT.LoadingMessage.show();window.location.href=a.value},fixpath:function(b){var a=new RegExp("((?:(?:tbody)|(?:thead)|(?:tfoot))/)?tr");return b.replace(a,function(d,c){return c?d:"tbody/tr"})},fixNode:function(c,a){var b=this;var d=b.fixpath(c);return Ext.isEmpty(d)?a:Ext.DomQuery.selectNode(d,a)},getParentNode:function(b,e){var d=this;var f=d.fixpath(e.path);var c=f.lastIndexOf("/");c=Math.max(0,c);var a=f.substring(0,c);if((b.tagName=="TABLE")&&(b.tBodies.length==0)){a=""}return d.fixNode(a,b)},getChildNode:function(g,l,f){var e=(l.path.lastIndexOf("/")<0)?0:(l.path.lastIndexOf("/")+1);var k=l.path.substring(e,l.path.length);var m;var b=null;var h=1;if(k.indexOf(":")>-1){var d=k.split(":");m=d[0];var c=d[1];h=c.split("(")[1].split(")")[0]}if(Ext.isEmpty(l.path)){b=Ext.getDom(l.id)}else{var a=Ext.get(g).first(k);if(!Ext.isEmpty(a)){b=a.dom}}b=(Ext.isEmpty(b))?((g.childNodes.length>0)?g.childNodes[parseInt(h,10)-1]:undefined):b;return b},doAjaxHelp:function(c,d,l,a,e,b){var g=this;var h=DCT.hoverHelp.get(d);if(Ext.isEmpty(h)){var f="<helpItems><fieldId>"+d+"</fieldId><cacheId>"+l+"</cacheId><actionId>"+a+"</actionId><currentPageId>"+e+"</currentPageId></helpItems>";var k=function(m){var o=this;o.processAjaxHelp(m,c,d,b)};g.postServerMessage(f,"Ajax/help",Ext.Function.createDelayed(k,0,g),null)}else{g.displayAjaxHelp(c,h,b,d)}return},processAjaxHelp:function(b,d,a,f){var e=this;if(!Ext.isEmpty(b)){var c=e.parseHelpText(b.actions);e.displayAjaxHelp(d,c,f,a);if(c!="Error"){DCT.hoverHelp.add(a,c)}}},displayAjaxHelp:function(f,e,c,b){var a=b.replace(".","_")+"_tooltip";var g=Ext.getCmp(a);if(!Ext.isEmpty(g)){g.destroy()}var d=Ext.create("Ext.ToolTip",{id:a,target:f,dctControl:true,html:e,title:c,trackMouse:true})},parseHelpText:function(e){var b=this;var d="";var c=e[0].items[0].helptext;var a=e[0].items[0].caption;if(a!="Error"){Ext.each(c,function(g,f){if(f==0){d=g}else{d=d+".  "+g}},this)}else{d=a}return(d)},createURLString:function(c,a){var b=DCT.Util.getFormNameValuePairs(c,true);if(a==="interfaceJson"){b=b+"&interfaceJson=true"}else{if(a==="ajax"){b=b+"&ajax=true"}}return b},getNewSubmitForm:function(a){var b=document.createElement("FORM");document.forms[0].parentNode.insertBefore(b,document.forms[0]);b.method="POST";return b},createNewFormElement:function(b,a,c){var d=Ext.DomHelper.append(b,{tag:"input",type:"hidden",name:a,value:c});return d},convertToNamedPairs:function(b){var c=this;var a={};var e={};if(!b){return a}var d=b.substring(0).split("&");Ext.each(d,function(h,g){var f=h.indexOf("=");if(f>-1){e[0]=h.substring(0,f);if(f<h.length){e[1]=h.substring(f+1)}}a[e[0]]=e[1]},this);return a},submitIntegrationReturn:function(b,e,d,a){var c=this;DCT.Util.getSafeElement("IntegrationImportRq").value=d;return c.submitInterfaceReturn(b,e,"",a)},submitPartyReturn:function(b,c,d,a){DCT.Util.getSafeElement("PartyID").value=d;return DCT.ajaxProcess.submitInterfaceReturn(b,c,"",a)},submitInterfaceReturn:function(b,d,f,a){var c=this;DCT.Util.getSafeElement("_submitAction").value=d;DCT.Util.getSafeElement("_action").value=a;if(b==2){Ext.getDom("_popUp").value=0}var e=c.createURLString(document.forms[0],"interfaceJson");e=e+f;DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_action").value="";Ext.Ajax.request({url:DCT.Util.getProxyUrl(),headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},useDefaultHeader:false,params:e,scope:c,timeout:Ext.Ajax.timeout,success:function(l,w){var r=this;try{var v=Ext.util.JSON.decode(l.responseText);if(v.items){if(b==2){DCT.Util.getParent().location.href=DCT.Util.getPostUrl()+"&resumeState=latest";return}else{r.processFieldsNew(v);return}}var k=r.getNewSubmitForm(b);var h=r.convertToNamedPairs(v.postData);for(var p in h){r.createNewFormElement(k,p,h[p])}k.action=v.returnUrl;var u=r;try{if(b==2){DCT.ajaxProcess.submitAjaxToParent(Ext.Function.createDelayed(DCT.Util.closeWindow,0,r))}else{DCT.ajaxProcess.completeContentAjax()}k.parentNode.removeChild(k)}catch(m){var t=m.message.substring(0,m.message.indexOf(":"));var g=k.action;var o=DCT.T("AjaxCallReturnError",{message:t,url:g});Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:o}).show();return(null)}}catch(m){var q=(m.message.indexOf(":")>-1)?m.message.substring(0,m.message.indexOf(":")):m.message;q=(q.charAt(q.length-1)!=".")?(q+"."):q;var s='<errors><error express="1">'+DCT.T("AjaxPageError")+'</error><error express="1">'+DCT.T("AjaxProcessingError",{message:q})+"</error></errors>";r.handleErrorType({value:s});return(null)}},failure:function(k,h){var g=DCT.T("AjaxTransportError",{text:k.statusText,status:k.status});Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:g}).show();return(null)}})},submitAjax:function(g,b,d,e,a,f){var c=this;var h=DCT.ajaxProcess.waitForRequests(c);if(h){return}if(g=="PageNavigation"){c.processPage(b)}else{if(g=="PageForm"){c.processForm(b,d)}else{DCT.Util.customOnSubmit();c.processDiv(b,a,d,e,f)}}},submitPreviewAjax:function(d,a,c){var b=this;DCT.Util.customOnSubmit();if(c!="1"){if(!DCT.Util.validateFields(c)){return false}}DCT.Util.getSafeElement("_targetPage").value="editPrintJob";DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_action").value=a;document.forms[0].action=DCT.postPage;document.forms[0].target="";if(document.forms[0].encoding=="multipart/form-data"){DCT.Submit.submitForm()}else{b.completePreviewAjax()}return},processForm:function(a){var b=this;if(Ext.isDefined(a)){DCT.Util.getSafeElement("_targetPage").value=a}document.forms[0].action=DCT.postPage;var c=false;Ext.each(Ext.DomQuery.select("input[type=file]"),function(d){if(d.value!==""&&!c){c=true}});if(c){document.forms[0].submit()}else{b.completeContentAjax()}DCT.Util.getSafeElement("_action").value="";DCT.LoadingMessage.delayedShow()},processDiv:function(b,a,d,e,f){var c=this;if(d!="1"){if(!DCT.Util.validateFields(d,e)){return false}}DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_action").value=b;document.forms[0].action=DCT.postPage;document.forms[0].target="";if(e=="1"){DCT.Util.resetFields()}if((a=="Confirm")||(a=="Delete")){if(f==null||f.length==0){if(a=="Confirm"){f=DCT.T("AreYouSure")}else{f=DCT.T("AreYouSureDelete")}}Ext.Msg.confirm(DCT.T("Confirm"),f,function(g,k){var h=this;if(g=="yes"){h.completeContentAjax();DCT.LoadingMessage.delayedShow();DCT.Util.getSafeElement("_action").value=""}else{DCT.Util.getSafeElement("_action").value="";return false}},this)}else{if(document.forms[0].encoding=="multipart/form-data"){DCT.Submit.submitForm()}else{c.completeContentAjax()}DCT.Util.getSafeElement("_action").value="";DCT.LoadingMessage.delayedShow()}},createAjaxUrlString:function(){var c=this;var b=DCT.ajaxProcess.createStoreXML(null,DCT.manuScriptID,null,null,DCT.sessionID,null,true);DCT.Util.getSafeElement("_clientChanges").value=b;var a=c.createURLString(document.forms[0],"ajax");DCT.Util.getSafeElement("_clientChanges").value="";return a},completeContentAjax:function(e){var b=this;var d=DCT.ajaxProcess.waitForRequests(b);if(d){return}var c=b.createAjaxUrlString();var a=function(f){b.processFieldsNew(f);if(e){e()}DCT.Util.getSafeElement("runInterviewActionAsync").value=false};b.postServerMessage(c,"application/x-www-form-urlencoded",a,false,"ajax")},submitAjaxToParent:function(g){var c=this;var f=DCT.ajaxProcess.waitForRequests(c);if(f){return}var e=DCT.Util.getParent(true);var b=e.DCT.ajaxProcess;DCT.Util.getSafeElement("_ajaxState").value=e.DCT.Util.getSafeElement("_stateID").value;var d=c.createAjaxUrlString();DCT.Util.getSafeElement("_ajaxState").value="";var a=function(h){var k=b;k.processFieldsNew(h);Ext.defer(function(){e.DCT.hubEvents.fireEvent("popupclosed")},1);if(g){g()}DCT.Util.getSafeElement("runInterviewActionAsync").value=false};c.postServerMessage(d,"application/x-www-form-urlencoded",a,false,"ajax")},submitAjaxToChild:function(g,f){var c=this;var e=DCT.ajaxProcess.waitForRequests(c);if(e){return}var b=window.open("",g);DCT.Util.getSafeElement("_openPopUp").value=true;var d=c.createAjaxUrlString();DCT.Util.getSafeElement("_openPopUp").value=false;var a=function(h){if(f){f()}b.location.href=h.items[0].value};c.postServerMessage(d,"application/x-www-form-urlencoded",a,false,"ajax")},completePreviewAjax:function(){var b=this;var c=b.createAjaxUrlString("ajax");var a=function(d){};b.postServerMessage(c,"application/x-www-form-urlencoded",a,false,"ajax")},processPage:function(b){var a=this;DCT.globalPage=b;if(b=="logout"||b=="new"){DCT.globalSaveAction="save";DCT.Submit.saveVerify(Ext.Function.createDelayed(a.completeProcessPage,0,a))}else{a.completeProcessPage("no")}},completeProcessPage:function(b){var c=this;if(b=="no"){if(DCT.currentPage!=DCT.globalPage){DCT.Submit.removeKeyNames();var e=Ext.getDom("_startIndex");var a=Ext.getDom("_displayCount");if(e!=null){e.value=1}if(a!=null){a.value=10}}var d=Ext.getCmp("lastSearchItem");if(Ext.isDefined(d)){d.setValue("(all)")}DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_targetPage").value=DCT.globalPage;c.completeContentAjax()}else{if(b=="yes"){DCT.Submit.completeSaveProcess()}}},buildStoreData:function(c){var b=this;b.fieldChangesBuilder.start();b.clientChangesBuilder.start();var a;a=Ext.get(c).query("INPUT,TEXTAREA");Ext.each(a,function(d,g){var y=this;var q;var t;var m;var s;var e;var p=d.getAttribute("role");if(!(Ext.isEmpty(d.name))){q=d.name;var w=q.split("|");q=w[0];var r=(!((q.indexOf("~")===0)&&(p!=="checkbox")))&&(q.indexOf("_")>0)&&(!(q.indexOf("_")===0))&&(q.indexOf("_")!=1)&&(!(q.indexOf("#")===0));e=true;if(d.type==="radio"||d.type==="checkbox"||p==="checkbox"){if((d.type==="radio"&&d.checked)||(p==="checkbox"&&d.hidden)){var z=d.getAttribute("data-cmpid")||d.getAttribute("data-componentid");var f=Ext.getCmp(z).getSubmitValue();if(f!=null){e=true}else{e=false}}else{e=false}}if((d.name!=null)&&(d.name!="")&&e){t=d.getAttribute("data-cmpid")||d.getAttribute("data-componentid");if(!t){t=d.id}if(t.indexOf("Combo")!=-1){t=t.replace(/Combo/g,"")}if(d.type==="file"&&t.indexOf("-button")!==-1){t=t.replace(/\-button/g,"")}params=q.split("_");s=d.value;if(d.classList.contains("x-form-empty-field")){s=""}if(d.type=="radio"||p=="checkbox"){t=d.getAttribute("data-cmpid")||d.getAttribute("data-componentid");var u=Ext.getCmp(t);if(u){s=u.getSubmitValue();if(d.type=="radio"){t=t.substring(0,t.lastIndexOf("_"))}}}var h=s;m=params[0];if((m=="date")&&(s.length>0&&!(s.indexOf("__cacheINDEX")===0))){var u=Ext.getCmp(t);if(u){s=u.getInternalDate()}}else{if((m=="int"||m=="float")&&!(s.indexOf("__cacheINDEX")===0)){var u=Ext.getCmp(t);if(u&&Ext.isDefined(u.formatting)){s=u.formatting.formatNumberToUS(s)}}}var v={name:q,id:t,value:s,formattedValue:h};var k=Ext.getCmp(t);var l=h;if(p==="checkbox"){l=k.getValue()}if(m=="date"){if(!Ext.isEmpty(k)&&Ext.isDefined(k.getValue)&&!Ext.isEmpty(k.getValue())&&Ext.isDefined(k.getValue().getTime)&&!Ext.isEmpty(k.originalValue)&&Ext.isDefined(k.originalValue.getTime)){var x=k.getValue()!=null&&k.getValue()!=""?k.getValue().getTime():null;var o=k.originalValue!=null&&k.originalValue!=""?k.originalValue.getTime():null;if(x===o){return}}}if(!Ext.isEmpty(k)&&(l===k.originalValue||(Ext.isDefined(k.getValue)&&k.getValue()===k.originalValue))){return}else{if(!Ext.isEmpty(k)&&k.resetOriginalValue){k.resetOriginalValue()}}if(!Ext.isEmpty(k)){if(e&&r){y.fieldChangesBuilder.addItem(v)}y.clientChangesBuilder.addComponent(v)}else{if(d.originalValue!=d.value){d.originalValue=d.value;y.clientChangesBuilder.addInput(d)}}}}},b);return b.clientChangesBuilder.getResult()+b.fieldChangesBuilder.getResult()},fieldChangesBuilder:{list:{},start:function(){var a=this;a.list={items:[]}},addItem:function(c){var b=this;var d=c.name.split("_");var a=0;if(d.length>2){a=d[2]}b.list.items.push({id:c.id,value:'<field id="" index="'+d[1]+'" path="" fieldId="'+c.id+'" cacheId="'+d[1]+'" value="'+DCT.ajaxProcess.htmlize(c.value)+'" iterativeIndex="'+a+'" formattedValue="'+DCT.ajaxProcess.htmlize(c.formattedValue)+'"/>'})},getResult:function(){var a=this;if(a.list.items.length>0){return"<fieldChanges>"+a.list.items.map(function(b){return b.value}).join("")+"</fieldChanges>"}return""}},clientChangesBuilder:{list:{},start:function(){var a=this;a.list={items:[]}},addInput:function(a){var b=this;if(DCT.ajaxProcess.hiddenInputAdditions.indexOf(a)===-1){b.list.items.push({path:"/@value",id:a.id,value:a.value,type:"change"})}},addComponent:function(b){var a=this;a.list.items.push({path:"/div/@data-value",id:b.id+"Cmp",value:b.formattedValue,type:"change"})},getResult:function(){var a=this;Ext.each(DCT.ajaxProcess.hiddenInputAdditions,function(b){if(!Ext.isEmpty(b.parentNode)){var c=b.value;b.value=Ext.util.Format.htmlEncode(c);a.list.items.push({path:"/input["+(Array.prototype.slice.call(b.parentNode.childNodes,0).indexOf(b)+1)+"]",id:"hiddenFields",value:b.outerHTML,type:"add"});b.value=c}});DCT.ajaxProcess.hiddenInputAdditions=[];if(a.list.items.length>0){return"<clientChanges>"+DCT.ajaxProcess.htmlizeElement(Ext.encode(a.list))+"</clientChanges>"}return""}},htmlize:function(a){a=a.replace(/\&/g,"&amp;");a=a.replace(/\</g,"&lt;");a=a.replace(/\>/g,"&gt;");a=a.replace(/\"/g,"&quot;");return a},htmlizeElement:function(a){a=a.replace(/\&/g,"&amp;");a=a.replace(/\</g,"&lt;");a=a.replace(/\>/g,"&gt;");return a},waitForRequests:function(b){var c=this;var e=c.waitForRequests.caller;var a=c.waitForRequests.caller.arguments;if(DCT.ajaxProcess.requestCount>0){var d=function(){e.apply(b,a)};c.requestQueue.push(d);DCT.LoadingMessage.delayedShow();return true}return false},runQueuedRequest:function(){var a=this;if(DCT.ajaxProcess.requestCount===0){var b=a.requestQueue.shift();if(!Ext.isEmpty(b)){b()}}}});Ext.Ajax.on("beforerequest",function(c,a){var b=this;if(a.url.search(DCT.Util.getProxyUrl())>-1){DCT.ajaxProcess.incrementCount()}if(Ext.isEmpty(a.params)||Ext.isEmpty(a.params._windowGuid)){if(Ext.isEmpty(a.method)&&Ext.isEmpty(a.params)&&Ext.isEmpty(a.xmlData)&&Ext.isEmpty(a.jsonData)){a.method="GET"}if(typeof a.params==="string"){a.url+="?_windowGuid="+DCT.Util.getWindowGuid()}else{if(Ext.isEmpty(a.params)){a.params={_windowGuid:DCT.Util.getWindowGuid()}}else{var e=a.params;e=e||{};var d={_windowGuid:DCT.Util.getWindowGuid()};Ext.apply(e,d)}}}},this);Ext.Ajax.on("requestcomplete",function(d,a,b){if(b.url.search(DCT.Util.getProxyUrl())>-1){var c=this;DCT.ajaxProcess.decrementCount()}},this);Ext.Ajax.on("requestexception",function(d,a,b){if(b.url.search(DCT.Util.getProxyUrl())>-1){var c=this;DCT.ajaxProcess.decrementCount()}},this);DCT.ajaxProcess=Ext.create("DCT.Ajax",{});Ext.define("DCT.data.Connection",{override:"Ext.data.Connection",setOptions:function(o,m){var k=this,e=o.params||{},h=k.getExtraParams(),d=o.urlParams,c=o.url||k.getUrl(),g=o.cors,l=o.jsonData,b,a,f;if(g!==undefined){k.setCors(g)}if(Ext.isFunction(e)){e=e.call(m,o)}if(Ext.isFunction(c)){c=c.call(m,o)}c=this.setupUrl(o,c);if(!c){Ext.raise({options:o,msg:"No URL specified"})}f=o.rawData||o.binaryData||o.xmlData||l||null;if(l&&!Ext.isPrimitive(l)){f=Ext.encode(f)}if(o.binaryData){if(!Ext.isArray(o.binaryData)){Ext.log.warn("Binary submission data must be an array of byte values! Instead got "+typeof(o.binaryData))}if(k.nativeBinaryPostSupport()){f=(new Uint8Array(o.binaryData));if((Ext.isChrome&&Ext.chromeVersion<22)||Ext.isSafari||Ext.isGecko){f=f.buffer}}}if(Ext.isObject(e)){e=Ext.Object.toQueryString(e)}if(Ext.isObject(h)){h=Ext.Object.toQueryString(h)}if(!o.processFormData){e=e+((h)?((e)?"&":"")+h:"")}else{delete e._windowGuid}d=Ext.isObject(d)?Ext.Object.toQueryString(d):d;e=this.setupParams(o,e);b=(o.method||k.getMethod()||((e||f)?"POST":"GET")).toUpperCase();this.setupMethod(o,b);a=o.disableCaching!==false?(o.disableCaching||k.getDisableCaching()):false;if(b==="GET"&&a){c=Ext.urlAppend(c,(o.disableCachingParam||k.getDisableCachingParam())+"="+(new Date().getTime()))}if((b=="GET"||f)&&e){c=Ext.urlAppend(c,e);e=null}if(d){c=Ext.urlAppend(c,d)}return{url:c,method:b,data:f||e||null}}});Ext.apply(DCT.Util,{viewDocumentation:function(){DCT.Util.getSafeElement("_popUp").value="1";var a=Ext.create("DCT.PopupWindow",{width:800,height:500,modal:false,dctItemClass:"DCT.DocumentationPanel",defaultButton:"closeButton",buttons:[{text:DCT.T("Close"),id:"closeButton",handler:function(){var c=this;var b=c.findParentByType("dctpopupwindow");b.closePopupWindow()}}]});a.show()}});Ext.apply(DCT.Util,{dctSelectorString:"INPUT[type!=hidden][disabled!=false],SELECT[type!=hidden][disabled!=false],TEXTAREA[type!=hidden][disabled!=false]",dctExcludedClass:["autoFocusOff","hideOffset"],findAndSetFocus:function(g){var e=this;var d=Ext.dom.Query.select(e.dctSelectorString,document.forms[0]);if(d.length>0){var f;var c=0;while(Ext.isEmpty(f)&&c<d.length-1){var a=true;for(var b=0;b<e.dctExcludedClass.length;b++){if(!Ext.isEmpty(Ext.fly(d[c].id).findParent("div[class*="+e.dctExcludedClass[b]+"]"))||Ext.fly(d[c].id).hasCls(e.dctExcludedClass[b])){a=false}}if(a){f=d[c]}c++}if(!Ext.isEmpty(f)){if(g!=undefined){e.placeFocus(f,g)}else{e.placeFocus(f,5)}}}},placeFocus:function(c,g){var a=(Ext.isEmpty(c.getAttribute("data-componentid")))?c.id:c.getAttribute("data-componentid");var b=Ext.getCmp(a);if(b){var d=b.getXType();if(d=="dctcheckboxfield"||d=="dctradiofield"){var f=Ext.getCmp(b.ownerCt.id);var e=f.getChecked();if(!Ext.isEmpty(e)){b=Ext.getCmp(e[0].id)}}b.focus(true,g)}else{Ext.get(c).focus(g)}},overrideFocus:function(a){var b=Ext.getCmp(a);if(b){b.focus(true,10)}},activateField:function(q){var w=this;var k=Ext.getCmp(q);if(k&&k.hasFocus){return}if(k){var v=Ext.get(q);var h=(Ext.isEmpty(v))?null:v.parent("div[class=gridHiddenInputs]");if(Ext.isEmpty(h)){try{if(k.disabled){DCT.Util.findAndSetFocus(5)}else{k.focus(true,5)}}catch(o){}}else{var a=Ext.getCmp(h.id.substring(0,h.id.indexOf("_gridHiddenInputs")));var g=-1;var d=-1;if(Ext.isDefined(a)&&(a.store.getCount()>0)){var m="fieldInstance[@uid='"+q+"']";var r=Ext.DomQuery.selectNode(m,a.store.proxy.reader.rawData);var p=Ext.DomQuery.selectValue("@fieldRef",r);m="fieldInstance[@fieldRef='"+p+"']";var f=Ext.DomQuery.select(m,a.store.proxy.reader.rawData);var t=Ext.Array.findBy(f,function(e,c){if(Ext.DomQuery.selectValue("@uid",e)==q){g=c;return true}});var b=a.columns;for(var u=0;u<b.length;u++){if(p==b[u].dataIndex){d=u;break}}if(g>-1){if(a.view.getRow(g)){var l=a.getPlugin("dctcellediting");if(l){l.startEditByPosition({row:g,column:d})}}}}}}else{try{if(Ext.getDom(q)){Ext.get(q).focus(false,5)}else{DCT.Util.findAndSetFocus(5)}}catch(s){}}}});Ext.define("DCT.StringFormatting",{stringFormatMask:"",constructor:function(a){var b=this;b.setFormatMask(a);b.callParent([a])},setFormatMask:function(a){var b=this;if(!Ext.isEmpty(a.stringFormatMask)){b.stringFormatMask=a.stringFormatMask}},formatReferenceNumber:function(b){var d=b.length;var c,a;if(d==0){return String.Empty}else{if(d<2){return cardNumber}else{if(d>4){b=b.replace(/.(?=.{4,}$)/g,"*")}else{b=b.replace(/.(?=.{1,}$)/g,"*")}return b}}},formatString:function(c,a){var b=this;switch(b.stringFormatMask){case"referenceNumber":if(!Ext.isEmpty(c)){c=b.formatReferenceNumber(c)}break;default:}return c}});Ext.define("DCT.Formatting",{centsSymbol:".",currencySymbol:"$",thousandsSymbol:",",negativeSign:"-",floatMask:"-$??????????#.??",integerMask:"-?????????#",numberMask:"",internalFormat:"",numberType:"",constructor:function(a){var b=this;b.setFormatMask(a);b.callParent([a])},setFormatMask:function(a){var c=this;if(!Ext.isEmpty(a.numberMask)){var b=a.numberMask.split("!");if(b.length==2){a.numberMask=b[0];symbols=b[1]}else{a.numberMask="";symbols=b[0]}c.centsSymbol=symbols.charAt(0);c.thousandsSymbol=symbols.charAt(1);c.negativeSign=symbols.charAt(2);c.currencySymbol=symbols.charAt(3)}c.numberMask=(Ext.isEmpty(a.numberMask))?((a.numberType=="float")?c.floatMask:c.integerMask):a.numberMask;c.setSymbolsBasedonMask();c.setInternalNumberMask()},setInternalNumberMask:function(){var e=this;if(!Ext.isEmpty(e.thousandsSymbol)){var a=new RegExp("\\"+e.thousandsSymbol,"g")}var c=new RegExp(" ","g");var f=new RegExp("#","g");var d=new RegExp("0","g");var b=new RegExp("\\$","g");e.internalFormat=e.numberMask.replace(a,"");e.internalFormat=e.internalFormat.replace(c,"");e.internalFormat=e.internalFormat.replace(b,"");if(!Ext.isEmpty(e.centsSymbol)){e.internalFormat=e.internalFormat.replace(e.centsSymbol,".")}},setSymbolsBasedonMask:function(){var d=this;var a=(d.centsSymbol==".")?/\./:d.centsSymbol;var c=(d.thousandsSymbol==".")?/\./:d.thousandsSymbol;var b=/\$/;d.centsSymbol=(Ext.isEmpty(d.numberMask.match(a)))?"":d.centsSymbol;d.thousandsSymbol=(Ext.isEmpty(d.numberMask.match(c)))?"":d.thousandsSymbol;d.negativeSign=(Ext.isEmpty(d.numberMask.match(d.negativeSign)))?"":d.negativeSign;d.currencySymbol=(Ext.isEmpty(d.numberMask.match(b)))?"":d.currencySymbol},formatNumberToUS:function(d){var c=this;if(!Ext.isEmpty(d)){d=d.toString();var b=d.match(/\d/);if(b!=null){if(!Ext.isEmpty(c.centsSymbol)){d=d.replace(c.centsSymbol,"D")}if(!Ext.isEmpty(c.thousandsSymbol)){var a=new RegExp("\\"+c.thousandsSymbol,"g");d=d.replace(a,"")}d=d.replace("D",".");if(!Ext.isEmpty(c.negativeSign)){d=d.replace(c.negativeSign,"-")}d=d.replace(c.currencySymbol,"");while(""+d.charAt(0)==" "){d=d.substring(1,number.length)}while(""+d.charAt(d.length-1)==" "){d=d.substring(0,d.length-1)}}}return d},formatNumberToCulture:function(c){var b=this;if(!Ext.isEmpty(c)){c=c.toString();var a=c.match(/\d/);if(a){c=c.replace(".","D");c=c.replace(/,/g,b.thousandsSymbol);c=c.replace("D",b.centsSymbol);c=c.replace("-",b.negativeSign);c=c.replace("$",b.currencySymbol)}}return c},isMultiCurrency:function(c,a){var d=false;var b=new RegExp("^[C]{1}[0-9]{0,1}$");if(!Ext.isEmpty(a)&&b.test(c)){d=true}return d},currencyFormat:function(c,b,d,a){var e=Ext.getDom("_stateID").value;Ext.Ajax.request({url:DCT.Util.getPostUrl(),method:"POST",success:function(f,g){var h=JSON.parse(f.responseText);if(!Ext.isEmpty(h)&&!Ext.isEmpty(h.value)){b.setRawValue(h.value)}},scope:DCT.LoadingMessage,params:{_stateID:e,_submitAction:"currencyFormatter",_inputValue:c,_currencyCode:a,_format:d}})},formatFloat:function(b,e){var k=this;if(!Ext.isEmpty(b)){var d=(k.formatting)?k.formatting:k;if(d.isMultiCurrency(k.dctNumberFormat,k.dctCurrencyCode)){b=d.currencyFormat(b,e,k.dctNumberFormat,k.dctCurrencyCode)}else{var m=0;var a=0;b=d.formatNumberToUS(b);if(!Ext.isEmpty(d.centsSymbol)){if(d.numberMask.indexOf(d.centsSymbol)>-1){var f=d.numberMask.substr(d.numberMask.indexOf(d.centsSymbol)+1);var h=f.match(/\?/g);a=(Ext.isEmpty(h))?0:h.length;m=f.length}}var c="";var l="0,0";if(m>0){c=Ext.String.leftPad(c,m,"0");l=l+"."+c}b=Ext.util.Format.number(b,l);b=d.formatNumberToCulture(b);b=(d.numberMask.indexOf(d.centsSymbol)==0)?b.substr(b.indexOf(d.centsSymbol)):b;if(a>0){while(b.charAt(b.length-1)=="0"&&a>0){b=b.substring(0,b.length-1);a--}if(b.charAt(b.length-1)==d.centsSymbol){b=b.substring(0,b.length-1)}}if(!Ext.isEmpty(d.currencySymbol)){var g=d.numberMask.indexOf(d.currencySymbol);if(parseFloat(b)<0){b=(g<2)?b[0]+d.currencySymbol+b.substr(1):b+d.currencySymbol}else{b=(g<2)?d.currencySymbol+b:b+d.currencySymbol}}return b}}},formatInt:function(c){var b=this;if(!Ext.isEmpty(c)){var a=(b.formatting)?b.formatting:b;c=a.formatNumberToUS(c);c=Ext.util.Format.number(c,"0,000");if(!Ext.isEmpty(a.currencySymbol)){var d=a.numberMask.indexOf(a.currencySymbol);if(parseFloat(c)<0){c=(d<2)?c[0]+a.currencySymbol+c.substr(1):c+a.currencySymbol}else{c=(d<2)?a.currencySymbol+c:c+a.currencySymbol}}return(a.formatNumberToCulture(c))}}});Ext.apply(Date,{formatTimestamp:function(b,a){return Ext.Date.format(Ext.Date.parse(b,"Y-m-d\\TH:i:s"),a)},formatTimestampWithMilliseconds:function(b,a){return Ext.Date.format(Ext.Date.parse(b,"Y-m-d\\TH:i:s.u"),a)}});Ext.apply(DCT.Util,{showBubblePath:function(a,b){var c="No field text.";if(b!=undefined){c=b}Ext.create("Ext.ToolTip",{target:a,html:c,width:288,title:"Field Info",trackMouse:true})},getSafeElement:function(c){var b=this;var a=Ext.getDom(c);if(a==null){a=b.appendHiddenElement(c);DCT.ajaxProcess.hiddenInputAdditions.push(a)}return a},appendHiddenElement:function(a,d){var e;if(d!=undefined){e={tag:"input",type:"hidden",name:a,id:a,value:d}}else{e={tag:"input",type:"hidden",name:a,id:a}}var b=document.forms[0].querySelector("#hiddenFields");if(!b){b=Ext.DomHelper.append(document.forms[0],{tag:"div",id:"hiddenFields"})}var c=Ext.DomHelper.append(b,e);return c},getFormNameValuePairs:function(c,a){DCT.Submit.removeEmptyText();var b=Ext.dom.Element.serializeForm(c);if(!a){b=Ext.Object.fromQueryString(b)}DCT.Submit.resetEmptyText();return b},buildBaseParams:function(){var b=this;if(Ext.getDom("__VIEWSTATE")!=null){return}var a=b.getFormNameValuePairs(document.forms[0],false);return a}});Ext.apply(DCT.Submit,{parmArray:[],clearParmArray:function(){var a=this;a.parmArray=[]},addToParmArray:function(d,c){var b=this;var a=new Array(d,c);b.parmArray.push(a)},convertParmArray:function(){var b=this;if(Ext.isArray(b.parmArray)){for(var a=0;a<b.parmArray.length;a++){DCT.Util.getSafeElement(b.parmArray[a][0]).value=b.parmArray[a][1]}}},submitPageForm:function(a,b){var c=this;if(Ext.isDefined(b)){if(DCT.Util.isButtonDisabled(b)){return}}c.convertParmArray();c.secureAction(a);c.submitForm()},submitForm:function(b){var c=this;var e=Ext.getDom("_submitAction");var a=-1;var d=-1;if((e)){a=e.value.search("download");d=e.value.search("reportExport")}if((e)&&a==-1&&d==-1&&e.value!="submissionDownload"){DCT.LoadingMessage.delayedShow(true)}c.customBeforeSubmit();DCT.Util.toggleButtons(true);if(window.location.href.search(document.forms[0].action)===-1){document.forms[0].submit()}else{DCT.ajaxProcess.processForm()}DCT.Util.toggleButtons(false);DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_submitAction").value=""},secureAction:function(d){var b=this;var c=document.forms[0].action;var e=Ext.getDom("_secure");if(e!=null&&e.value=="1"){if(c.indexOf("https:")==0){if((d!="login")&&(d!="admin")){var a=/https/g;document.forms[0].action=c.replace(a,"http")}}else{if((d=="admin")&&(c.indexOf("http:")==0)){var a=/http/g;document.forms[0].action=c.replace(a,"https")}}}},clearHrefs:function(){var a=Ext.getDom("_submitAction");if(!Ext.isEmpty(a)&&a.value.indexOf("download")>-1){return}if(!Ext.isEmpty(a)&&a.value.indexOf("reportExport")>-1){return}if(!Ext.isEmpty(a)&&a.value.indexOf("submissionDownload")>-1){return}if(DCT.Util.getSafeElement("_targetPage").value=="preview"){return}DCT.Util.toggleButtons(true)},submitPage:function(b){var a=this;var c=DCT.ajaxProcess.waitForRequests(a);if(c){return}DCT.Util.resetInvalidFields();DCT.globalPage=b;if(b=="new"){DCT.globalSaveAction="save";a.saveVerify(Ext.Function.createDelayed(a.completeSubmitPage,0,a))}else{DCT.LoadingMessage.delayedShow();a.completeSubmitPage("no")}},completeSubmitPage:function(a){var b=this;DCT.Util.removeTabs(false);if(a=="no"){b.setListItems();DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_targetPage").value=DCT.globalPage;b.secureAction(DCT.globalPage);b.submitForm()}else{if(a=="yes"){b.completeSaveProcess()}}},submitPagePopup:function(b,f,c,a,e){var d=this;DCT.globalPage=b;DCT.globalAction=f;DCT.globalPopupScrollbars=e;DCT.globalPopupWidth=c;DCT.globalPopupHeight=a;if((b!="save")&&(f!="messageDetail")){DCT.globalSaveAction="save";d.saveVerify(Ext.Function.createDelayed(d.completeSubmitPagePopup,0,d))}else{d.completeSubmitPagePopup("no")}},completeSubmitPagePopup:function(a){var b=this;DCT.Util.removeTabs(false);if(a=="no"){var e=800;var c=600;if(Ext.isEmpty(DCT.globalPopupWidth)){width=e}if(Ext.isEmpty(DCT.globalPopupHeight)){height=c}DCT.Util.getSafeElement("_popUp").value="1";var d=Ext.create("DCT.PopupWindow",{width:width,height:height,modal:true,dctInterview:true,dctScrollbars:DCT.globalPopupScrollbars,dctItemClass:"DCT.PopupPanel"});d.show()}else{if(a=="yes"){b.completeSaveProcess()}}},completeSaveProcess:function(){var a=this;if(DCT.savePageSet=="1"){a.submitPagePopup(DCT.globalSaveAction,"")}else{a.submitPageAction(DCT.globalPage,DCT.globalSaveAction)}},submitPageAction:function(c,b){var a=this;DCT.Util.resetInvalidFields();if(b=="upload"){document.forms[0].enctype="multipart/form-data";var d=Ext.getCmp("lastSearchItem");if(Ext.isDefined(d)){d.setValue("(all)")}}DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_submitAction").value=b;a.secureAction(c);a.submitForm()},saveVerify:function(a){var b=this;if(!Ext.isEmpty(DCT.clientName)){if((DCT.FieldsChanged.fieldHasChanged())&&(Ext.getDom("_autoSaveState").value!="1")){DCT.Util.removeTabs(true);Ext.MessageBox.show({title:DCT.T("SaveVerify"),msg:DCT.T("SaveConfirmQuote"),buttons:Ext.MessageBox.YESNOCANCEL,icon:Ext.MessageBox.QUESTION,fn:a,scope:b});return}}a("no");return},setListItems:function(){var a=this;if(DCT.currentPage!=DCT.globalPage){a.removeKeyNames();var b=Ext.getDom("_startIndex");if(b!=null){b.value=1}var b=Ext.getDom("_displayCount");if(b!=null){b.value=10}}var c=Ext.getCmp("lastSearchItem");if(Ext.isDefined(c)){c.setValue("(all)")}},customBeforeSubmit:function(){var a=this;a.removeEmptyText()},resetEmptyText:function(){var b=Ext.dom.Query.select("input[class*=x-form-empty-field]",Ext.getDom("body"));for(i=0;i<b.length;i++){var a=Ext.getCmp(b[i].getAttribute("data-componentid"));if(a){a.reset()}}},removeEmptyText:function(){var b=Ext.dom.Query.select("input[class*=x-form-empty-field]",Ext.getDom("body"));for(i=0;i<b.length;i++){var a=Ext.getCmp(b[i].getAttribute("data-componentid"));if(a){a.setRawValue("")}}},setActiveParent:function(a){DCT.Util.getSafeElement("_activeParentPage").value=a},adminAction:function(a,c){var b=this;DCT.Util.getSafeElement("_adminAction").value=c;DCT.Util.getSafeElement("_pageType").value=a;b.submitPageAction("admin","admin")},submitSaveAction:function(b){var a=this;DCT.Util.getSafeElement("_targetPage").value="";a.submitAction(b)},submitAction:function(b){var a=this;DCT.Util.resetInvalidFields();if(b!="download"&&b!="submissionDownload"){DCT.LoadingMessage.delayedShow()}DCT.Util.getSafeElement("_submitAction").value=b;a.submitForm()},submitPartyAction:function(action,PartyContextJson){var me=this;if(PartyContextJson){var array=eval("("+PartyContextJson+")");for(var i=0;i<array.length;i++){var pair=array[i].split(":");DCT.Util.appendHiddenElement(pair[0],pair[1])}}DCT.Util.getSafeElement("_submitAction").value=action;me.submitForm()},submitDuplicatePartyAction:function(action,PartyContextJson){var me=this;if(PartyContextJson){var array=eval("("+PartyContextJson+")");for(var i=0;i<array.length;i++){var pair=array[i].split(":");DCT.Util.appendHiddenElement(pair[0],pair[1])}}DCT.LoadingMessage.cancel();var submitActionPreValue=DCT.Util.getSafeElement("_submitAction").value;DCT.Util.getSafeElement("_duplicateWindow").value="1";document.forms[0].target="_blank";DCT.Util.getSafeElement("_externalSite").value="0";DCT.Util.getSafeElement("_submitAction").value=action;document.forms[0].submit();DCT.LoadingMessage.hideAndCancel();DCT.Util.getSafeElement("_duplicateWindow").value="0";DCT.Util.getSafeElement("_submitAction").value=submitActionPreValue;DCT.Util.getSafeElement("_targetPage").value="";document.forms[0].target=""},setPortal:function(b,c){var a=this;var d=DCT.ajaxProcess.waitForRequests(a);if(d){return}if((DCT.BillingSystemURL!=DCT.PolicySystemURL)&&(b!="Policy")){DCT.Util.getSafeElement("_SuppressAutoSave").value="1"}if((b=="Billing")&&(DCT.BillingSystemURL!="")){document.forms[0].action=DCT.BillingSystemURL}else{if((b!="Party")&&(DCT.PolicySystemURL!="")){document.forms[0].action=DCT.PolicySystemURL}}if(c!=""){DCT.Util.getSafeElement("xslt").value=c}DCT.Util.getSafeElement("_PortalName").value=b;DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_autoSaveState").value="";a.submitAction("setPortal")},createConsumerQuote:function(){var a=this;a.submitPageAction("","consumerNewQuote")},viewConsumerQuote:function(b){var a=this;DCT.Util.getSafeElement("_QuoteID").value=b;a.submitPageAction("","consumerLoadQuote")},purchaseConsumerQuote:function(b){var a=this;DCT.Util.getSafeElement("_QuoteID").value=b;a.submitPageAction("consumerDashboard","consumerConvertToPolicy")},printConsumerPolicy:function(a,b){var c=this;DCT.Util.getSafeElement("_QuoteID").value=a;DCT.Util.getSafeElement("_manuscriptLOB").value=b;c.submitPageAction("print","load")},removeKeyNames:function(){var c=document.getElementsByName("_keyname");if(c){for(var a=0;a<c.length;a++){if(c[a].type=="hidden"){Ext.removeNode(c[a])}else{Ext.getCmp("lastSearchItem").setValue("(all)")}}}var b=document.getElementsByName("_orderBy");if(b){for(var a=0;a<b.length;a++){Ext.removeNode(b[a])}}},interviewPaging:function(a,d,c){var b=this;if(DCT.Util.validateFields()){var e=(Ext.getDom("_groupPaging"))?Ext.getDom("_groupPaging").value:null;if(e){DCT.Util.getSafeElement("_groupIndex").value=c;DCT.Util.getSafeElement("_groupStart").value=a;DCT.Util.getSafeElement("_pagingGroups").value=e;DCT.Sections.setSectionStates()}DCT.Util.getSafeElement("_iterationStartIndex").value=a;DCT.Util.getSafeElement("_action").value="";DCT.Util.getSafeElement("_pageChange").value="1";b.submitPage(d)}},reloadCurrentPage:function(){DCT.Util.getSafeElement("_action").value="";DCT.Util.getSafeElement("_topic").value=DCT.topic;DCT.Util.getSafeElement("_page").value=DCT.page;var a=DCT.currentPage=="interview";DCT.Util.getSafeElement("_submitAction").value=a?"jump":"load";DCT.Util.getSafeElement("_targetPage").value=DCT.currentPage;DCT.ajaxProcess.completeContentAjax();DCT.Util.getSafeElement("_topic").value="";DCT.Util.getSafeElement("_page").value="";DCT.Util.getSafeElement("_submitAction").value=""}});Ext.apply(DCT.Submit,{setGridAction:function(a,b){DCT.Util.getSafeElement("_gridAction").value=b;DCT.Util.getSafeElement("_gridPage").value=a}});Ext.define("DCT.InputDateField",{extend:"Ext.form.DateField",defaultDateFormat:"m/d/yyyy",internalDateFormat:"Y-m-d",invalidText:"{0} is not a valid date",formatText:"Expected date format: {0}",inputXType:"dctinputdatefield",dctControl:true,dctSystemDate:"_defaultSystemDate",xtype:"dctinputdatefield",useStrict:true,constructor:function(a){var b=this;b.checkControlExists(a);b.setShowToday(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.setDateFormat(a);b.setMaxLength(a);b.setAltFormats(a);b.setMinMaxDates(a);b.setDateValue(a);b.callParent([a]);b.bindConfiguredEvents(a)},setShowToday:function(c){var e=this;var b=Ext.Date.clearTime(new Date());var d=c.minValue?Ext.Date.clearTime(new Date(Ext.Date.parse(c.minValue,e.internalDateFormat))):Number.NEGATIVE_INFINITY;var a=c.maxValue?Ext.Date.clearTime(new Date(Ext.Date.parse(c.maxValue,e.internalDateFormat))):Number.POSITIVE_INFINITY;if(b<d||b>a){c.showToday=false}},setDateValue:function(a){if(!Ext.isEmpty(a.value)&&!Ext.isEmpty(a.addDaysToDefaultDate)){var b=Ext.Date.parse(a.value,a.format);b=Ext.Date.add(b,Ext.Date.DAY,a.addDaysToDefaultDate);a.value=Ext.Date.format(b,a.format)}},getInternalDate:function(){var a=this;if(!Ext.isEmpty(a.getValue())){return(Ext.Date.format(a.getValue(),a.internalDateFormat))}},adjustDate:function(e){var d=this;var b=Ext.get(d.dctSystemDate);var a=(b)?Ext.Date.parse(b.getValue(),d.format):new Date();var c=Ext.Date.add(a,Ext.Date.DAY,e);d.setValue(c)},addDate:function(b,e){var d=this;var a=Ext.Date.parse(b,d.format);if(a!=null){var c=Ext.Date.add(a,Ext.Date.DAY,e)}else{var c=Ext.Date.add(b,Ext.Date.DAY,e)}d.setValue(c)},setAutoCreate:function(a){var c=(Ext.isDefined(a.size))?a.size:10;a.width=(Ext.isDefined(a.width))?a.width:c*7.5+20;a.size=0;var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}a.inputAttrTpl=b},setMaxLength:function(b){var c=this;var a=(Ext.isEmpty(b.dateFormat))?c.defaultDateFormat:b.dateFormat;b.maxLength=(Ext.isEmpty(b.maxLength))?Number.MAX_VALUE:((a.length>b.maxLength)?a.length:b.maxLength)},setListeners:function(a){var b=this;a.listeners={specialkey:function(d,c){if(c.getKey()==c.ENTER){return false}},blur:{fn:b.fieldValidation,scope:this},change:{fn:b.fieldChanged,scope:this},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:this},keydown:{fn:function(c,d){switch(d.getKey()){case d.TAB:DCT.Util.setKeysUsed(true,d.shiftKey);break}},scope:b}}},setDateFormat:function(b){var c=this;if(Ext.isEmpty(b.format)){var a=(Ext.isEmpty(b.dateFormat))?c.defaultDateFormat:b.dateFormat;if(a.search("yyyy")>-1){a=a.replace("yyyy","Y")}else{a=a.replace("yy","y")}if(a.search("MMM")>-1){a=a.replace("MMM","M")}else{if(a.search(/mm/i)>-1){a=a.replace(/mm/i,"m")}else{a=a.replace(/m/i,"n")}}if(a.search("dd")>-1){a=a.replace("dd","d")}else{a=a.replace("d","j")}b.format=a;b.formatText=Ext.String.formatEncode(c.formatText,(Ext.isEmpty(b.dateFormat))?c.defaultDateFormat:b.dateFormat)}},setAltFormats:function(a){if(Ext.isEmpty(a.altFormats)){switch(a.format){case"d-m-Y":case"d/m/Y":a.altFormats="d/m/Y|j/n/Y|j/n/y|j/m/y|d/n/y|j/m/Y|d/n/Y|d-m-y|d-m-Y|d/m|d-m|dm|dmy|dmY|d|Y-d-m";break;case"d-MMM-Y":case"d/MMM/Y":a.altFormats="dMY|jMY|d-M-Y|j-M-Y|dMy|jMy|d-M-y|j-M-y|dmY|d-m-Y|d-n-Y|j-n-Y|d-n-y|j-n-y";break;default:a.altFormats=Ext.form.DateField.prototype.altFormats+"|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|n-j|n/j|n-j-Y|n-j-y|m-j-y|n-d-y|m-j-Y|n-d-Y|m/d/y";break}}a.altFormats="c|"+a.altFormats},setMinMaxDates:function(a){switch(a.format){case"d-m-Y":case"d/m/Y":var b=(a.format=="d/m/Y")?"/":"-";if(!Ext.isEmpty(a.minValue)){a.minValue=a.minValue.substr(8)+b+a.minValue.substr(5,2)+b+a.minValue.substr(0,4)}if(!Ext.isEmpty(a.maxValue)){a.maxValue=a.maxValue.substr(8)+b+a.maxValue.substr(5,2)+b+a.maxValue.substr(0,4)}break;case"d-MMM-Y":case"d/MMM/Y":var b=(a.format=="d/MMM/Y")?"/":"-";if(!Ext.isEmpty(a.minValue)){a.minValue=a.minValue.substr(8)+b+a.minValue.substr(5,2)+b+a.minValue.substr(0,4)}if(!Ext.isEmpty(a.maxValue)){a.maxValue=a.maxValue.substr(8)+b+a.maxValue.substr(5,2)+b+a.maxValue.substr(0,4)}break;default:break}},setDefaultListeners:function(a){}});DCT.Util.reg("dctinputdatefield","inputDateField","DCT.InputDateField");Ext.define("DCT.SystemDateField",{extend:"DCT.InputDateField",inputXType:"dctsystemdatefield",xtype:"dctsystemdatefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});DCT.Util.reg("dctsystemdatefield","systemDateField","DCT.SystemDateField");Ext.define("DCT.BatchSearchDateField",{extend:"DCT.SystemDateField",inputXType:"dctbatchsearchdatefield",xtype:"dctbatchsearchdatefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(f,d){var c=this;c.batchSearch(f,d)},scope:b}})},batchSearch:function(c,b){var a=this;if(b.getKey()==b.ENTER){if(c.isValid()){a.resetOpenQuery("batchProcess")}}}});DCT.Util.reg("dctbatchsearchdatefield","batchSearchDateField","DCT.BatchSearchDateField");Ext.define("DCT.PolicySearchDateField",{extend:"DCT.SystemDateField",inputXType:"dctpolicysearchdatefield",hidden:true,xtype:"dctpolicysearchdatefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(f,d){var c=this;c.policySearch(f,d)},scope:b}})},policySearch:function(c,b){var a=this;if(b.getKey()==b.ENTER){if(c.isValid()){DCT.Submit.applySearchFilter(DCT.Submit.activeSearchMode)}}}});DCT.Util.reg("dctpolicysearchdatefield","policySearchDateField","DCT.PolicySearchDateField");Ext.define("DCT.BillingDateField",{extend:"DCT.SystemDateField",inputXType:"dctbillingdatefield",xtype:"dctbillingdatefield",});DCT.Util.reg("dctbillingdatefield","billingDateField","DCT.BillingDateField");Ext.define("DCT.BasicChangeDateField",{extend:"DCT.BillingDateField",inputXType:"dctbasicchangedatefield",xtype:"dctbasicchangedatefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(d,e,c){if(d.isValid()){DCT.Util.enableDisableActionButton(b.dctCheckFunction(d),b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b},select:{fn:function(c,d){DCT.Util.enableDisableActionButton(b.dctCheckFunction(c),b.dctActionButton)},scope:b}})}});DCT.Util.reg("dctbasicchangedatefield","basicChangeDateField","DCT.BasicChangeDateField");Ext.define("DCT.BasicKeyUpDateField",{extend:"DCT.BasicChangeDateField",inputXType:"dctbasickeyupdatefield",xtype:"dctbasickeyupdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(b.dctCheckFunction(c),b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})}});DCT.Util.reg("dctbasickeyupdatefield","basicKeyUpDateField","DCT.BasicKeyUpDateField");Ext.define("DCT.CashManagementDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctcashmanagementdatefield",xtype:"dctcashmanagementdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(d,c){b.submitPage(d,c)},scope:b}})},submitPage:function(c,b){var a=this;if(b.getKey()==b.ENTER){if(c.isValid()){DCT.Submit.submitBillingPageActionWithCheck(a.dctTargetPage,a.dctAction,a.dctCheckEvent,a.dctActionButton)}}},dctCheckFunction:function(a){var b=this;return(b.checkIfBatchSearchFieldsBlank())}});DCT.Util.reg("dctcashmanagementdatefield","cashManagementDateField","DCT.CashManagementDateField");Ext.define("DCT.ApplyFilterDateField",{extend:"DCT.BillingDateField",inputXType:"dctapplyfilterdatefield",xtype:"dctapplyfilterdatefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(d,e,c){if(d.isValid()){DCT.Grid.applyScheduledItemsFiltersToList(Ext.getCmp(b.dctDataGridId).getStore())}},scope:b}})}});DCT.Util.reg("dctapplyfilterdatefield","applyFilterDateField","DCT.ApplyFilterDateField");Ext.define("DCT.DepositBatchDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctdepositbatchdatefield",xtype:"dctdepositbatchdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(d,c){b.loadGrid(d,c)},scope:b}})},loadGrid:function(c,b){var a=this;if(b.getKey()==b.ENTER){if(c.isValid()){DCT.Grid.applySearchFieldsToGrid(Ext.getCmp(a.dctDataGridId).getStore())}}},dctCheckFunction:function(a){var b=this;return(b.checkIfBatchSearchFieldsBlank())}});DCT.Util.reg("dctdepositbatchdatefield","depositBatchDateField","DCT.DepositBatchDateField");Ext.define("DCT.HoldAccountDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctholdaccountdatefield",xtype:"dctholdaccountdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{change:{fn:function(d,e,c){b.showHideResumeOptions(e!="")},scope:b}})}});DCT.Util.reg("dctholdaccountdatefield","holdAccountDateField","DCT.HoldAccountDateField");Ext.define("DCT.EFTDateField",{extend:"DCT.BillingDateField",inputXType:"dcteftdatefield",xtype:"dcteftdatefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(d,e,c){if(d.isValid()){DCT.Util.enableDisableActionButton(false,b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b},keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(false,b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b},select:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(false,b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})}});DCT.Util.reg("dcteftdatefield","eftDateField","DCT.EFTDateField");Ext.define("DCT.SearchPaymentDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctsearchpaymentdatefield",xtype:"dctsearchpaymentdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(d,c){b.submitPage(d,c)},scope:b}})},submitPage:function(c,b){var a=this;if(b.getKey()==b.ENTER){if(c.isValid()){DCT.Submit.submitBillingPageAction(a.dctTargetPage,a.dctAction,a.dctCheckEvent,a.dctActionButton)}}},dctCheckFunction:function(){var a=this;return(a.checkIfPaymentSearchFieldsBlank())}});DCT.Util.reg("dctsearchpaymentdatefield","searchPaymentDateField","DCT.SearchPaymentDateField");Ext.define("DCT.InstallmentDateField",{extend:"DCT.BillingDateField",inputXType:"dctinstallmentdatefield",xtype:"dctinstallmentdatefield",setDisable:function(a){}});DCT.Util.reg("dctinstallmentdatefield","installmentDateField","DCT.InstallmentDateField");Ext.define("DCT.BillingHoldEventDateField",{extend:"DCT.BasicChangeDateField",inputXType:"dctbillingholdeventdatefield",xtype:"dctbillingholdeventdatefield",dctCheckFunction:function(a){var b=this;return(b.checkIfHoldEventFieldsBlank())},setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{blur:{scope:b,fn:function(d,c){b.checkIfHoldEventFieldsBlank()}}})}});DCT.Util.reg("dctbillingholdeventdatefield","billingHoldEventDateField","DCT.BillingHoldEventDateField");Ext.define("DCT.BillingHoldDateField",{extend:"DCT.BasicChangeDateField",inputXType:"dctbillingholddatefield",xtype:"dctbillingholddatefield",dctCheckFunction:function(a){var b=this;return b.checkIfHoldFieldsBlank()},setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{blur:{scope:b,fn:function(d,c){b.checkIfHoldFieldsBlank()}}})}});DCT.Util.reg("dctbillingholddatefield","billingHoldDateField","DCT.BillingHoldDateField");Ext.define("DCT.BillingEditHoldDateField",{extend:"DCT.BillingDateField",inputXType:"dctbillingeditholddatefield",xtype:"dctbillingeditholddatefield",dctCheckFunction:function(a){var b=this;return(b.checkIfEditHoldFieldsBlank())}});DCT.Util.reg("dctbillingeditholddatefield","billingEditHoldDateField","DCT.BillingEditHoldDateField");Ext.define("DCT.BillingAddStatementDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctbillingaddstatementdatefield",xtype:"dctbillingaddstatementdatefield",dctCheckFunction:function(a){var b=this;return(b.checkIfAddItemFieldsBlank())}});DCT.Util.reg("dctbillingaddstatementdatefield","billingAddStatementDateField","DCT.BillingAddStatementDateField");Ext.define("DCT.AgencyReceivedDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctagencyreceiveddatefield",xtype:"dctagencyreceiveddatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{afterrender:{fn:function(d){var c=DCT.T("DatePaymentReceivedByCarrier");Ext.create("Ext.ToolTip",{target:d.id,html:Ext.String.trim(c),showDelay:100,dismissDelay:0,trackMouse:true})},scope:b}})}});DCT.Util.reg("dctagencyreceiveddatefield","agencyReceivedDateField","DCT.AgencyReceivedDateField");Ext.define("DCT.AgencyPostDateField",{extend:"DCT.BillingDateField",inputXType:"dctagencypostdatefield",xtype:"dctagencypostdatefield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{afterrender:{fn:function(d){var c=DCT.T("DatePaymentAdded");Ext.create("Ext.ToolTip",{target:d.id,html:Ext.String.trim(c),showDelay:100,dismissDelay:0,trackMouse:true})},scope:b}})}});DCT.Util.reg("dctagencypostdatefield","agencyPostDateField","DCT.AgencyPostDateField");Ext.define("DCT.BillingManualStartDateField",{extend:"DCT.BasicKeyUpDateField",inputXType:"dctbillingmanualstartdatefield",xtype:"dctbillingmanualstartdatefield",dctCheckFunction:function(a){var b=this;return(b.checkRedistributeInput(a))}});DCT.Util.reg("dctbillingmanualstartdatefield","billingManualStartDateField","DCT.BillingManualStartDateField");Ext.define("DCT.PartyDateField",{extend:"DCT.SystemDateField",inputXType:"dctpartydatefield",xtype:"dctpartydatefield"});DCT.Util.reg("dctpartydatefield","partyDateField","DCT.PartyDateField");Ext.apply(DCT.FieldsChanged,{set:function(){DCT.Util.getSafeElement("_fieldChanged").value=1},clear:function(){DCT.Util.getSafeElement("_fieldChanged").value=0},fieldHasChanged:function(){return(DCT.Util.getSafeElement("_fieldChanged").value==1)}});Ext.apply(DCT.Submit,{selectLanguage:function(a){DCT.Util.getSafeElement("_language").value=a;DCT.Submit.submitPageAction(DCT.currentPage,"setLanguage")}});Ext.apply(DCT.Grid,{applySearch:function(c,a){var e=this;var d=e.getFilterKeys(a);var b=Ext.getDom("_previousPage").value;Ext.getDom("_filterXML").value=d;c.loadPage(1,{params:{_previousPage:b,_filterXML:d}})},applyFilterToDataStore:function(b,a,e){var d=0;var f=0;var c=true;if(!Ext.isEmpty(a)){c=a}if(!Ext.isEmpty(b)){if(c){b.loadPage(b.currentPage,{callback:function(h,g,l){var k=this;if(Ext.isEmpty(h)){DCT.Util.getSafeElement("_gridAction").value="";DCT.Util.getSafeElement("_gridPage").value="";DCT.Util.getSafeElement("_submitAction").value="";if(Ext.isDefined(e)){e()}while(k.currentPage-1>0&&Ext.isEmpty(h)){k.loadPage(k.currentPage-1,{callback:function(p,o,m){DCT.LoadingMessage.hide()}})}}else{DCT.LoadingMessage.hide();DCT.Util.getSafeElement("_gridAction").value="";DCT.Util.getSafeElement("_gridPage").value="";DCT.Util.getSafeElement("_submitAction").value="";if(Ext.isDefined(e)){e()}}}})}}},getFilterKeys:function(a){var f=Ext.dom.Query.select("INPUT[type!=hidden]");var d="<keys>";for(i=0;i<f.length;i++){var e=f[i];var c=Ext.getCmp(e.getAttribute("data-componentid"));if(e.value.length>0&&(e.id.indexOf("Agency")==0)&&!Ext.isEmpty(c)){var b=(c.hiddenName)?c.hiddenName:c.name;if(Ext.isEmpty(c.getValue())||!a){d=d+'<key name="'+b.replace(/_/,".")+'" value="'+c.getValue()+'" connector="and" op="contains" />'}else{d=d+'<key name="'+b.replace(/_/,".")+'" value="'+c.getValue()+'" connector="and" op="equal" />'}}}d=d+"</keys>";return d}});Ext.apply(DCT.Grid,{senderItemDeselected:function(a,b,c){DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},senderItemSelected:function(a,b,c){DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},deleteNotification:function(a,b){DCT.Submit.actionVerify(DCT.T("AreYouSureDeleteNotification"),function(c){DCT.Grid.completeDeleteNotification(c,a,b)},false)},completeDeleteNotification:function(b,a,c){var d=this;if(b!="no"){DCT.Util.getSafeElement("_gridAction").value="deleteMessage";DCT.Util.getSafeElement("_returnPage").value=c;DCT.Util.getSafeElement("_submitAction").value="deleteMessage";DCT.Util.getSafeElement("_messageID").value=a;d.applyFilterToDataStore(Ext.getCmp("messagesList").getStore(),true,DCT.Grid.resetDeleteNotification)}},resetDeleteNotification:function(){DCT.Util.getSafeElement("_messageID").value=0;DCT.Util.getSafeElement("_submitAction").value=""}});Ext.apply(DCT.Submit,{submitMessage:function(a){var c=this;if(Ext.get("newMessageAnchor").hasCls("btnDisabled")){return}var b=DCT.Util.getSendToTypeValue();switch(b){case"users":Ext.getCmp("userList").assignGridSelection(false,"");break;case"entities":Ext.getCmp("entitiesList").assignGridSelection(false,"");break;case"entityGroup":Ext.getCmp("entityGroupList").assignGridSelection(false,"");break}if(a!=null){DCT.Util.getSafeElement("_targetPage").value=a}c.submitAction("saveNotification")},actOnMessage:function(a,c){var b=this;var d=DCT.ajaxProcess.waitForRequests(b);if(d){return}DCT.Util.getSafeElement("_messageID").value=a;if(c=="newNotification"){DCT.Util.getSafeElement("_detailMode").value="AddNotification";b.submitPageAction("messageNew",c)}else{DCT.Util.getSafeElement("_detailMode").value="ViewNotification";b.submitPageAction("message",c)}}});Ext.apply(DCT.Util,{checkIfMessageFieldsBlank:function(){var b=Ext.getCmp("messageType").getValue();var a=Ext.getCmp("body").getValue();var d=this.getSendToTypeValue();var c=false;if(d!="all"){switch(d){case"users":if(Ext.getCmp("userList").getSelectionModel().getCount()==0){c=true}break;case"entities":if(Ext.getCmp("entitiesList").getSelectionModel().getCount()==0){c=true}break;case"entityGroup":if(Ext.getCmp("entityGroupList").getSelectionModel().getCount()==0){c=true}break;default:return true}if((b=="")||(a=="")||c){return true}}else{if(((b=="")||(a==""))&&Ext.getCmp("_allUsersOption").getValue()){return true}}return false},getSendToTypeValue:function(){var a=Ext.getCmp("entitiesRadioGroup").getValue();if(!Ext.Object.isEmpty(a)){return Ext.Object.getValues(a)[0]}}});Ext.apply(DCT.Util,{processOnLoad:function(){var a=this;if(!Ext.QuickTips.isEnabled()){Ext.QuickTips.init()}a.setFormEncoding();a.initializePage();DCT.Sections.initialize();a.onLoadFromPopupCheck();a.resumeTabSession();a.customOnload();a.setGuidPropertiesForTab()},customOnload:function(){},customOnClick:function(a){},getApplication:function(){var b=this,a="duckcreek";if(!Ext.isEmpty(DCT.portals)){Ext.each(DCT.portals,function(c){if(c.active==="1"){switch(c.portalType.toLowerCase()){case"pas":a="policy";return false;case"bil":a="billing";return false;case"bilact":a="billing";return false;case"pty":a="duckcreekparty";return false;default:a="duckcreek";return false}}},b)}return a},onLoadFromPopupCheck:function(){var a=DCT.Util.getParent();if((DCT.currentPage=="login"||DCT.currentPage=="dashboardHome")&&a!=self){if(a.DCT){DCT.LoadingMessage.show();a.DCT.Submit.submitPage(DCT.currentPage);return}}},setFormEncoding:function(){var b;var a=Ext.query("input[type=file]");if(a.length>0){Ext.getDom("mainForm").encoding="multipart/form-data"}else{Ext.getDom("mainForm").encoding="application/x-www-form-urlencoded"}},initializePage:function(){var l=true;DCT.Util.toggleButtons(false);try{if(DCT.notifyMessage){DCT.Util.removeTabs(true);Ext.create("DCT.AlertMessage",{msg:DCT.notifyMessage,fn:function(){DCT.Util.removeTabs(false);if(DCT.redirectToFormsLogin){DCT.Submit.submitForm()}}}).show()}if(DCT.closePopup){var f=Ext.getCmp("dctPopupWindow");if(f){f.closePopupWindow()}}var h=DCT.Util.getFocusField();if(!Ext.isEmpty(h)){var d=Ext.getDom(h);if(!Ext.isEmpty(d)){if(!DCT.Util.isInterviewControl(h)){d.focus(false,5);l=false}else{var m=Ext.getCmp(h);if(m){m.focus(false,5);l=false}}}}if(l){var a=DCT.Util.getSafeElement("_popUp").value;if(a=="true"||a=="1"){DCT.Util.findAndSetFocus(500)}else{DCT.Util.findAndSetFocus()}}DCT.Util.getSafeElement("_action").value="";var b=Ext.get("leftPanelArea");var g=Ext.get("leftPanelAreaBody");var c=Ext.get("main");if(b&&g&&c){if(g.dom.children.length===0){b.setDisplayed(false);c.setWidth("100%")}else{b.setDisplayed(true);c.setWidth(null)}}else{c.setWidth(null)}}catch(k){}},resumeTabSession:function(){var a=window.name.replace("TabSession-","");if(DCT.currentPage=="login"&&window.name.search("TabSession-")>-1&&a!=DCT.Util.getWindowGuid()&&!Ext.isEmpty(window.history.state)){document.getElementById("wrapper").style.visibility="hidden";DCT.Util.setWindowGuid(a);DCT.LoadingMessage.show();window.location.href=DCT.Util.getPostUrl()+"&resumeState=latest"}},setGuidPropertiesForTab:function(){var a;if(window.name==="EndSession"){DCT.Util.setWindowGuid("");window.name=""}else{if(DCT.Util.getSafeElement("_popUp").value==="false"){a=DCT.Util.getWindowGuid();if(Ext.isEmpty(window.name)&&Ext.isEmpty(window.opener)&&!Ext.isEmpty(window.history.state)){window.name="TabSession-"+window.history.state;DCT.Util.setWindowGuid(window.history.state);document.getElementById("wrapper").style.visibility="hidden";DCT.LoadingMessage.show();window.location.href=DCT.Util.getPostUrl()+"&_duplicateWindow=1&resumeState=latest"}else{window.name="TabSession-"+a}}}if(window.history.replaceState){a=DCT.Util.getWindowGuid();window.history.replaceState(a,document.title,DCT.postPage)}}});Ext.define("DCT.ExternalModules",{extend:"Ext.Panel",dctControl:true,inputXType:"dctexternalmodules",xtype:"dctexternalmodules",constructor:function(a){var b=this;b.checkControlExists(a);b.setBodyCfg(a);b.callParent([a])},setBodyCfg:function(a){if(a.dctContentType=="iframe"){a.items={xtype:"component",autoEl:{src:a.dctContentUrl,name:a.dctContentName||a.id+"-externalContentFrame",id:a.id+"-externalContentFrame",tag:"iframe",cls:"x-panel-body",frame:false,bodyBorder:false,width:"100%",scrolling:a.dctContentScrollable,frameBorder:0,marginwidth:"0",marginheight:"0",height:(a.height)?(a.height*1)-40:null,style:{overflow:"auto"}}}}}});DCT.Util.reg("dctexternalmodules","externalModules","DCT.ExternalModules");Ext.define("DCT.PopupWindow",{extend:"Ext.Window",dctControl:true,inputXType:"dctpopupwindow",plain:true,layout:"border",closable:true,cls:"genericPopUp",closeAction:"dctCloseAction",bodyBorder:false,dctPopupId:"dctPopupWindow",dctPopupPrefix:"dctPopup_",xtype:"dctpopupwindow",constructor:function(a){var b=this;b.setId(a);b.checkControlExists(a);b.setPanelFrameId(a);b.setWindowTitle(a);b.setModalItems(a);b.setSizeItems(a);b.setItems(a);b.setListeners(a);b.callParent([a])},setListeners:function(a){var b=this;a.listeners={show:{fn:function(c){DCT.Util.removeTabs(true)},scope:b},hide:{fn:function(d){var c=this;c.hideWindow()},scope:b,delay:10}};if(a.modal){Ext.apply(a.listeners,{minimize:{fn:function(c){c.minimized=true;c.setSize(c.minWidth,c.minWidth/2)},scope:b},restore:{fn:function(c){if(c.minimized){c.minimized=false;c.setSize(a.width,a.height)}},scope:b}})}},hideWindow:function(){var c=this;DCT.Util.removeTabs(false);var b=Ext.getCmp("dctPopupWindow");if(!Ext.isEmpty(b)&&window.name.search("dctPopup")>-1){DCT.Util.getSafeElement("_popUp").value="1"}else{DCT.Util.getSafeElement("_popUp").value="0"}if(c.dctInterview){c.dctCloseAction();return}if(c.dctPartyReturn){DCT.ajaxProcess.submitPartyReturn(2,"partyStop:partyReturn","","")}var a=Ext.ComponentQuery.query("component",c);Ext.each(a,function(d){d.destroy()});c.destroy()},setId:function(a){var b=this;if(a.modal){a.id=b.dctPopupId}},randomId:function(){var b="";for(var a=0;a<32;a++){b+="ABCDEF1234567890".charAt(Math.floor(Math.random()*16))}return b},setWindowTitle:function(a){a.title=(a.title)?a.title:document.title},setPanelFrameId:function(a){var b=this;a.dctPanelFrameId=b.dctPopupPrefix+a.id+b.randomId()},setModalItems:function(a){if(!a.modal){a.shadow=false;a.maximizable=true;a.minimizable=true}else{a.shadow=false;a.style={position:"fixed"}}},setSizeItems:function(a){var c=document.documentElement.clientWidth*0.8;var b=document.documentElement.clientHeight*0.8;if(!(a.width>0)){a.width=c;a.height=b}a.width=Ext.Number.constrain(a.width,50,c);a.height=Ext.Number.constrain(a.height,50,b)},setItems:function(b){var a={dctScrollbars:b.dctScrollbars,dctFrameID:b.dctPanelFrameId,width:b.width,height:b.height};if(b.dctPanelConfig){Ext.apply(a,b.dctPanelConfig)}b.items=Ext.create(b.dctItemClass,a)},closePopupWindow:function(){var b=this;if(b.dctParentIsPopup=="false"||b.dctParentIsPopup=="0"||!b.dctParentIsPopup){DCT.Util.getSafeElement("_popUp").value="0"}if(b.dctAssignFocus){var a=DCT.Util.getFocusField();if(DCT.Util.isInterviewControl(a)){if(Ext.getCmp(a)){Ext.getCmp(a).setFieldFocus()}}else{if(Ext.get(a)){Ext.get(a).focus(false,5)}}}DCT.Util.removeTabs(false);Ext.Function.defer(b.destroy,200,b)},unghost:function(c,a,b){var f=this,e=f.el,d=f.ghostPanel;if(!d){return}e.show();e.setVisibilityMode(f.elVisMode);if(c!==false){if(a!==false){f.setPagePosition(d.getXY())}}else{e.hide()}if(document.documentElement.clientWidth-10<=f.x||document.documentElement.clientHeight-10<=f.y||(f.x+d.getWidth())<=10||(f.y+d.getHeight())<=10){f.setPosition(50,50)}if((window.window.screen.availWidth-20)<document.documentElement.clientWidth&&(window.window.screen.availHeight-120)<document.documentElement.clientHeight){if(f.y>=(document.documentElement.clientHeight-150)){f.setPosition(50,50)}}d.el.hide();d.setHiddenState(true)},dctCloseAction:function(){var f=this;var h=window.open("",f.dctPanelFrameId);var g=h.Ext.select("div[data-config*=isCancel]").elements;if(g.length>0){var e=g[0];var b=h.Ext.get(e.id);var c=b.parent().select("a").elements[0];if(c){if(typeof c.onclick=="function"){c.onclick.apply(c)}}}else{f.hide();var d=Ext.getDom("_currentAction");if(d){DCT.Util.getSafeElement("_targetPage").value=DCT.currentPage;DCT.Util.getSafeElement("_action").value=d.value;DCT.ajaxProcess.completeContentAjax()}}}});DCT.Util.reg("dctpopupwindow","popupWindow","DCT.PopupWindow");Ext.define("DCT.DisplayPanel",{extend:"Ext.Panel",inputXType:"dctdisplaypanel",margins:"3 3 3 0",dctControl:true,region:"center",dctScrollbars:null,bodyBorder:false,xtype:"dctdisplaypanel",constructor:function(a){var b=this;b.setHtmlItems(a);b.setListeners(a);b.callParent([a])},setListeners:function(a){},setHtmlItems:function(b){var a="";if(b.dctScrollbars!=null){if(b.dctScrollbars){a='scrolling="yes"'}else{a='scrolling="no"'}}b.html='<IFRAME id="'+b.dctFrameID+'" style="WIDTH: 100%; HEIGHT: 100%; BACKGROUND-COLOR: transparent" name="'+b.dctFrameID+'" frameBorder="0" width="100%" height="100%"'+a+"></IFRAME>"}});Ext.define("DCT.AnnotationsPanel",{extend:"DCT.DisplayPanel",inputXType:"dctannotationspanel",xtype:"dctannotationspanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(e){var c=this;DCT.Util.showLoadingMessageForPopup(e);document.forms[0].target=c.dctFrameID;var d="<helpItems><fieldId>"+c.dctField+"</fieldId><cacheId>"+c.dctCacheId+"</cacheId><actionId>"+c.dctActionId+"</actionId><currentPageId>"+c.dctCurrentPageId+"</currentPageId></helpItems>";DCT.Util.getSafeElement("_action").value=d;DCT.Util.getSafeElement("_targetPage").value="documentation";DCT.Util.getSafeElement("_popUp").value="1";DCT.Submit.customBeforeSubmit();var f=function(){DCT.Util.getSafeElement("_targetPage").value="";document.forms[0].target="_self";DCT.Util.getSafeElement("_action").value="";if(c.dctParentIsPopup=="false"||c.dctParentIsPopup=="0"||!c.dctParentIsPopup){DCT.Util.getSafeElement("_popUp").value="0"}};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,f)},scope:b}}}});Ext.define("DCT.DocumentationPanel",{extend:"DCT.DisplayPanel",inputXType:"dctdocumentationpanel",xtype:"dctdocumentationpanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);document.forms[0].target=c.dctFrameID;DCT.Util.getSafeElement("_action").value="";DCT.Util.getSafeElement("_targetPage").value="documentation";var e=function(){DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_action").value="";document.forms[0].target="_self"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.define("DCT.PartyPanel",{extend:"DCT.DisplayPanel",inputXType:"dctpartypanel",xtype:"dctpartypanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);document.forms[0]._targetPage.value=c.dctTargetPage;DCT.Util.getSafeElement("_action").value="";document.forms[0].action=DCT.postPage;document.forms[0].target=c.dctFrameID;DCT.Submit.customBeforeSubmit();var e=function(){document.forms[0].target="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.define("DCT.InterviewPanel",{extend:"DCT.DisplayPanel",inputXType:"dctinterviewpanel",xtype:"dctinterviewpanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_action").value=c.dctActionName;document.forms[0].action=DCT.postPage;document.forms[0].target=c.dctFrameID;DCT.Submit.customBeforeSubmit();var e=function(){document.forms[0].target="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.define("DCT.AgencyPanel",{extend:"DCT.DisplayPanel",inputXType:"dctagencypanel",xtype:"dctagencypanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);DCT.Util.getSafeElement("_targetPage").value=c.dctTargetPage;document.forms[0].action=DCT.postPage;document.forms[0].target=c.dctFrameID;var e=function(){DCT.LoadingMessage.cancel();document.forms[0].target="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b},beforedestroy:{fn:function(c){DCT.Util.getSafeElement("_targetPage").value=DCT.Util.getParent().DCT.currentPage},scope:b}}}});Ext.define("DCT.PopupPanel",{extend:"DCT.DisplayPanel",inputXType:"dctpopuppanel",xtype:"dctpopuppanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);document.forms[0].target=c.frameID;DCT.Submit.submitPageAction(DCT.globalPage,DCT.globalAction);document.forms[0].target="_self";DCT.Util.getSafeElement("_popUp").value="0"},scope:b}}}});Ext.define("DCT.ErrorDetailsPanel",{extend:"DCT.DisplayPanel",inputXType:"dcterrordetailspanel",xtype:"dcterrordetailspanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);document.forms[0].target=c.dctFrameID;DCT.Util.getSafeElement("_targetPage").value="errorDetails";var e=function(){DCT.LoadingMessage.cancel();DCT.Util.getSafeElement("_targetPage").value="";document.forms[0].target=DCT.Util.getParent(true).name;DCT.Util.getSafeElement("_action").value="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.define("DCT.ResubmitDetailsPanel",{extend:"DCT.DisplayPanel",inputXType:"dctresubmitdetailspanel",xtype:"dctresubmitdetailspanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);document.forms[0].target=c.dctFrameID;DCT.Util.getSafeElement("_targetPage").value="resubmissionDetails";var e=function(){DCT.LoadingMessage.cancel();DCT.Util.getSafeElement("_targetPage").value="";document.forms[0].target=DCT.Util.getParent(true).name;DCT.Util.getSafeElement("_action").value="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.apply(DCT.Util,{doAnnotationPopup:function(c,e,f,a){var b=DCT.Util.getSafeElement("_popUp").value;var d=Ext.create("DCT.PopupWindow",{width:600,height:300,modal:false,dctParentIsPopup:b,dctItemClass:"DCT.AnnotationsPanel",dctPanelConfig:{dctField:c,dctCacheId:e,dctActionId:f,dctParentIsPopup:b,dctCurrentPageId:a},buttons:[{text:DCT.T("Close"),handler:function(){var h=this;var g=h.findParentByType("dctpopupwindow");g.closePopupWindow()}}]});d.show()},openPopUp:function(f,a,g,b,h,e){var c=DCT.Util.getSafeElement("_popUp").value;DCT.Util.getSafeElement("_popUp").value="1";var d=Ext.create("DCT.PopupWindow",{width:f,height:a,modal:true,title:g,cls:(Ext.isEmpty(h))?null:h,closable:e,dctAssignFocus:true,dctInterview:true,dctItemClass:"DCT.InterviewPanel",dctParentIsPopup:c,dctPanelConfig:{dctParentIsPopup:c,dctActionName:b}});d.show();Ext.getCmp("dctPopupWindow").center()},closePopUp:function(b,a,e){var d=this;var f=DCT.Util.getParent(true);DCT.Util.getSafeElement("_targetPage").value=(b==3)?f.DCT.currentPage:"";DCT.Util.getSafeElement("_action").value=a;document.forms[0].action=DCT.postPage;document.forms[0].target=f.name;if(e=="1"){DCT.Util.resetFields()}var c=f.Ext.getCmp("dctPopupWindow");if(!Ext.isEmpty(c)&&f.name.search("dctPopup")>-1){DCT.Util.getSafeElement("_popUp").value="1"}else{DCT.Util.getSafeElement("_popUp").value="0"}DCT.ajaxProcess.submitAjaxToParent(Ext.Function.createDelayed(d.closeWindow,0,d))},popUpPage:function(g,f,c,b,e,o,d,m,l,a,k){var h=(e==1)?false:true;DCT.LoadingMessage.hideAndCancel();if(c!="1"){if(!DCT.Util.validateFields()){return false}}if(a=="1"){if(k==null||k.length==0){k=DCT.T("AreYouSure")}}if(g==1){if(a!="1"){DCT.Util.openPopUp(d,m,l,f,o,h);return}Ext.Msg.confirm(DCT.T("Confirm"),k,function(p){if(p=="yes"){DCT.Util.openPopUp(d,m,l,f,o,h)}})}else{if(a!="1"){DCT.Util.closePopUp(g,f,b);return}Ext.Msg.confirm(DCT.T("Confirm"),k,function(p){if(p=="yes"){DCT.Util.closePopUp(g,f,b)}})}},closeWindow:function(){var a=DCT.Util.getParent(true).Ext.getCmp("dctPopupWindow");if(a){a.closePopupWindow()}}});Ext.define("DCT.PartyCommonPanel",{extend:"DCT.DisplayPanel",inputXType:"dctpartycommonpanel",xtype:"dctpartycommonpanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(d){var c=this;DCT.Util.showLoadingMessageForPopup(d);DCT.Util.getSafeElement("_submitAction").value=c.dctTargetPage;document.forms[0].target=c.dctFrameID;var e=function(){DCT.LoadingMessage.cancel();document.forms[0].target="";DCT.Util.getSafeElement("_popUp").value="0"};DCT.ajaxProcess.submitAjaxToChild(c.dctFrameID,e)},scope:b}}}});Ext.apply(DCT.Util,{popUpPartyCommon:function(action,partyContextJson){var me=this;DCT.Util.getSafeElement("_popUp").value="1";DCT.Util.getSafeElement("_submitAction").value=me.dctTargetPage;if(partyContextJson){var array=eval("("+partyContextJson+")");for(var i=0;i<array.length;i++){var pair=array[i].split(":");DCT.Util.getSafeElement(pair[0]).value=pair[1]}}var partyCommonPopup=Ext.create("DCT.PopupWindow",{cls:"popUp360",modal:true,closable:true,closeToolText:DCT.T("Close"),dctPartyReturn:true,title:"Customer 360",dctItemClass:"DCT.PartyCommonPanel",dctPanelConfig:{dctTargetPage:action}});partyCommonPopup.show()}});Ext.define("DCT.BaseWindow",{extend:"Ext.Window",dctControl:true,inputXType:"dctbasewindow",modal:true,shadow:true,minWidth:300,minHeight:200,maximizable:true,layout:"fit",plain:true,bodyBorder:false,bodyStyle:"padding:5px;",xtype:"dctbasewindow",constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);b.callParent([a])},setListeners:function(a){var b=this;a.listeners={show:{fn:function(d){var c=this;c.setFocus();DCT.Util.removeTabs(false)},scope:b},close:{fn:function(){var c=this;c.destroy()},scope:b,delay:10}}},closeWindow:function(){var a=this;a.close()},setFocus:function(){var b=this;var a=Ext.getCmp(b.dctFocusFieldId);a.focus(false,10)}});DCT.Util.reg("dctbasewindow","basewindow","DCT.BaseWindow");Ext.define("DCT.PortalPanel",{extend:"Ext.Panel",xtype:"dctportalpanel",border:false,borderBody:false,parent:null,autoDestroy:true,initComponent:function(){DCT.PortalPanel.superclass.initComponent.call(this);this.setParent=function(a){this.parent=a}},constructor:function(a){var b=this;b.checkControlExists(a);b.callParent([a])},checkControlExists:function(b){var c=this;var a=Ext.getCmp(b.id);if(a){a.destroy()}},add:function(a){var b=this;b.reSyncLayout();b.callParent([a])}});DCT.Util.reg("dctportalpanel","portalPanel","DCT.PortalPanel");Ext.define("DCT.PortalColumn",{extend:"DCT.PortalPanel",layout:"anchor",autoHeight:true,defaultType:"portlet",cls:"x-portal-column",xtype:"dctportalcolumn"});DCT.Util.reg("dctportalcolumn","portalColumn","DCT.PortalColumn");Ext.define("DCT.PortalZone",{extend:"DCT.PortalPanel",layout:"column",autoScroll:true,autoHeight:true,border:false,borderBody:false,cls:"x-portal",defaultType:"portalcolumn",xtype:"dctportalzone",initComponent:function(){DCT.PortalZone.superclass.initComponent.call(this)},initEvents:function(){DCT.PortalZone.superclass.initEvents.call(this);if(!Ext.isEmpty(this.dropConfig)){this.dd=Ext.create("DCT.PortalZone.DropZone",this,this.dropConfig)}},beforeDestroy:function(){if(this.dd){this.dd.unreg()}DCT.PortalZone.superclass.beforeDestroy.call(this)}});DCT.Util.reg("dctportalzone","portalZone","DCT.PortalZone");Ext.define("DCT.PortalModule",{extend:"DCT.PortalPanel",xtype:"dctportalmodule",dctControl:true,anchor:"100%",autoHeight:true,frame:true,collapsible:true,draggable:false,style:"margin:5px 5px 10px 5px",cls:"x-portlet"});DCT.Util.reg("dctportalmodule","portalModule","DCT.PortalModule");Ext.define("DCT.PortalZone.DropZone",{extend:"Ext.dd.DropTarget",xtype:"dctportaldropzone",constructor:function(a,b){this.portal=a;Ext.dd.ScrollManager.register(a.body);this.callParent([a.body,b]);a.body.ddScrollConfig=this.ddScrollConfig},ddScrollConfig:{vthresh:50,hthresh:-1,animate:true,increment:200},createEvent:function(a,f,d,b,h,g){return{portal:this.portal,panel:d.panel,columnIndex:b,column:h,position:g,data:d,source:a,rawEvent:f,status:this.dropAllowed}},notifyOver:function(y,w,z){var f=w.getXY(),a=this.portal,r=y.proxy;if(!this.grid){this.grid=this.getGrid()}var b=a.body.dom.clientWidth;if(!this.lastCW){this.lastCW=b}else{if(this.lastCW!=b){this.lastCW=b;a.updateLayout();this.grid=this.getGrid()}}var d=0,o=this.grid.columnX,q=false;for(var v=o.length;d<v;d++){if(f[0]<(o[d].x+o[d].w)){q=true;break}}if(!q){d--}var t,m=false,k=0,x=a.items.itemAt(d),s=x.items.items,l=false;for(var v=s.length;k<v;k++){t=s[k];var u=t.el.getHeight();if(u===0){l=true}else{if((t.el.getY()+(u/2))>f[1]){m=true;break}}}k=(m&&t?k:x.items.getCount())+(l?-1:0);var g=this.createEvent(y,w,z,d,x,k);if(a.fireEvent("validatedrop",g)!==false&&a.fireEvent("beforedragover",g)!==false){r.getProxy().setWidth("auto");if(t){r.moveProxy(t.el.dom.parentNode,m?t.el.dom:null)}else{r.moveProxy(x.el.dom,null)}this.lastPos={c:x,col:d,p:l||(m&&t)?k:false};this.scrollPos=a.body.getScroll();a.fireEvent("dragover",g);return g.status}else{return g.status}},notifyOut:function(){delete this.grid},notifyDrop:function(o,h,g){delete this.grid;if(!this.lastPos){return}var l=this.lastPos.c,f=this.lastPos.col,m=this.lastPos.p,a=o.panel,b=this.createEvent(o,h,g,f,l,m!==false?m:l.items.getCount());if(this.portal.fireEvent("validatedrop",b)!==false&&this.portal.fireEvent("beforedrop",b)!==false){o.proxy.getProxy().remove();a.el.dom.parentNode.removeChild(o.panel.el.dom);if(m!==false){l.insert(m,a)}else{l.add(a)}l.updateLayout();this.portal.fireEvent("drop",b);var p=this.scrollPos.top;if(p){var k=this.portal.body.dom;setTimeout(function(){k.scrollTop=p},10)}}delete this.lastPos},getGrid:function(){var a=this.portal.bwrap.getBox();a.columnX=[];this.portal.items.each(function(b){a.columnX.push({x:b.el.getX(),w:b.el.getWidth()})});return a},unreg:function(){Ext.dd.ScrollManager.unregister(this.portal.body);DCT.PortalZone.DropZone.superclass.unreg.call(this)}});DCT.Util.reg("dctportaldropzone","portalDropZone","DCT.PortalDropZone");Ext.apply(DCT.Util,{printOutWithAction:function(a,c,b,e){DCT.LoadingMessage.hideAndCancel();DCT.LoadingMessage.polling=true;DCT.LoadingMessage.show();var d=Ext.getDom("_stateID").value;Ext.Ajax.request({url:DCT.Util.getPostUrl()+"&_submitAction=&_targetPage=preview&_pageSet="+a+"&_previewXSL="+c+"&mode=popup&_action="+b,success:DCT.LoadingMessage.formsSuccess,failure:DCT.LoadingMessage.formsFailure,scope:DCT.LoadingMessage,params:{_stateID:d},method:"POST"});if(e!="1"){window.onfocus=Ext.Function.createDelayed(DCT.LoadingMessage.resumeSession,0,DCT.LoadingMessage)}}});Ext.apply(DCT.Grid,{toggleRemoveForm:function(e,h,c){var b=Ext.getDom("_removeForm"+e).value;if(b=="1"){Ext.get("RemoveForm"+e).removeCls("collapsed");Ext.get("UndoRemoveForm"+e).addCls("collapsed");Ext.getDom("_removeForm"+e).value="0";Ext.get("policyForm"+e+"_Remove").setDisplayed("none");Ext.get("policyForm"+e+"_On").setDisplayed("inline");if(Ext.getDom("_printJobCB"+e)!=null&&Ext.getDom("_printJobCB"+e).value=="1"){Ext.get("policyForm"+e+"_Add").setDisplayed("inline")}var d=Ext.get("_printJob"+e);if(d){d.replaceCls("x-grid-checkcolumn-hidden","x-grid-checkcolumn");d.setVisible(true)}}else{Ext.get("RemoveForm"+e).addCls("collapsed");Ext.get("UndoRemoveForm"+e).removeCls("collapsed");Ext.getDom("_removeForm"+e).value="1";Ext.get("policyForm"+e+"_Remove").setDisplayed("inline");Ext.get("policyForm"+e+"_Add").setDisplayed("none");Ext.get("policyForm"+e+"_On").setDisplayed("none");var d=Ext.get("_printJob"+e);if(d){var a=Ext.getCmp(c);var g=a.getSelectionModel();var f=g.store.getAt(h);if(g.isSelected(f)){g.deselect(f)}d.replaceCls("x-grid-checkcolumn","x-grid-checkcolumn-hidden");d.setVisible(false)}}},purgeForm:function(b,c,a){DCT.Util.getSafeElement("_formToRemove").value=b;DCT.Util.getSafeElement("_submitAction").value="adHocFormDelete,previewAsyncPrintJob";DCT.ajaxProcess.completeContentAjax(function(){DCT.Util.getSafeElement("_submitAction").value="";Ext.getCmp(a).getStore().reload()})},downloadForm:function(c,b){DCT.Util.getSafeElement("_documentName").value=c;DCT.Util.getSafeElement("_subDocument").value=b;var a=DCT.Util.getSafeElement("_submitAction").value;DCT.Submit.submitPageAction("printJob","downloadPrintJob");DCT.Util.getSafeElement("_submitAction").value=a},setPrintJobBulk:function(){Ext.getDom("_printJobBulk").value="markDefault";var a=Ext.getCmp("printJobList");a.getSelectionModel().clearSelections();a.getStore().reload({callback:function(c,b,d){Ext.getDom("_printJobBulk").value=""}})},setPrintJobRestrict:function(a){if(a==0){Ext.getCmp("printJobRestrict").setValue("")}DCT.Grid.applyFilterToDataStore(Ext.getCmp("printJobList").getStore())},submitPageRefresh:function(){var a=Ext.getCmp("formsShow").getValue();DCT.Util.getSafeElement("_printShowFilter").value=a;DCT.Util.getSafeElement("_submitAction").value="refreshAsyncPrintJob";DCT.Util.getSafeElement("_directProcess").value="1";DCT.Grid.applyFilterToDataStore(Ext.getCmp("printJobList").getStore(),true,DCT.Grid.resetPageVariables)},resetPageVariables:function(){DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.getSafeElement("_directProcess").value=""},deselectPrintJob:function(b,h,l){var a=h.data.name;var g=h.data.selected;var k=Ext.getDom("_printJobCB"+a);if(k){k.value="0";var c=Ext.get("policyForm"+a+"_Selected");if(c){c.setDisplayed(false)}var e=Ext.get("policyForm"+a+"_Optional");if(e){e.setDisplayed(true)}}var f=b.getCount();if(f>=0){var d=Ext.get("policyForm"+a+"_Add");if(d){d.setDisplayed(false)}}},selectPrintJob:function(b,k,m){var a=k.data.name;var h=k.data.remove;var g=k.data.selected;var l=Ext.getDom("_printJobCB"+a);if(l){l.value="1";var c=Ext.get("policyForm"+a+"_Selected");if(c){c.setDisplayed(true)}var e=Ext.get("policyForm"+a+"_Optional");if(e){e.setDisplayed(false)}}if(!h){var f=b.getCount();if(f>0){var o=Ext.get("policyForm"+a+"_On");if(o&&!o.isVisible()){var d=Ext.get("policyForm"+a+"_Add");if(d){d.setDisplayed(true)}}}}},checkPrintJob:function(b,c,h,e){var f=c.data.printDefault;var d=c.data.name;var a=c.data.remove;var g=Ext.DomQuery.selectValue("printDocs/@readOnly",c.store.proxy.reader.rawData);if(Ext.getDom("_removeForm"+d)){a=(Ext.getDom("_removeForm"+d).value=="1")}if((f=="Mandatory"||g=="1")||(a)){return false}else{return true}},displayAddFormPopUp:function(e,b,h,d){var f=(h==undefined||h=="");var c=(f)?null:Ext.getCmp(d).getStore().getAt(h);var a=Ext.getCmp("addFormPopup");if(a){return}var g=Ext.create("Ext.Window",{title:(f)?DCT.T("AddForm"):"Edit Form",width:350,height:350,modal:true,id:"addFormPopup",cls:"x-addFormPopup",isNewForm:f,dctFocusFieldId:"fileUpload",renderTo:"mainForm",items:Ext.create("DCT.AddForm",{id:"addFormPanel",isNewForm:f,formData:c}),buttons:[{text:(f)?DCT.T("Add"):"Update",id:"_saveAddButton",disabled:true,handler:function(){Ext.getCmp("addFormPanel").saveAdd()},scope:this},{text:DCT.T("Cancel"),id:"_cancelAddButton",disabled:false,handler:function(){Ext.getCmp("addFormPanel").closeForm()},scope:this}]});g.show()}});Ext.apply(DCT.Submit,{actOnPrintJob:function(c,a){var b=this;DCT.Util.getSafeElement("_printJobForm").value=a;if(c=="preview"||c=="previewAdHoc"){b.printOut("","printjob:"+a,c)}else{b.submitPage(c)}},printOut:function(a,c,b){if(!b){b="preview"}var d=Ext.getDom("_stateID").value;Ext.Ajax.request({url:DCT.Util.getPostUrl()+"&_submitAction=&_targetPage="+b+"&_pageSet="+a+"&_previewXSL="+c+"&mode=popup",success:DCT.LoadingMessage.formsSuccess,failure:DCT.LoadingMessage.formsFailure,params:{_stateID:d},scope:DCT.LoadingMessage,method:"POST"})},getReviewAction:function(){if((Ext.getDom("reviewedValue").value)!=Ext.getDom("reviewValueOld").value){return"refreshAsyncPrintJob"}return"previewAsyncPrintJob"},submitPreviewAction:function(b,a){DCT.ajaxProcess.submitPreviewAjax("PageContainer",b,"0");DCT.Submit.actOnPrintJob("preview","FORM:"+a)},actOnPrintJobWithReturnToList:function(e,c,b,d,a,g,f){DCT.Util.getSafeElement("_tempManuScriptID").value=b;DCT.Util.getSafeElement("_reviewValue").value=d;DCT.Util.getSafeElement("_reviewFormName").value=a;DCT.Util.getSafeElement("_currentStartIndex").value=g;DCT.Util.getSafeElement("_clickedRowIndex").value=f;DCT.Submit.actOnPrintJob(e,c)}});DCT.AddForm=Ext.extend(Ext.Panel,{inputXType:"dctaddform",labelWidth:100,bodyBorder:false,formId:"addForm",saveButton:"_saveAddButton",cancelButton:"_cancelAddButton",layout:"form",xtype:"dctaddform",constructor:function(a){var b=this;b.checkControlExists(a);b.setDefaults(a);b.setPanelItems(a);b.callParent([a])},setDefaults:function(a){var b=this;a.defaults={listeners:{change:{fn:b.checkChanges,scope:b}}}},setPanelItems:function(a){var b=this;a.items=[{xtype:"dctsystemfilefield",fieldLabel:DCT.T("FormFile"),id:"fileUpload",name:"_fileUpload",disabled:(a.isNewForm)?false:true,fileUpload:true,buttonText:DCT.T("Browse"),buttonOnly:false,validator:function(c){if(c==""){return DCT.T("NoFileSelected")}else{if(!(c.toLowerCase().indexOf(".doc")>=0||c.toLowerCase().indexOf(".docx")>=0||c.toLowerCase().indexOf(".pdf")>=0)){return DCT.T("InvalidFormFileType")}}return true}},{xtype:"dctsystemtextfield",fieldLabel:DCT.T("FormName"),id:"formName",name:"_formName",readOnly:(a.isNewForm)?false:true,dctRegEx:/^[a-zA-Z0-9-_]+$/,dctRegExMsg:DCT.T("InvalidFormName"),allowBlank:false,value:(a.isNewForm)?"":a.formData.get("name")},{xtype:"dctsystemtextfield",fieldLabel:DCT.T("FormCaption"),id:"caption",name:"_caption",value:(a.isNewForm)?"":a.formData.get("caption"),readOnly:(a.isNewForm)?false:true},{xtype:"dctsystemtextfield",fieldLabel:DCT.T("Category"),id:"category",name:"_category",value:(a.isNewForm)?"":a.formData.get("category"),readOnly:(a.isNewForm)?false:true},{xtype:"dctsystemnumberfield",fieldLabel:DCT.T("FormPrintOrder"),id:"printOrder",value:(a.isNewForm)?parseInt(DCT.Util.getSafeElement("_printOrder").value)+1:a.formData.get("order"),name:"_printOrder",readOnly:DCT.Util.getSafeElement("_canReorder").value!="1",allowBlank:false},{xtype:"dctsystemdisplayfield",fieldLabel:DCT.T("PrintJobName"),value:DCT.Util.getSafeElement("_printJobName").value,id:"printJobName",name:"_printJobName",readOnly:true,allowBlank:false},{xtype:"dctsystemnumberfield",fieldLabel:DCT.T("PaperBin"),id:"paperBin",value:"0",name:"_paperBin",allowBlank:false},{xtype:"dctsystemcheckboxfield",fieldLabel:"",boxLabel:DCT.T("PrintDuplex"),id:"isDuplex",name:"_isDuplex",checked:false,inputValue:"0"}]},checkChanges:function(e,d,a,b){var c=this;if(!c.isValidFormData()||(c.isValidFormData()&&!c.isFormDirty())){c.disableAddSave()}else{c.enableAddSave()}},enableAddSave:function(){var a=this;Ext.getCmp(a.saveButton).enable()},disableAddSave:function(){var a=this;Ext.getCmp(a.saveButton).disable()},saveAdd:function(){var a=this;if(a.isValidFormData()&&a.isFormDirty()){DCT.Util.getSafeElement("_submitAction").value="adHocFormAdd,previewAsyncPrintJob";DCT.LoadingMessage.show();if(a.isNewForm){mainForm.enctype="multipart/form-data";mainForm.encoding="multipart/form-data";DCT.Util.getSafeElement("_isNewForm").value="true"}else{DCT.Util.getSafeElement("_isNewForm").value="false"}mainForm.submit()}},closeForm:function(){Ext.getCmp("addFormPopup").close()},isValidFormData:function(){var b=this,a=true;b.items.each(function(e,d,c){if(!e.isDisabled()&&!e.isValid()){a=false;return false}return true},b);return(a)},isFormDirty:function(){var b=this,a=false;b.items.each(function(e,d,c){if(!e.isDisabled()&&e.isDirty()){a=true;return false}return true},b);return(a)}});Ext.define("DCT.ProgressBar",{extend:"Ext.ProgressBar",defaultWidth:200,inputXType:"dctprogressbar",dctControl:true,xtype:"dctprogressbar",constructor:function(a){var b=this;b.checkControlExists(a);b.adjustValue(a);b.setText(a);b.setWidth(a);b.callParent([a]);b.bindConfiguredEvents(a);b.setProgressBarCollection()},setWidth:function(a){var b=this;if(!Ext.isDefined(a.width)){a.width=b.defaultWidth}},setText:function(a){var b=this;if(Ext.isEmpty(a.text)){a.text=b.getText(a.text,a.value)}},adjustValue:function(a){if(!Ext.isEmpty(a.value)){if(a.value>1){a.value=1}}},setProgressBarCollection:function(){var a=this;if(!DCT.Util.progressBarsOnPage.containsKey(a.id)){DCT.Util.progressBarsOnPage.add(a.id,this)}},getText:function(b,a){if(Ext.isEmpty(b)){if(a==1){b=DCT.T("Completed")}else{b=DCT.T("CompletedPercent",{percent:(a*100).round()})}}return b}});DCT.Util.reg("dctprogressbar","interviewProgressBar","DCT.ProgressBar");Ext.apply(DCT.Util,{isAuthorized:function(b,c){var a=false;var d;switch(b){case"canSecLevel_EntityUser":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='SecLevel_EntityUser']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSecLevel_Underwriter":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='SecLevel_Underwriter']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSecLevel_EntityAdmin":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='SecLevel_EntityAdmin']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSecLevel_CarrierAdmin":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='SecLevel_CarrierAdmin']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAcceptEntitySignupRequests":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AcceptEntitySignupRequests']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessAsyncQueue":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessAsyncQueue']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessDataTester":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessDataTester']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessDeployment":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessDeployment']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessFields":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessFields']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessForms":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessForms']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessPages":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessPages']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessTables":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AccessTables']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddAttachments":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddAttachments']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddEntityGroups":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddEntityGroups']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddEntityLinesOfBusiness":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddEntityLinesOfBusiness']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddEntityRelationships":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddEntityRelationships']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddEntityRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddEntityRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddEntityUsers":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddEntityUsers']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddUserEntities":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddUserEntities']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddUserRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='AddUserRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteUserRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteUserRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAssignTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateAndAssignTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCloseAllTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CloseAllTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCloseOwnedTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CloseOwnedTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canConsumerAccess":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ConsumerAccess']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateClients":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateClients']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateEntities":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateEntities']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateEntityGroupTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateEntityGroupTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateEntityTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateEntityTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreatePortfolios":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreatePortfolios']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreatePrivileges":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreatePrivileges']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateQuotes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateQuotes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canCreateUsers":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='CreateUsers']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteAllTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteAllTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteAttachments":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteAttachments']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteClients":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteClients']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteEntities":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteEntities']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteEntityGroupTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteEntityGroupTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteEntityRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteEntityRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteEntityTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteEntityTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteNotifications":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteNotifications']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteOwnedTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteOwnedTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeletePortfolios":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeletePortfolios']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeletePrivileges":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeletePrivileges']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteQuotes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteQuotes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteUsers":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteUsers']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDeleteUserState":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DeleteUserState']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canDuplicatePolicy":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='DuplicatePolicy']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canGetPrintJobHistory":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='GetPrintJobHistory']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canImportPolicyData":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ImportPolicyData']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canLockUserAccounts":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='LockUserAccounts']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canMassUpdate":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='MassUpdate']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canMovePolicies":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='MovePolicies']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canPurgePolicies":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='PurgePolicies']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canPurgeClients":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='PurgeClients']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canReassignPolicyToClient":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ReassignPolicyToClient']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canReassignTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ReassignTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSetPrintJobHistory":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='SetPrintJobHistory']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateClient":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateClient']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntities":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntities']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityGroups":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityGroups']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityGroupTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityGroupTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityLinesOfBusiness":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityLinesOfBusiness']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityRelationships":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityRelationships']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntitySignupList":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntitySignupList']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateEntityUsers":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateEntityUsers']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdatePortfolios":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdatePortfolios']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdatePrivileges":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdatePrivileges']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateQuotes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateQuotes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateUserEntities":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateUserEntities']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateUserRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateUserRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateUsers":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateUsers']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canUpdateUserState":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='UpdateUserState']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewClients":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewClients']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewEntity":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewEntity']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewEntityGroups":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewEntityGroups']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewEntityList":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewEntityList']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewEntityTypes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewEntityTypes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewNotifications":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewNotifications']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewPortfolios":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewPortfolios']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewPrivileges":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewPrivileges']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewQuotes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewQuotes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewTasks":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewTasks']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewUser":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewUser']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewUserList":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='ViewUserList']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessAccountSummary":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_AccountSummary']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessDisbursementDetail":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_DisbursementDetail']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessInstallmentSchedule":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_InstallmentSchedule']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessItemsInSuspense":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_ItemsInSuspense']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessPaymentDetail":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_PaymentDetail']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessPolicySummary":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_PolicySummary']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessRecWriteOffDetail":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_RecWriteOffDetail']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessUnidentifiedPayments":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Access_UnidentifiedPayments']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessAllAreas":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_AccessAllAreas']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAccessBatchCashMgmt":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_AccessBatchCashMgmt']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canAddNotes":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_AddNotes']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangeAccountSettings":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangeAccountSettings']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangeDueDay":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangeDueDay']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangePayorOrPayeeRoles":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangePayorOrPayeeRoles']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangeSystemDate":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangeSystemDate']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canErrorQueue":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ErrorQueue']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canHoldBilling":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_HoldBilling']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canHoldDisbursements":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_HoldDisbursements']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"CanChangeEftRequests":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_EftMaintenance']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canMakePaymentInAccount":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_MakePaymentInAccount']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canMakePaymentOutsideAccount":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_MakePaymentOutsideAccount']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canManageHoldEvents":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ManageHoldEvents']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canManuallyAllocateSuspense":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ManuallyAllocateSuspense']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canManuallyRescind":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ManuallyRescind']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canPaymentBatchAdmin":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_PaymentBatchAdmin']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canPaymentSearch":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_PaymentSearch']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canRebill":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_Rebill']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canRequestDisbursement":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_RequestDisbursement']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canReversePayment":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ReversePayment']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSuspendPayment":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_SuspendPayment']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canTransferPayments":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_TransferPayments']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canTransferPolicy":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_TransferPolicy']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canTransferToCollections":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_TransferToCollections']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewReports":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ViewReports']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canWriteOffPayments":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_WriteOffPayments']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canWriteOffReceivables":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_WriteOffReceivables']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canViewInvoice":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ViewInvoiceImage']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canReprintInvoice":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ReprintInvoice']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangePolicySettings":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangePolicySettings']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canChangeRenewalSettings":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ChangeRenewalSettings']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canResuspendDisbursement":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_ResuspendDisbursement']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break;case"canSubmitMPR":d=Ext.DomQuery.select("state/user/privileges/privilege[@name='BIL_SubmitMPR']",c.store.proxy.reader.rawData);if(d.length>0){a=true}break}return a}});Ext.apply(DCT.Submit,{validateSignup:function(){var a=this;if(!Ext.getCmp("userNameId").isValid()||!Ext.getCmp("emailId").isValid()){return(false)}a.submitPageAction("login","signup")}});Ext.define("DCT.ComparisonSlider",{extend:"Ext.slider.Single",defaultWidthMultiple:40,useTips:false,increment:1,inputXType:"dctcomparisonslider",storeFields:["value","caption","comparisonValue","comparisonCaption"],valueField:"value",captionField:"caption",comparisonCaptionField:"comparisonCaption",dctControl:true,xtype:"dctcomparisonslider",childEls:["endEl","innerEl","ticksEl","compValueEl"],fieldSubTpl:['<div id="{cmpId}-compValueEl" data-ref="compValueEl" class="sliderComparison" role="presentation">',"{%this.renderCompValue(out, values)%}","</div>",'<div id="{id}" role="{role}" {inputAttrTpl} class="'+Ext.baseCSSPrefix+"slider {fieldCls} {vertical} sliderRange",'{childElCls}"','<tpl if="tabIdx != null"> tabindex="{tabIdx}"</tpl>','<tpl foreach="ariaElAttributes"> {$}="{.}"</tpl>','<tpl foreach="inputElAriaAttributes"> {$}="{.}"</tpl>','<tpl if="isVertical"> aria-orientation="vertical"<tpl else> aria-orientation="horizontal"</tpl>',">",'<div id="{cmpId}-endEl" data-ref="endEl" class="'+Ext.baseCSSPrefix+'slider-end" role="presentation">','<div id="{cmpId}-innerEl" data-ref="innerEl" class="'+Ext.baseCSSPrefix+'slider-inner" role="presentation">',"{%this.renderThumbs(out, values)%}","</div>","</div>",'<div id="{cmpId}-ticksEl" data-ref="ticksEl" class="sliderRangeTicks" role="presentation">',"{%this.renderTicks(out, values)%}","</div>","</div>",{renderThumbs:function(f,e){var h=e.$comp,g=0,c=h.thumbs,b=c.length,d,a;for(;g<b;g++){d=c[g];a=d.getElConfig();a.id=h.id+"-thumb-"+g;Ext.DomHelper.generateMarkup(a,f)}},renderTicks:function(b,o){var k=o.$comp,c=0,m=k.store.data.items,e=m.length,d,f=k.calculateThumbPosition(k.minValue),g=k.calculateThumbPosition((k.minValue+k.increment)),l=g-f,a=0,h;for(;c<e;c++){d=m[c];tickPosition=(c==0)?-6:l-1+a;a=tickPosition;h={html:d.data[k.captionField],cls:"sliderTick",style:"left: "+tickPosition+"%; width: "+l+"px;"};Ext.DomHelper.generateMarkup(h,b)}},renderCompValue:function(b,a){var c=a.$comp;b.push(c.getComparisonValue(c.value))},disableFormats:true}],constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);b.setWidth(a);b.setMaxValue(a);b.setDataStore(a);b.setInitialValue(a);b.setInputAttributes(a);b.callParent([a]);b.bindConfiguredEvents(a)},setInputAttributes:function(a){var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}a.inputAttrTpl=b},onResize:function(b,d){var f=this;DCT.ComparisonSlider.superclass.onResize.call(this,b,d);f.el.addCls("sliderRange");if(f.compCap){f.compCap.remove()}f.compCap=f.el.parent().insertFirst({cls:"sliderComparison"});if(f.ticks){f.ticks.remove()}f.ticks=f.el.createChild({cls:"sliderRangeTicks"});var c=f.translateValue(f.minValue);var e=f.translateValue((f.minValue+f.increment));var g=e-c;var a=0;f.store.each(function(h){f.ticks.createChild({html:h.get(f.captionField),cls:"sliderTick",style:"left: "+(-Math.round(g/2)+(g*a))+"px; width: "+g+"px;"});a++},f);Ext.get(f.compCap.id).update(f.getComparisonValue(f.value))},setWidth:function(a){var b=this;if(!Ext.isDefined(a.width)){a.width=b.defaultWidthMultiple*a.dctOptions.length}else{a.width=a.width*a.dctOptions.length}},setMaxValue:function(a){a.maxValue=a.dctOptions.length-1},setListeners:function(a){var b=this;a.listeners={changecomplete:{fn:function(f,d,c){var e=this;Ext.getDom(f.hiddenId).value=f.getSliderValue(d);e.fieldChanged();e.fieldValidation()},scope:b},change:{fn:function(f,d,c){var e=this;e.compValueEl.update(f.getComparisonValue(d))},scope:b}}},setInitialValue:function(b){var c=this;var a=b.store.find(c.valueField,b.dctInitialValue);b.value=(a==-1)?0:a},getComparisonValue:function(b){var a=this;record=a.store.getAt(b);return record.get(a.comparisonCaptionField)},getSliderValue:function(b){var a=this;record=a.store.getAt(b);return record.get(a.valueField)},setDataStore:function(a){var b=this;a.store=Ext.create("Ext.data.ArrayStore",{fields:b.storeFields,data:a.dctOptions})},fieldOnBlur:function(){var a=this;a.customOnBlur()},ajaxPost:function(){var a=this;a.customOnBlur();DCT.ajaxProcess.onBlurPost(a)}});DCT.Util.reg("dctcomparisonslider","interviewSlider","DCT.ComparisonSlider");Ext.define("DCT.FieldBase",{override:"Ext.Component",skipRequiredChecking:false,enableKeyEvents:true,selectOnFocus:false,dctPartyMappingField:false,dctSpotlight:false,onFocus:function(b){var a=this;a.callParent([b]);if(!a.selectOnFocus){a.focusTimer=true;Ext.asap(function(){a.focusTimer=null})}},customOnBlur:function(){},customOnChange:function(){},customFieldFormat:function(){},hidePartyButton:function(){DCT.Util.isPartyToolsVisible=false;Ext.Function.defer(function(){if(DCT.Util.isPartyToolsVisible){}else{var a=Ext.get("partyTools");if(a!=null){a.addCls("x-hidden-display")}}},150)},showPartyButton:function(){var c=this;var b="field[dctPartyRecordMappingId="+c.dctPartyRecordMappingId+"]";var d=Ext.ComponentQuery.query(b);var a=Ext.Array.findBy(d,function(g,f){if(g.dctPartyMappingSlideOut=="1"){return true}});if(a!=null&&c.id==a.id){var e=Ext.get("partyTools");if(e){e.set({partyPopupTitle:c.dctPartyPopUpTitle});e.set({dctPartyRecordMappingId:c.dctPartyRecordMappingId});e.set({fieldObjectRef:c.id});DCT.Util.isPartyToolsVisible=true;DCT.Util.positionPartyTools(c.id)}}},fieldChanged:function(){var a=this;DCT.FieldsChanged.set();a.customOnChange()},fieldOnBlur:function(){var a=this;if(a.isDirty()){if(a.validate()){a.customFieldFormat();a.customOnBlur()}}},fieldValidation:function(){var a=this;if(Ext.isDefined(a.dctActionId)&&a.dctActionId.length>0){a.ajaxPost()}else{a.fieldOnBlur()}if(a.dctPartyMappingField){a.hidePartyButton()}},ajaxPost:function(){var a=this;if(a.isDirty()){if(a.validate()){if(a.dctFormatBeforePost){a.formatField()}a.customOnBlur();DCT.ajaxProcess.onBlurPost(a)}}},storeFocusField:function(){var d=this;var g=Ext.get(d.id),a=Ext.DomQuery.select("label[for="+d.id+"]"),e=g.up("tr",8),c,h,b;if(a.length>0){a.forEachEl(function(k){k.addCls("labelFocus")})}else{if(e){if(e.child("th")){e.child("th").addCls("labelFocus")}else{h=g.up("td",7);if(d.xtype=="dctcheckboxfield"){var f=h.up("td",9);if(f){h=f}e=h.up("tr")}b=Array.prototype.indexOf.call(e.dom.childNodes,h.dom);b++;c=Ext.DomQuery.select("tr:first-child th:nth-child("+b+") label",h.up("table",4).dom);if(c&&c[0]){Ext.get(c[0]).addCls("labelFocus")}}}}DCT.Util.setFocusField(d.id);if(d.dctPartyMappingField){d.showPartyButton()}if(DCT.spotlightEnabled&&d.dctSpotlight){DCT.Integration.Spotlight.mapInit(d,DCT.Integration.Spotlight.processInputField)}},setFieldFocus:function(){var a=this;a.on("blur",a.removeFocusClass);if(DCT.Util.getFocusField()==a.id){a.focus(true,5)}if(DCT.fieldValidationLogsEnabled&&DCT.currentPage=="interview"){DCT.ValidationLogs.showValidationLogDialog()}if(DCT.spotlightEnabled&&a.dctSpotlight){DCT.Integration.Spotlight.mapInit(a,DCT.Integration.Spotlight.highlightForConfidence)}},removeFocusClass:function(){var a=this;Ext.DomQuery.select("*[class*=labelFocus]").forEachEl(function(b){b.removeCls("labelFocus")})},scrollIntoViewOnFocus:function(g){var d=Ext.get("workbenchToolbar");if(d!=null){var b=d.dom;var e=g.el;if(e!=null){var c=e.dom.getBoundingClientRect();var f=b.getBoundingClientRect();if(f.top>0){var a=c.bottom>f.top;if(a){window.scrollBy(0,c.bottom-f.top)}}}}},checkControlExists:function(b){var c=this;var a=Ext.getCmp(b.id);if(a){if(a.getXType()==c.inputXType){a.destroy()}}},setDisable:function(a){},setCls:function(a){a.cls=(a.dctRequired=="1")?"dct-required-field":((Ext.isEmpty(a.cls))?"dct-field":a.cls+" dct-field")},setAllowBlank:function(a){var b=this;if(!b.skipRequiredChecking){if(!Ext.isDefined(a.allowBlank)){a.allowBlank=(a.dctRequired=="1")?false:true}}},setFieldFocus:function(){var a=this;if(DCT.Util.getFocusField()==a.id){a.focus(true,5)}if(DCT.fieldValidationLogsEnabled&&DCT.currentPage=="interview"){DCT.ValidationLogs.showValidationLogDialog()}if(DCT.spotlightEnabled&&a.dctSpotlight){DCT.Integration.Spotlight.mapInit(a,DCT.Integration.Spotlight.highlightForConfidence)}},filterMessageList:function(e,a){var k=1;var f=1;var b=0;var d=0;DCT.Util.getSafeElement("_keyname").value="";DCT.Util.getSafeElement("_keyop").value="";DCT.Util.getSafeElement("_keyvalue").value="";if(e=="admin"){k=1;f=1;d=Ext.getCmp("customQueryCheckbox").getValue()}else{if(e=="all"){k=1;f=1}else{if(e=="read"){f=0}else{if(e=="unread"){k=0}else{if(e=="deleted"){b=1;var c="Deleted";var g=1;var h="equal";DCT.Util.getSafeElement("_keyname").value=c;DCT.Util.getSafeElement("_keyop").value=h;DCT.Util.getSafeElement("_keyvalue").value=g}else{var c="Sender";var g=e;var h="contains";DCT.Util.getSafeElement("_keyname").value=c;DCT.Util.getSafeElement("_keyop").value=h;DCT.Util.getSafeElement("_keyvalue").value=g}}}}}DCT.Util.getSafeElement("_customQuery").value=d;DCT.Util.getSafeElement("_showRead").value=k;DCT.Util.getSafeElement("_showUnread").value=f;DCT.Util.getSafeElement("_showDeleted").value=b;DCT.Grid.applyFilterToDataStore(a)},resetOpenQuery:function(a){Ext.getDom("_startIndex").value=0;DCT.Util.getSafeElement("_targetPage").value=a;DCT.Submit.submitAction("query")},setManualAllocationTotals:function(b,c){var d=b.formatting.formatNumberToUS(b.getValue());DCT.Util.getSafeElement("_hiddenPaymentAmount").value=b.formatting.formatNumberToUS(c);var e=0;for(i=1;i<Ext.getDom("tblItemListDetail").rows.length;i++){var a=Ext.get("_hiddenProcessDefaultAmountId_"+i);var f=(a)?a.getValue():0;Ext.getDom("_hiddenProcessAmountId_"+i).value=Number(f).toFixed(2);Ext.getDom("_processAmountId_"+i).value=b.formatting.formatFloat(Ext.getDom("_hiddenProcessAmountId_"+i).value);e+=parseFloat(f)}Ext.getDom("totalSuspenseAmtId").value=d;Ext.getDom("amountRemainingTotalId").value=Number(d-e).toFixed(2);Ext.get("displayTotalRemAmount").update(b.formatting.formatFloat(Ext.getDom("amountRemainingTotalId").value));Ext.getDom("amountAllocatedTotalId").value=e.toFixed(2);Ext.get("displayTotalAmount").update(b.formatting.formatFloat(Ext.getDom("amountAllocatedTotalId").value))},checkIfBatchSearchFieldsBlank:function(){var d=Ext.getCmp("batchNbr").getValue();var a=Ext.getCmp("userId").getValue();var c=Ext.getCmp("entryDate").getValue();var b=Ext.getCmp("processDate").getValue();if((d!="")||(a!="")||(c!="")||(b!="")){return false}return true},checkIfPaymentSearchFieldsBlank:function(){var o=Ext.getCmp("accountReference").getValue();var f=Ext.getCmp("policyReference").getValue();var m=Ext.getCmp("exactDate").getValue();var b=Ext.getCmp("startDate").getValue();var s=Ext.getCmp("endDate").getValue();var l=Ext.getCmp("exactAmount");var w=Ext.getCmp("startAmount");var p=Ext.getCmp("endAmount");var h=(Ext.getCmp("paymentMethod"))?Ext.getCmp("paymentMethod").getValue():"";var q=Ext.getCmp("_dateRange").getValue();var v=Ext.getCmp("_amtRange").getValue();var t=Ext.getCmp("otherPaymentDetail").getValue();var e=(Ext.isEmpty(w.getValue()))?"0":w.getValue();var d=(Ext.isEmpty(p.getValue()))?"0":p.getValue();var g=(Ext.isEmpty(l.getValue()))?"0":l.getValue();var c=parseFloat(w.formatting.formatNumberToUS(e));var r=parseFloat(p.formatting.formatNumberToUS(d));var u=parseFloat(l.formatting.formatNumberToUS(g));var k=false;var a=false;if(q){if(Ext.isEmpty(b)&&Ext.isEmpty(s)){a=true}else{a=false}}else{if(Ext.isEmpty(m)){a=true}else{a=false}}if(v){if(c==0&&r==0){k=true}else{k=false}}else{if(u==0){k=true}else{k=false}}if((Ext.isEmpty(o))&&(Ext.isEmpty(f))&&(Ext.isEmpty(t))&&(Ext.isEmpty(h))&&(a)&&(k)){return true}return false},checkIfHoldEventFieldsBlank:function(){var e=Ext.getCmp("eventName").getValue();if(Ext.isEmpty(e)){return true}var f=Ext.getCmp("eventDescription").getValue();if(Ext.isEmpty(f)){return true}var c=document.getElementsByName("_eventHoldTypeCode");for(var r=0,d=c.length;r<d;r++){if(c[r].checked){if(c[r].value=="HD"){var g=Ext.getCmp("disbEventTypeCode").getValue();if(Ext.isEmpty(g)){return true}}else{var k=Ext.getCmp("eventTypeCode").getValue();if(Ext.isEmpty(k)){return true}}break}}var q=Ext.getCmp("eventStartDate");var h=Ext.getCmp("eventEndDate");var a=new Date(Date.parse(DCT.Util.getSafeElement("_currentSystemDate").value));var l=new Date(a.getFullYear(),a.getMonth(),a.getDate());var u=q.getValue();var t=new Date(u.getFullYear(),u.getMonth(),u.getDate());var p=Ext.getCmp("holdEventIndefinitely").getValue();var o=h.getValue();var b=new Date(t.getFullYear(),t.getMonth(),t.getDate()+1);Ext.apply(q,{minValue:l,maxValue:null});Ext.apply(h,{minValue:b,maxValue:null});var s=q.isValid();var m=p||h.isValid();return !s||!m},checkIfHoldFieldsBlank:function(){var p=Ext.getCmp("holdTypeCode").getValue();if(Ext.isEmpty(p)){return true}var o=p=="HD"?"holdDisbReasonCode":"holdReasonCode";var c=Ext.getCmp(o).getValue();if(Ext.isEmpty(c)){return true}var f=Ext.getCmp("holdStartDate");var m=Ext.getCmp("holdEndDate");var a=new Date(Date.parse(DCT.Util.getSafeElement("_currentSystemDate").value));var d=new Date(a.getFullYear(),a.getMonth(),a.getDate());var h=f.getValue();var b=new Date(h.getFullYear(),h.getMonth(),h.getDate());var e=Ext.getCmp("holdBillingIndefinitely").getValue();var g=m.getValue();var k=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1);Ext.apply(f,{minValue:d,maxValue:null});Ext.apply(m,{minValue:k,maxValue:null});var q=f.isValid();var l=e||m.isValid();return !q||!l},checkIfEditHoldFieldsBlank:function(){var c=Ext.getCmp("holdEndDate").getValue();var b=Ext.getCmp("holdStartDate").getValue();var a=Ext.getCmp("holdBillingIndefinitely").getValue();var d=false;if(a){d=true}else{if(!Ext.isEmpty(c)){if(Date.parse(c)<=Date.parse(b)){d=false;Ext.create("DCT.AlertMessage",{msg:DCT.T("StartDateGreaterThanEndDateError"),title:DCT.T("Alert")}).show()}else{d=true}}else{d=false}}if(d){return false}return true},checkIfHoldItemActionFieldBlank:function(){var c=Ext.getCmp("holdReasonField").getValue();var b=Ext.getCmp("applyHoldReasonId").getValue();if(b){if(Ext.isEmpty(c)){return true}}else{var a=Ext.DomQuery.select("[name=_holdItemReason]");for(i=0;i<a.length;i++){if(Ext.isEmpty(Ext.getCmp(a[i]).getValue())){return true}}}return false},checkIfAddItemFieldsBlank:function(){var k=Ext.getCmp("itemTypeCode").getValue();var g=Ext.getCmp("policyNumber").getValue();var s=Ext.getCmp("insuredName").getValue();var m=Ext.getCmp("grossAmount");var t=Ext.isEmpty(m.getValue())?"0":m.getValue();t=m.formatting.formatNumberToUS(t);var c=Number(parseFloat(t)).toFixed(2);var b=Ext.getCmp("addSurcharge").getValue();var o=Ext.getCmp("addFee").getValue();var p=Ext.getCmp("surchargeAmount");var q=p.getValue();q=Ext.isEmpty(q)?"0":q;var f=Ext.getCmp("feeAmount");var a=f.getValue();a=Ext.isEmpty(a)?"0":a;var r=true;var l=true;var h=true;if(b){q=p.formatting.formatNumberToUS(q);var d=Number(parseFloat(q)).toFixed(2);if(d!=0){r=true}else{r=false}}if(o){a=f.formatting.formatNumberToUS(a);var e=Number(parseFloat(a)).toFixed(2);if(e!=0){l=true}else{l=false}}if((c!=0)&&!b&&!o){h=true}else{if(b||o){h=true}else{h=false}}if((!Ext.isEmpty(k))&&(!Ext.isEmpty(g))&&(!Ext.isEmpty(s))&&h&&r&&l){return false}return true},checkIfReverseItemFieldsBlank:function(){var b=Ext.String.trim(Ext.getCmp("reversalReasonCodeId").getValue());var a=Ext.String.trim(Ext.getCmp("comment").getValue());if(Ext.isEmpty(b)||Ext.isEmpty(a)){return true}return false},showHideHoldOptions:function(c){DCT.Util.hideShowGroup("followUpOptionsRadiobuttons",c.getValue()=="HB");var b=Ext.getCmp("holdBillingIndefinitely").getValue();var a=c.getValue();if((a=="HB"||a=="HF"||a=="")&&b==false){DCT.Util.hideShowGroup("resumeOptionsRadiobuttons",true)}else{DCT.Util.hideShowGroup("resumeOptionsRadiobuttons",false)}},showHideResumeOptions:function(b){var a=Ext.String.trim(Ext.getCmp("holdTypeCode").getValue());if(a!=null&&a=="HD"){b=false}DCT.Util.hideShowGroup("resumeOptionsRadiobuttons",b)},showHideHoldEventDateOptions:function(b){var a=Ext.String.trim(Ext.getCmp("holdTypeCode").getValue());if(a!=null&&a=="HD"){b=true}DCT.Util.hideShowGroup("resumeOptionsRadiobuttons",b)},checkRedistributeInput:function(b){var a=Ext.getCmp("startDate").getValue();var c=Ext.getCmp("numberOfInstallments").getValue();if(Ext.isDefined(b)){if(!b.isValid()){a=""}}if((a=="")||(c=="")||c<1){return true}else{return false}}});Ext.define("DCT.FieldFormBase",{override:"Ext.form.field.Base",invalidWarningIconCls:Ext.baseCSSPrefix+"form-invalid-warning-icon",getActiveWarning:function(){return this.activeWarning||""},hasActiveWarning:function(){return !!this.getActiveWarning()},setActiveWarning:function(a){this.setActiveWarnings(a)},unsetActiveWarning:function(){this.unsetActiveError(true)},setActiveWarnings:function(a){this.setActiveErrors(a,true)},getActiveWarnings:function(){return this.activeWarnings||[]},setActiveErrors:function(p,h){var l=this,o=l.errorWrapEl,a=l.errorEl,g=l.msgTarget,f=g==="side",r=g==="qtip",s=l.ariaErrorEl,d,c,k,q,m,b,e;p=Ext.Array.from(p);Ext.Array.forEach(p,function(v,t,u){u[t]=Ext.util.Format.htmlEncode(v)},l);k=l.lookupTpl("activeErrorsTpl");if(h){l.activeWarnings=p;c=l.activeWarning=k.apply({fieldLabel:l.fieldLabel,errors:p,listCls:Ext.baseCSSPrefix+"list-plain errorslist"})}else{l.activeErrors=p;c=l.activeError=k.apply({fieldLabel:l.fieldLabel,errors:p,listCls:Ext.baseCSSPrefix+"list-plain errorslist"})}l.renderActiveError();if(l.rendered){d=l.getActionEl();if(f){l.errorEl.dom.setAttribute("data-errorqtip",c)}else{if(r){d.dom.setAttribute("data-errorqtip",c)}else{if(g==="title"){d.dom.setAttribute("title",c)}}}if(g!=="title"&&s){m=l.lookupTpl("ariaActiveErrorsTpl");b=m.apply({errors:p});e=Ext.String.formatEncode(l.ariaErrorText,b,l.fieldLabel);if(s.dom.innerHTML!==e){s.dom.innerHTML=e}l.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(b)}if(f||r){Ext.form.Labelable.initTip()}if(!l.msgTargets[g]){q=Ext.get(g);if(q){q.dom.innerHTML=c}}}if(o){if(h){a.addCls([l.invalidWarningIconCls,l.invalidWarningIconCls+"-"+l.ui]);a.removeCls([l.invalidIconCls,l.invalidIconCls+"-"+l.ui])}o.setVisible(p.length>0);if(f&&l.autoFitErrors){l.labelEl.addCls(l.topLabelSideErrorCls)}l.updateLayout()}},unsetActiveError:function(d){var f=this,g=f.errorWrapEl,k=f.ariaErrorEl,a=f.errorEl,c=f.msgTarget,e=f.restoreDisplay,b,h;if(f.hasActiveError()||f.hasActiveWarning()){if(d){delete f.activeWarning;delete f.activeWarnings}else{delete f.activeError;delete f.activeErrors}f.renderActiveError();if(f.rendered){b=f.getActionEl();if(c==="qtip"){b.dom.removeAttribute("data-errorqtip")}else{if(c==="title"){b.dom.removeAttribute("title")}}if(c!=="title"&&k){k.dom.innerHTML=f.ariaStatusEl.dom.innerHTML=""}if(!f.msgTargets[c]){h=Ext.get(c);if(h){h.dom.innerHTML=""}}if(g){g.hide();if(d){a.addCls([f.invalidIconCls,f.invalidIconCls+"-"+f.ui]);a.removeCls([f.invalidWarningIconCls,f.invalidWarningIconCls+"-"+f.ui])}if(c==="side"&&f.autoFitErrors){f.labelEl.removeCls(f.topLabelSideErrorCls)}f.updateLayout();if(e){f.el.dom.style.display="block";f.restoreDisplay()}}}}},getWarnings:function(){return[]},onDisable:function(){var a=this,b=a.inputEl;a.callParent();if(b){b.dom.disabled=true;if(a.hasActiveError()||a.hasActiveWarning()){a.clearInvalid();a.hadErrorOnDisable=true}}if(a.wasValid===false){a.checkValidityChange(true)}},validateValue:function(c){var b=this,f=b.getErrors(c),a=b.getWarnings(c),e=!Ext.isEmpty(a),d=Ext.isEmpty(f);if(!b.preventMark){if(d){if(e){b.markInvalid(a,true)}else{b.clearInvalid()}}else{b.markInvalid(f)}}return d},markInvalid:function(g,f){var c=this,a=c.getActiveError(),b=c.getActiveWarning(),d,e;if(f){c.setActiveWarnings(Ext.Array.from(g));d=c.getActiveWarning();if(b!==d){c.setError(d);if(!c.ariaStaticRoles[c.ariaRole]&&c.inputEl){c.inputEl.dom.setAttribute("aria-invalid",true)}}}else{c.setActiveErrors(Ext.Array.from(g));e=c.getActiveError();if(a!==e){c.setError(e);if(!c.ariaStaticRoles[c.ariaRole]&&c.inputEl){c.inputEl.dom.setAttribute("aria-invalid",true)}}}},clearInvalid:function(){var c=this,a=c.hasActiveError(),b=c.hasActiveWarning();delete c.hadErrorOnDisable;if(b){c.unsetActiveWarning()}else{c.unsetActiveError()}if(a||b){c.setError("");if(!c.ariaStaticRoles[c.ariaRole]&&c.inputEl){c.inputEl.dom.setAttribute("aria-invalid",false)}}},renderActiveError:function(){var d=this,c=d.hasActiveError(),b=d.hasActiveWarning(),a=d.invalidCls+"-field";inputEl=d.inputEl;if(inputEl){inputEl[c||b?"addCls":"removeCls"]([a,a+"-"+d.ui])}d.parentRenderActiveError()},parentRenderActiveError:function(){var d=this,c=d.getActiveError(),b=!!c,e=d.getActiveWarning(),a=!!e;if(c!==d.lastActiveError){d.lastActiveError=c;d.fireEvent("errorchange",d,c)}if(d.rendered&&!d.isDestroyed&&!d.preventMark){d.toggleInvalidCls(b||a);if(d.errorEl){d.errorEl.dom.innerHTML=c||e}}}});Ext.define("DCT.CheckboxGroup",{override:"Ext.form.CheckboxGroup",setActiveErrors:function(m){var h=this,l=h.errorWrapEl,f=h.msgTarget,e=f==="side",p=f==="qtip",q=h.ariaErrorEl,c,b,g,o,k,a,d;m=Ext.Array.from(m);Ext.Array.forEach(m,function(t,r,s){s[r]=Ext.util.Format.htmlEncode(t)},h);g=h.lookupTpl("activeErrorsTpl");h.activeErrors=m;b=h.activeError=g.apply({fieldLabel:h.fieldLabel,errors:m,listCls:Ext.baseCSSPrefix+"list-plain errorslist"});h.renderActiveError();if(h.rendered){c=h.getActionEl();if(e){h.errorEl.dom.setAttribute("data-errorqtip",b)}else{if(p){c.dom.setAttribute("data-errorqtip",b)}else{if(f==="title"){c.dom.setAttribute("title",b)}}}if(f!=="title"&&q){k=h.lookupTpl("ariaActiveErrorsTpl");a=k.apply({errors:m});d=Ext.String.formatEncode(h.ariaErrorText,a,h.fieldLabel);if(q.dom.innerHTML!==d){q.dom.innerHTML=d}h.ariaStatusEl.dom.innerHTML=Ext.String.htmlEncode(a)}if(e||p){Ext.form.Labelable.initTip()}if(!h.msgTargets[f]){o=Ext.get(f);if(o){o.dom.innerHTML=b}}}if(l){l.setVisible(m.length>0);if(e&&h.autoFitErrors){h.labelEl.addCls(h.topLabelSideErrorCls)}h.updateLayout()}}});Ext.define("DCT.FormFieldText",{override:"Ext.form.field.Text",maxWarningLength:Number.MAX_VALUE,maxWarningLengthText:"The maximum length for this field is {0}",blankText:DCT.T("ThisFieldIsRequired"),getWarnings:function(c){var b=this,d=Ext.String.format,a=b.callParent([c]);c=arguments.length?(c==null?"":c):b.processRawValue(b.getRawValue());if(c.length>b.maxWarningLength){a.push(d(b.maxWarningLengthText,b.maxWarningLength))}return a}});Ext.define("DCT.tip.Tip",{override:"Ext.tip.Tip",doAlignment:function(e){var c=this,d=c.anchorEl,b=e.anchor,a=c.getAdjustedXY(e);c.setPagePosition([a.x,a.y]);if(d){d.removeCls(c.anchorCls);if(b){c.anchorCls=Ext.baseCSSPrefix+"tip-anchor-"+b.position;d.addCls(c.anchorCls);d.show();if(b.align&1){d.setTop(e.anchor.y-e.y);d.dom.style.left=""}else{d.setLeft(e.anchor.x-e.x);d.dom.style.top=""}}else{d.hide()}}},getAdjustedXY:function(g){var b=this,f=(b.activeTarget)?b.activeTarget.el:b.target,e=f.getBox(),d=0,c=0,a=5,h=5;if((g.x<e.x)||(g.x>e.right)||g.width<e.width){d=e.right}else{d=g.x}if((g.y<e.y)||(g.y>e.bottom)){c=e.bottom}else{c=g.y}d+=a;c+=h;return{x:d,y:c}}});Ext.define("DCT.QuickTip",{override:"Ext.QuickTip",getTipText:function(d){var c=Ext.util.Format.htmlEncode(d.title),b=this.tagConfig,a=b.attr||(b.attr=b.namespace+b.attribute),e;if(this.interceptTitles&&c){d.setAttribute(a,c);d.removeAttribute("title");return c}else{e=d.getAttribute(a);return(e.indexOf("errorslist")==-1)?Ext.util.Format.htmlEncode(e):e}}});Ext.apply(Date,{useStrict:true});Ext.define("DCT.dom.Shadow",{override:"Ext.dom.Shadow",beforeShow:function(){var b=this;if(!b.el.isDestroyed){var a=b.el.dom.style,c=b.shim;if(Ext.supports.CSS3BoxShadow){a[b.boxShadowProperty]="0 0 "+(b.offset+2)+"px #888"}else{a.filter="progid:DXImageTransform.Microsoft.alpha(opacity="+b.opacity+") progid:DXImageTransform.Microsoft.Blur(pixelradius="+(b.offset)+")"}if(c){c.realign()}}}});Ext.define("DCT.DisplayField",{extend:"Ext.form.DisplayField",inputXType:"dctinputdisplayfield",dctControl:true,xtype:"dctinputdisplayfield",htmlEncode:true,constructor:function(a){var b=this;b.checkControlExists(a);b.setAutoCreate(a);b.callParent([a])},setAutoCreate:function(a){var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}a.inputAttrTpl=b}});DCT.Util.reg("dctinputdisplayfield","interviewDisplayField","DCT.DisplayField");Ext.define("DCT.SystemDisplayField",{extend:"DCT.DisplayField",inputXType:"dctsystemdisplayfield",dctControl:true,xtype:"dctsystemdisplayfield",setAutoCreate:function(a){}});DCT.Util.reg("dctsystemdisplayfield","systemDisplayField","DCT.SystemDisplayField");Ext.define("DCT.InputField",{extend:"Ext.form.TextField",inputXType:"dctinputfield",formatter:undefined,dctControl:true,dctFormatBeforePost:false,xtype:"dctinputfield",constructor:function(a){var b=this;b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.setFormatter(a);b.setVType(a);b.setRegEx(a);b.setFormatMask(a);b.setValidator(a);b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={specialkey:function(d,c){if(c.getKey()==c.ENTER){return false}},blur:{fn:function(c){b.fieldValidation();b.formatField()},scope:b},change:{fn:b.fieldChanged,scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:b},keydown:{fn:function(c,d){switch(d.getKey()){case d.TAB:DCT.Util.setKeysUsed(true,d.shiftKey);break}},scope:b}}},setAutoCreate:function(a){var c=(Ext.isDefined(a.size))?a.size:20;a.width=c*6.5+20;a.size=0;var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}a.inputAttrTpl=b},setFormatMask:function(a){},setValidator:function(a){},setRegEx:function(a){a.regex=(Ext.isDefined(a.dctRegEx))?(Ext.isEmpty(a.dctRegExAttribs)?new RegExp(a.dctRegEx):new RegExp(a.dctRegEx,a.dctRegExAttribs)):null;a.regexText=(Ext.isDefined(a.dctRegExMsg))?a.dctRegExMsg:""},setVType:function(a){},setFormatter:function(a){},formatField:function(a){var b=this;if(Ext.isDefined(b.formatter)){var c=b.getValue();if((a||(b.isValid())&&b.isDirty())){if(!Ext.isEmpty(c)){b.setRawValue(b.formatter(c))}}}},formatPhone:function(c){if(!Ext.isEmpty(c)){var a=new String("");var b=0;for(b=0;(b<c.length);b++){if(c.charCodeAt(b)>47&&c.charCodeAt(b)<58){a=a+c.charAt(b)}}return(a.substr(0,3)+"-"+a.substr(3,3)+"-"+a.substr(6,4))}},formatZipUk:function(a){if(!Ext.isEmpty(a)){if(!(/\s/.test(a))){if(a.length==5){return(a.substr(0,2)+" "+a.substr(2,3))}if(a.length==6){return(a.substr(0,3)+" "+a.substr(3,3))}else{if(a.length==7){return(a.substr(0,4)+" "+a.substr(4,3))}}}else{return(a.replace(/\s+/g," "))}}},formatSSN:function(b){if(!Ext.isEmpty(b)){var a="";for(i=0;(i<b.length);i++){if(b.charCodeAt(i)>47&&b.charCodeAt(i)<58){a=a+b.charAt(i)}}return(a.substr(0,3)+"-"+a.substr(3,2)+"-"+a.substr(5,4))}},formatUpper:function(a){if(!Ext.isEmpty(a)){return(a.toUpperCase())}},formatLower:function(a){if(!Ext.isEmpty(a)){return(a.toLowerCase())}},formatString:function(d){var u=this;if(!Ext.isEmpty(d)){var l="";var g=false;var f=0;var m=0;if((Ext.isEmpty(u.dctFormatMask))||(Ext.isDefined(u.dctFormatMask)&&u.dctFormatMask.charAt(0)!="@")){return d}var r=u.dctFormatMask;var t=r.split(";");r=t[0].substring(1);if(t.length>1){g=t[1]=="0"}if(t.length>2){l=t[2]}var c=u.createStringFormatRegex(r);var v=new RegExp(c);var s=d;s=s.split(l).join("");if(!v.test(s)){return d}d=s;var e=r.length;var h=0;for(var p=0;p<e;p++){if(((r.charAt(p))!=">")&&((r.charAt(p))!="<")&&((r.charAt(p))!="^")){h++}}var a=d.match(v).slice(1);var b=0;var k="";for(var q=0;q<r.length;q++){switch(r.charAt(q)){case">":f=1;m=0;break;case"<":if(r.charAt(q+1)==">"){m=0;f=0;q++}else{m=1;f=0}break;case"C":case"c":if(b<a.length&&!Ext.isEmpty(a[b])){var o=a[b++];if(r.charAt(q)=="c"){o=o.toLowerCase()}else{o=o.toUpperCase()}k+=o}else{if(Ext.isEmpty(a[b])){k=u.addOneChar(k,b,l)}}break;case"^":if(r.charAt(++q)!=a[b]){k=u.addOneChar(k,b++,g?r.charAt(q):l)}else{if(b<h){k+=a[b++]}}break;default:if(Ext.isEmpty(a[b])){k=u.addOneChar(k,b++,l)}else{if(b<h){if(f==1){k+=a[b++].toUpperCase()}else{if(m==1){k+=a[b++].toLowerCase()}else{k+=a[b++]}}}}break}}}return k},createStringFormatRegex:function(b){var d=this;var a="^";for(var c=0;c<b.length;c++){switch(b.charAt(c)){case"<":if(b.charAt(c+1)==">"){c++}break;case"^":a+="(["+b.charAt(++c).replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"]?)";break;default:if(b.charAt(c)!=">"){a+=d.createRegexPart(b.charAt(c),!/\^-|\^+/.test(b))}break}}return a+"$"},createRegexPart:function(e,h){var c="([A-Za-z]?)";var b="([\\d]?)";var g="([A-Za-z0-9]?)";var d=h?"([\\d+-]?)":"([\\d]?)";var f="(\\s?)";var a="(.?)";switch(e){case"A":return g;break;case"L":case"C":case"c":case"a":return c;break;case"0":return b;break;case"9":case"#":return d;break;case"-":return f;break;case"*":return a;break;default:return""}},checkString:function(d){var o=this;if(Ext.isDefined(o.formatter)&&!o.hasFocus){o.formatField(true);d=o.getRawValue()}if(!Ext.isEmpty(d)&&!Ext.isEmpty(o.dctFormatMask)&&(o.dctFormatMask.charAt(0)=="@")){var b="";var q=o.dctFormatMask.split(";");if(q.length>2){b=q[2]}var m="";var p=0;var g=0;var e=0;var l;var a=0;var k="";var c=0;l=o.dctFormatMask.split(";")[0].length;for(var f=1;f<l;f++){if(((o.dctFormatMask.charAt(f))!=">")&&((o.dctFormatMask.charAt(f))!="<")&&((o.dctFormatMask.charAt(f))!="^")){a++}}for(var h=1;h<l;h++){switch(o.dctFormatMask.charAt(h)){case">":g=1;e=0;h++;break;case"<":if(o.dctFormatMask.charAt(h+1)==">"){e=0;g=0;h++}else{e=1;g=0}h++;break;case"^":h++;k=o.dctFormatMask.charAt(h);if(k!=(d.charAt(p))){c=p+1;return DCT.T("SpecificCharacterInvalidEntry",{character:k,position:c})}break;case";":return true;break}if(o.dctFormatMask.charAt(h)!="^"&&(o.dctFormatMask.charAt(h-1)!="^"||o.dctFormatMask.charAt(h)!=d.charAt(p))){m=o.validateChar(d,p,o.dctFormatMask,h,g,e);if(m!=""){d=m;if(p>a&&h<l){return DCT.T("EntryTooShort")}}else{if(d.length<a){return DCT.T("EntryTooShort")}else{return DCT.T("EntryInvalidFormat",{mask:o.dctFormatMask.charAt(h),character:d.charAt(p)})}}}p++}d=m;if(d.length!=a){return DCT.T("EntryInvalidLength",{expected:a.toString(),actual:d.length})}}return true},validateChar:function(m,l,o,b,e,c){var k=this;var d="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var a="abcdefghijklmnopqrstuvwxyz";var h="0123456789";var g="+-";var f=" ";switch(o.charAt(b)){case"L":if((d.indexOf(m.charAt(l))>=0)||(a.indexOf(m.charAt(l))>=0)){return m}else{return""}break;case"A":if((d.indexOf(m.charAt(l))>=0)||(a.indexOf(m.charAt(l))>=0)||(h.indexOf(m.charAt(l))>=0)){return m}else{return""}break;case"a":if(e){if(d.indexOf(m.charAt(l))>=0){return m}else{if(a.indexOf(m.charAt(l))>=0){m=k.replaceOneCharCase(m,l,1);return m}}}if(c){if(a.indexOf(m.charAt(l))>=0){return m}else{if(d.indexOf(m.charAt(l))>=0){m=k.replaceOneCharCase(m,l,0);return m}}}if((d.indexOf(m.charAt(l))>=0)||(a.indexOf(m.charAt(l))>=0)){return m}else{return""}break;case"C":if(d.indexOf(m.charAt(l))>=0){return m}else{if(a.indexOf(m.charAt(l))>=0){m=k.replaceOneCharCase(m,l,1);return m}}return"";break;case"c":if(a.indexOf(m.charAt(l))>=0){return m}else{if(d.indexOf(m.charAt(l))>=0){m=k.replaceOneCharCase(m,l,0);return m}}return"";break;case"0":if(h.indexOf(m.charAt(l))>=0){return m}else{return""}break;case"9":case"#":if((h.indexOf(m.charAt(l))>=0)||(g.indexOf(m.charAt(l))>=0)){return m}else{return""}break;case"-":if(f.indexOf(m.charAt(l))>=0||o.charAt(b-1)=="^"){return m}else{m=k.addOneChar(m,l," ");return m}break;case"*":return m;break;default:return""}},replaceOneCharCase:function(c,b,g){var e,a,f,d;e=c.slice(0,b);a=c.slice(b,b+1);f=c.slice(b+1);if(g){a=a.toUpperCase()}else{a=a.toLowerCase()}d=e+a+f;return d},addOneChar:function(b,a,e){var d,f,c;d=b.slice(0,a);f=b.slice(a);c=d+e+f;return c},setDefaultListeners:function(a){},checkCreditCard:function(o){var u=this;var k=Ext.getCmp(u.dctCardTypeField).getValue();var e=new Array();e[0]={name:"VS",length:"13,16",prefixes:"4",checkdigit:true};e[1]={name:"MC",length:"16",prefixes:"51,52,53,54,55",checkdigit:true};e[2]={name:"DC",length:"14,16",prefixes:"300,301,302,303,304,305,36,38,55",checkdigit:true};e[3]={name:"CB",length:"14",prefixes:"300,301,302,303,304,305,36,38",checkdigit:true};e[4]={name:"AE",length:"15",prefixes:"34,37",checkdigit:true};e[5]={name:"DS",length:"16",prefixes:"6011,650",checkdigit:true};e[6]={name:"JC",length:"15,16",prefixes:"3,1800,2131",checkdigit:true};e[7]={name:"enRoute",length:"15",prefixes:"2014,2149",checkdigit:true};e[8]={name:"Solo",length:"16,18,19",prefixes:"6334, 6767",checkdigit:true};e[9]={name:"Switch",length:"16,18,19",prefixes:"4903,4905,4911,4936,564182,633110,6333,6759",checkdigit:true};e[10]={name:"Maestro",length:"16,18",prefixes:"5020,6",checkdigit:true};e[11]={name:"VisaElectron",length:"16",prefixes:"417500,4917,4913",checkdigit:true};if(Ext.isEmpty(o)&&Ext.isEmpty(k)){return(true)}var s=-1;for(var r=0;r<e.length;r++){if(k.toLowerCase()==e[r].name.toLowerCase()){s=r;break}}if(s==-1){return(DCT.T("InvalidCardType"))}o=o.replace(/\s/g,"");var l=o;var m=/^[0-9]{13,19}$/;if(!m.exec(l)){return(DCT.T("InvalidCardNumber"))}if(e[s].checkdigit){var f=0;var t="";var q=1;var a;for(r=l.length-1;r>=0;r--){a=Number(l.charAt(r))*q;if(a>9){f=f+1;a=a-10}f=f+a;if(q==1){q=2}else{q=1}}if(f%10!=0){return(DCT.T("InvalidCardNumber"))}}var c=false;var b=false;var g;var p=new Array();var d=new Array();p=e[s].prefixes.split(",");for(r=0;r<p.length;r++){var h=new RegExp("^"+p[r]);if(h.test(l)){b=true}}if(!b){return(DCT.T("InvalidCardNumber"))}d=e[s].length.split(",");for(q=0;q<d.length;q++){if(l.length==d[q]){c=true}}if(!c){return(DCT.T("InvalidCardDigitCount"))}return(true)}});Ext.apply(Ext.form.VTypes,{ssn:function(c,b){var a=/^(?!000)(?!666)([0-8]\d{2})([\-]?)(?!00)(\d\d)([\-]?)(?!0000)(\d{4})$/i;return a.test(c)},ssnText:DCT.T("SSNInvalidCharacters"),ssnMask:/[0-9-]/i,phone:function(b,a){var c=/^\D?(\d{3})\D?\D?(\d{3})\D?(\d{4})$/i;return c.test(b)},phoneText:DCT.T("PhoneNumberInvalidCharacters"),phoneMask:/[0-9-\(\)]/i,phoneuk:function(c,b){var a=/^\D?(\d{4})\D?\D?(\d{3})\D?(\d{4})$/i;return a.test(c)},phoneukText:DCT.T("PhoneNumberInvalidCharactersUK"),phoneukMask:/[0-9 ]/i,phoneit:function(c,b){var a=/^\D?(\d{8,11})$/i;return a.test(c)},phoneitText:DCT.T("PhoneNumberInvalidCharactersIT"),phoneitMask:/[0-9 ]/i,ip:function(c,b){var a=/^((0|1[0-9]{0,2}|2[0-9]{0,1}|2[0-4][0-9]|25[0-5]|[3-9][0-9]{0,1})\.){3}(0|1[0-9]{0,2}|2[0-9]{0,1}|2[0-4][0-9]|25[0-5]|[3-9][0-9]{0,1})$/i;return a.test(c)},ipText:DCT.T("IPInvalidAddress"),ipMask:/[0-9\.]/i,zipcode:function(c,b){var a=/^(\d{5})(-\d{4})?$/i;return a.test(c)},zipcodeText:DCT.T("ZipCodeInvalid"),zipcodeMask:/[0-9-]/i,zipcodecn:function(c,b){var a=/^[ABCEGHJKLMNPRSTVXY]{1}\d{1}[ABCEGHJKLMNPRSTVXY]{1} \d{1}[ABCEGHJKLMNPRSTVXY]{1}\d{1}$/;return a.test(c)},zipcodecnText:DCT.T("PostalCodeInvalid_NoFormat"),zipcodecnMask:/[0-9 a-z]/i,zipcodeuk:function(c,b){var a=/^(GIR 0AA|[A-PR-UWYZa-pr-uwyz]([0-9]{1,2}|([A-HK-Ya-hk-y][0-9]|[A-HK-Ya-hk-y][0-9]([0-9]|[ABEHMNPRV-Yabehmnprv-y]))|[0-9][A-HJKPS-UWa-hjkps-uw])\s*[0-9][ABD-HJLNP-UW-Zabd-hjlnp-uw-z]{2})$/i;return a.test(c)},zipcodeukText:DCT.T("PostalCodeInvalid_NoFormat"),zipcodeukMask:/[A-Z-0-9 ]/i,zipcodede:function(c,b){var a=/^(\d{5})$/i;return a.test(c)},zipcodedeText:DCT.T("PostalCodeInvalid_NoFormat"),zipcodedeMask:/[0-9]/i,time:function(c,b){var a=/^ *(1[0-2]|[1-9]):[0-5][0-9] *(a|p|A|P)(m|M) *$/;return a.test(c)},timeText:DCT.T("InvalidTimeFormat"),timeMask:/[ 0-9ampAPM:]/i,militarytime:function(c,b){var a=/^(([0-1]?[0-9])|([2][0-3])):([0-5]?[0-9])(:([0-5]?[0-9]))?$/;return a.test(c)},militarytimeText:DCT.T("InvalidTimeFormat"),militarytimeMask:/[ 0-9:]/i});Ext.define("DCT.EditorInputField",{extend:"DCT.InputField",inputXType:"editorinputfield",xtype:"editorinputfield",setListeners:function(a){var b=this;if(Ext.isDefined(a.listeners)){Ext.destroyMembers(a.listeners,"focus","blur","afterrender");Ext.Array.forEach(["focus","blur","afterrender"],function(e,d,c){delete a.listeners[e]},b)}else{a.listeners={specialkey:function(d,c){if(c.getKey()==c.ENTER){return false}},change:{fn:b.fieldChanged,scope:b}}}},setAllowBlank:function(a){},setCls:function(a){},setAutoCreate:function(a){if(Ext.isDefined(a.fieldRef)){a.inputAttrTpl='fieldRef="'+a.fieldRef+'-editorinputfield" objectRef="'+a.objectRef+'-editorinputfield"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}},setFormatting:function(a){},setValidator:function(a){},setRegEx:function(a){},setVType:function(a){},setFormatter:function(a){}});Ext.define("DCT.InputNumberField",{extend:"Ext.form.TextField",inputXType:"dctinputnumberfield",formatter:undefined,maskChars:"[0-9{0}]",cultureSymbols:"\\$-.,",highFloat:99999999999.9999,lowFloat:-99999999999.9999,highInteger:2147483647,lowInteger:-2147483648,stripChars:"[\\$,]",dctControl:true,xtype:"dctinputnumberfield",constructor:function(a){var b=this;b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.setFormatting(a);b.setFormatter(a);b.setRegEx(a);b.setCultureSymbols(a);b.setMaskRe(a);b.setStripSymbols(a);b.setStripCharRe(a);b.setValidator(a);b.callParent([a]);b.bindConfiguredEvents(a)},setFormatter:function(a){},formatField:function(){var a=this;if(Ext.isDefined(a.formatter)){var b=a.getValue();if(a.isValid()&&a.isDirty()){if(!Ext.isEmpty(b)){a.setRawValue(a.formatter(b))}}}},setStripSymbols:function(a){},setCultureSymbols:function(a){},setMaskRe:function(a){var b=this;var c=Ext.String.format(b.maskChars,(Ext.isDefined(a.getCultureSymbols)?a.getCultureSymbols(a):b.cultureSymbols));a.maskRe=new RegExp(c,"i")},setStripCharRe:function(a){var b=this;var c=Ext.isDefined(a.getStripSymbols)?a.getStripSymbols(a):b.stripChars;a.stripCharsRe=new RegExp(c,"gi")},setListeners:function(a){var b=this;a.listeners={specialkey:function(d,c){if(c.getKey()==c.ENTER){return false}},blur:{fn:function(d){var c=this;c.fieldValidation();c.formatField()},scope:this},change:{fn:b.fieldChanged,scope:this},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:this},keydown:{fn:function(d,g){var c=this;switch(g.getKey()){case g.TAB:DCT.Util.setKeysUsed(true,g.shiftKey);break}},scope:b}}},setAutoCreate:function(a){var c=(Ext.isDefined(a.size))?a.size:20;a.width=c*6.5+20;a.size=0;var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}a.inputAttrTpl=b},setRegEx:function(a){a.regex=(Ext.isDefined(a.dctRegEx))?a.dctRegEx:null;a.regexText=(Ext.isDefined(a.dctRegExMsg))?a.dctRegExMsg:""},setValidator:function(a){},setFormatting:function(a){a.numberMask=(Ext.isDefined(a.dctNumberFormat))?a.dctNumberFormat:"";a.numberType=(Ext.isDefined(a.dctType))?a.dctType:"";a.formatting=Ext.create("DCT.Formatting",a)},getFloatSymbols:function(e){var b=(Ext.isEmpty(e.formatting.currencySymbol))?"":((e.formatting.currencySymbol=="$")?"\\"+e.formatting.currencySymbol:e.formatting.currencySymbol);var d=(Ext.isEmpty(e.formatting.thousandsSymbol))?"":((e.formatting.thousandsSymbol==".")?"\\"+e.formatting.thousandsSymbol:e.formatting.thousandsSymbol);var a=(Ext.isEmpty(e.formatting.centsSymbol))?"":((e.formatting.centsSymbol==".")?"\\"+e.formatting.centsSymbol:e.formatting.centsSymbol);var c=b+a+d+e.formatting.negativeSign;return(c)},getFloatStripSymbols:function(d){var a=(Ext.isEmpty(d.formatting.currencySymbol))?"":((d.formatting.currencySymbol=="$")?"\\"+d.formatting.currencySymbol:d.formatting.currencySymbol);var b=(Ext.isEmpty(d.formatting.thousandsSymbol))?"":((d.formatting.thousandsSymbol==".")?"\\"+d.formatting.thousandsSymbol:d.formatting.thousandsSymbol);var c=(Ext.isEmpty(a+b))?"":"["+a+b+"]";return(c)},getIntStripSymbols:function(d){var b=(Ext.isEmpty(d.formatting.currencySymbol))?"":((d.formatting.currencySymbol=="$")?"\\"+d.formatting.currencySymbol:d.formatting.currencySymbol);var c=(Ext.isEmpty(d.formatting.thousandsSymbol))?"":((d.formatting.thousandsSymbol==".")?"\\"+d.formatting.thousandsSymbol:d.formatting.thousandsSymbol);var a=(Ext.isEmpty(c))?"":"["+b+c+"]";return(a)},getIntSymbols:function(c){var a=(Ext.isEmpty(c.formatting.currencySymbol))?"":((c.formatting.currencySymbol=="$")?"\\"+c.formatting.currencySymbol:c.formatting.currencySymbol);var b=(Ext.isEmpty(c.formatting.thousandsSymbol))?"":((c.formatting.thousandsSymbol==".")?"\\"+c.formatting.thousandsSymbol:c.formatting.thousandsSymbol);var d=a+b+c.formatting.negativeSign;return(d)},buildNumberExp:function(t,b,q,o){var v=this;var k=0;var u=0;var h="";var w="";var l=0;var x=0;var a=-1;var s=-1;var m=0;var d=0;var f=0;var r="";var g="";var e="";var p="";matchStr="^";s=t.indexOf("-");if(s>-1){matchStr=matchStr+"(-)?"}var c=t.indexOf("$");if(c>-1){matchStr=matchStr+"(\\$)?"}a=t.indexOf(".");if(a>-1){h=t.substr(a+1,t.length-(a+1));if(s>-1){m=1}else{m=0}w=t.substr(m,a-m)}else{h="";if(s>-1){m=1}else{m=0}w=t.substr(m,t.length-m)}if(h!=""){x=h.length;l=x;for(i=0;i<h.length;i++){if((h.charAt(i)=="?")||(h.charAt(i)=="0")){l--}}}u=w.length;k=u;for(i=0;i<w.length;i++){if((w.charAt(i)=="?")||(w.charAt(i)=="0")){k--}}matchStr=matchStr+"(\\d{"+k+","+u+"})";if(a>-1){matchStr=matchStr+"\\.";if(l==0){matchStr=matchStr+"?"}matchStr=matchStr+"(\\d{"+l+","+x+"})"}if(b=="float"){if(Ext.isEmpty(q)){e=v.highFloat.toString();g=e.substr(e.indexOf("."),e.length-e.indexOf("."));r=e.substr(0,e.length-g.length);d=u-r.length;f=x-(g.length-1);if(d>0){for(i=0;i<d;i++){r=r+"9"}}if(f>0){for(i=0;i<f;i++){g=g+"9"}}e=r+g;v.highFloat=e}if(Ext.isEmpty(o)){p=v.lowFloat.toString();g=p.substr(p.indexOf("."),p.length-p.indexOf("."));r=p.substr(0,p.length-g.length);d=u-(r.length-1);f=x-(g.length-1);if(d>0){for(i=0;i<d;i++){r=r+"9"}}if(f>0){for(i=0;i<f;i++){g=g+"9"}}p=r+g;v.lowFloat=p}}return matchStr},checkFloat:function(b){var h=this;if(!Ext.isEmpty(b)){if(h.formatting.isMultiCurrency(h.dctNumberFormat,h.dctCurrencyCode)){return true}b=b.toString();var m=0;b=h.formatting.formatNumberToUS(b);if(!Ext.isEmpty(h.formatting.centsSymbol)&&h.formatting.numberMask.indexOf(h.formatting.centsSymbol)>-1){if(h.formatting.numberMask.indexOf(h.formatting.centsSymbol)<h.formatting.numberMask.length-1){for(var d=h.formatting.numberMask.indexOf(h.formatting.centsSymbol)+1;d<h.formatting.numberMask.length;d++){if((h.formatting.numberMask.charAt(d)=="#")||(h.formatting.numberMask.charAt(d)=="0")||(h.formatting.numberMask.charAt(d)=="?")){m++}}}}else{m=0}var f=h.formatting.numberMask.replace(/0/g,"?");var k="";if(!Ext.isEmpty(h.formatting.centsSymbol)&&(h.formatting.centsSymbol!=".")){k="."}else{k=h.formatting.centsSymbol}matchExp=new RegExp(h.buildNumberExp(h.formatting.internalFormat,h.dctType,h.dctNumberMax,h.dctNumberMin));var e=b.match(matchExp);var l=(Ext.isEmpty(h.dctNumberMax))?h.highFloat:parseFloat(h.dctNumberMax);var g=(Ext.isEmpty(h.dctNumberMin))?h.lowFloat:parseFloat(h.dctNumberMin);if(m>0){if(b.indexOf(k)>-1){var c=b.length-b.indexOf(k)-1;if(m<c){return DCT.T("FloatInvalidFormat",{format:f})}}}b=b.replace(/,/g,"");var p=(b=="")?parseFloat(Number("0").toFixed(m)):parseFloat(Number(b).toFixed(m));if(e==null||isNaN(p)){return DCT.T("FloatInvalidFormat",{format:f})}if(p>l||p<g){var o=new Number(g).toFixed(2);var a=new Number(l).toFixed(2);return DCT.T("ValueInvalidRange",{min:o,max:a})}}return true},checkInt:function(g){var e=this;if(!Ext.isEmpty(g)){g=g.toString();g=e.formatting.formatNumberToUS(g);if(!Ext.isEmpty(e.formatting.centsSymbol)){var d=g.lastIndexOf(e.formatting.centsSymbol);if(d>-1){return DCT.T("IntegerNoDecimalPlaces",{format:e.formatting.numberMask})}}while((g.charAt(0)=="0")&&(g.length>1)){g=g.substring(1,g.length)}if(isNaN(g)){return DCT.T("IntegerInvalidValue",{format:e.formatting.numberMask})}var a=new RegExp(e.buildNumberExp(e.formatting.internalFormat,e.dctType,e.dctNumberMax,e.dctNumberMin));var b=g.match(a);var f=(Ext.isEmpty(e.dctNumberMax))?e.highInteger:parseInt(e.dctNumberMax);var h=(Ext.isEmpty(e.dctNumberMin))?e.lowInteger:parseInt(e.dctNumberMin);if(b==null){return DCT.T("IntegerInvalidValue",{format:e.formatting.numberMask})}var c=parseInt(g);if(c>f||c<h){return DCT.T("ValueInvalidRange",{min:h,max:f})}if(c==0&&b[1]=="-"){return DCT.T("IntegerNegativeZero")}}return true},processRawValue:function(c){var b=this,e=b.stripCharsRe,a,d;if(e){if(!e.global){a="g";a+=(e.ignoreCase)?"i":"";a+=(e.multiline)?"m":"";e=new RegExp(e.source,a)}d=c.replace(e,"");if(d!==c){c=d}}return c},setDefaultListeners:function(a){}});Ext.define("DCT.EditorNumberField",{extend:"DCT.InputNumberField",inputXType:"editornumberfield",xtype:"editornumberfield",setListeners:function(a){var b=this;if(Ext.isDefined(a.listeners)){Ext.destroyMembers(a.listeners,"focus","blur","afterrender");Ext.Array.forEach(["focus","blur","afterrender"],function(e,d,c){delete a.listeners[e]},b)}else{a.listeners={specialkey:function(d,c){if(c.getKey()==c.ENTER){return false}},change:{fn:b.fieldChanged,scope:b}}}},setAllowBlank:function(a){},setCls:function(a){},setAutoCreate:function(a){if(Ext.isDefined(a.fieldRef)){a.inputAttrTpl='fieldRef="'+a.fieldRef+'-editornumberfield" objectRef="'+a.objectRef+'-editornumberfield"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}},setFormatting:function(a){},setValidator:function(a){},setRegEx:function(a){},setFormatter:function(){},setCultureSymbols:function(a){},setMaskRe:function(a){}});Ext.define("DCT.SystemNumberField",{extend:"DCT.InputNumberField",inputXType:"dctsystemnumberfield",xtype:"dctsystemnumberfield",setDefaultListeners:function(a){if(!Ext.isDefined(a.listeners)){a.listeners={}}},setListeners:function(a){},setDisable:function(a){if(Ext.isDefined(a.renderTo)){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}}});DCT.Util.reg("dctsystemnumberfield","systemNumberField","DCT.SystemNumberField");Ext.define("DCT.InputIPField",{extend:"DCT.InputField",inputXType:"dctinputipfield",xtype:"dctinputipfield",setVType:function(a){a.vtype="ip"}});DCT.Util.reg("dctinputipfield","interviewInputIPField","DCT.InputIPField");Ext.define("DCT.InputPhoneField",{extend:"DCT.InputField",inputXType:"dctinputphonefield",dctFormatBeforePost:true,xtype:"dctinputphonefield",setFormatter:function(a){var b=this;a.formatter=b.formatPhone},setVType:function(a){a.vtype="phone"}});DCT.Util.reg("dctinputphonefield","interviewInputPhoneField","DCT.InputPhoneField");Ext.define("DCT.InputPhoneFieldUK",{extend:"DCT.InputPhoneField",inputXType:"dctinputphonefielduk",dctFormatBeforePost:true,xtype:"dctinputphonefielduk",setFormatter:function(a){var b=this;a.formatter=b.formatPhoneUK},setVType:function(a){a.vtype="phoneuk"},formatPhoneUK:function(c){if(!Ext.isEmpty(c)){var a=new String("");var b=0;for(b=0;(b<c.length);b++){if(c.charCodeAt(b)>47&&c.charCodeAt(b)<58){a=a+c.charAt(b)}}return(a.substr(0,4)+" "+a.substr(4,3)+" "+a.substr(7,4))}}});DCT.Util.reg("dctinputphonefielduk","interviewInputPhoneFieldUK","DCT.InputPhoneFieldUK");Ext.define("DCT.InputPhoneFieldIT",{extend:"DCT.InputPhoneField",inputXType:"dctinputphonefieldit",dctFormatBeforePost:true,xtype:"dctinputphonefieldit",setFormatter:function(a){var b=this;a.formatter=b.formatPhoneIT},setVType:function(a){a.vtype="phoneit"}});DCT.Util.reg("dctinputphonefieldit","interviewInputPhoneFieldIT","DCT.InputPhoneFieldIT");Ext.define("DCT.InputSSNField",{extend:"DCT.InputField",inputXType:"dctinputssnfield",dctFormatBeforePost:true,xtype:"dctinputssnfield",setFormatter:function(a){var b=this;a.formatter=b.formatSSN},setVType:function(a){a.vtype="ssn"}});DCT.Util.reg("dctinputssnfield","interviewInputSSNField","DCT.InputSSNField");Ext.define("DCT.InputStringField",{extend:"DCT.InputField",inputXType:"dctinputstringfield",dctFormatBeforePost:true,xtype:"dctinputstringfield",setValidator:function(a){var b=this;a.validator=b.checkString},setFormatter:function(a){var b=this;switch(a.dctJSFormatter){case"upper":a.formatter=b.formatUpper;break;case"lower":a.formatter=b.formatLower;break;case"string":a.formatter=b.formatString;break}}});DCT.Util.reg("dctinputstringfield","interviewInputStringField","DCT.InputStringField");Ext.define("DCT.InputTimeField",{extend:"DCT.InputField",inputXType:"dctinputtimefield",xtype:"dctinputtimefield",setVType:function(a){a.vtype=(a.dctMilitaryTime=="0")?"time":"militarytime"}});DCT.Util.reg("dctinputtimefield","interviewInputTimeField","DCT.InputTimeField");Ext.define("DCT.InputZipCodeField",{extend:"DCT.InputField",inputXType:"dctinputzipcodefield",xtype:"dctinputzipcodefield",setVType:function(a){a.vtype="zipcode"}});DCT.Util.reg("dctinputzipcodefield","interviewInputZipCodeField","DCT.InputZipCodeField");Ext.define("DCT.InputZipCodeFieldCN",{extend:"DCT.InputField",inputXType:"dctinputzipcodefieldcn",xtype:"dctinputzipcodefieldcn",setVType:function(a){a.vtype="zipcodecn"}});DCT.Util.reg("dctinputzipcodefieldcn","interviewInputZipCodeFieldCN","DCT.InputZipCodeFieldCN");Ext.define("DCT.InputZipCodeFieldDE",{extend:"DCT.InputField",inputXType:"dctinputzipcodefieldde",xtype:"dctinputzipcodefieldde",setVType:function(a){a.vtype="zipcodede"}});DCT.Util.reg("dctinputzipcodefieldde","interviewInputZipCodeFieldDE","DCT.InputZipCodeFieldDE");Ext.define("DCT.InputZipCodeFieldUK",{extend:"DCT.InputField",inputXType:"dctinputzipcodefielduk",xtype:"dctinputzipcodefielduk",dctFormatBeforePost:true,setFormatter:function(a){a.formatter=this.formatZipUk},setVType:function(a){a.vtype="zipcodeuk"}});DCT.Util.reg("dctinputzipcodefielduk","interviewInputZipCodeFieldUK","DCT.InputZipCodeFieldUK");Ext.define("DCT.InputEmailField",{extend:"DCT.InputField",inputXType:"dctinputemailfield",xtype:"dctinputemailfield",setVType:function(a){a.vtype="email"}});DCT.Util.reg("dctinputemailfield","interviewInputEmailField","DCT.InputEmailField");Ext.define("DCT.InputIntField",{extend:"DCT.InputNumberField",inputXType:"dctinputintfield",xtype:"dctinputintfield",setValidator:function(a){var b=this;a.validator=b.checkInt},setFormatter:function(a){a.formatter=a.formatting.formatInt},setCultureSymbols:function(a){var b=this;a.getCultureSymbols=b.getIntSymbols},setStripSymbols:function(a){var b=this;a.getStripSymbols=b.getIntStripSymbols}});DCT.Util.reg("dctinputintfield","interviewInputIntField","DCT.InputIntField");Ext.define("DCT.InputFloatField",{extend:"DCT.InputNumberField",inputXType:"dctinputfloatfield",xtype:"dctinputfloatfield",setValidator:function(a){var b=this;a.validator=b.checkFloat},setFormatter:function(a){a.formatter=a.formatting.formatFloat},setCultureSymbols:function(a){var b=this;a.getCultureSymbols=b.getFloatSymbols},setStripSymbols:function(a){var b=this;a.getStripSymbols=b.getFloatStripSymbols}});DCT.Util.reg("dctinputfloatfield","interviewInputFloatField","DCT.InputFloatField");Ext.define("DCT.InputCreditCardField",{extend:"DCT.InputField",inputXType:"dctinputcreditcardfield",xtype:"dctinputcreditcardfield",setValidator:function(a){var b=this;a.validator=b.checkCreditCard},setMaskRe:function(a){var b="[0-9-]";a.maskRe=new RegExp(b,"i")}});DCT.Util.reg("dctinputcreditcardfield","inputCreditCardField","DCT.InputCreditCardField");Ext.define("DCT.SystemTextField",{extend:"DCT.InputField",inputXType:"dctsystemtextfield",xtype:"dctsystemtextfield",setDefaultListeners:function(a){if(!Ext.isDefined(a.listeners)){a.listeners={}}},setListeners:function(a){},setDisable:function(a){if(Ext.isDefined(a.renderTo)){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}}});DCT.Util.reg("dctsystemtextfield","systemTextField","DCT.SystemTextField");Ext.define("DCT.LoginTextField",{extend:"DCT.SystemTextField",inputXType:"dctlogintextfield",xtype:"dctlogintextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;c.loginOnEnter(f,d.dctSecure)},scope:b}})},loginOnEnter:function(b,a){if(b.getKey()==b.ENTER){if(!a){DCT.Submit.submitAction("login")}else{DCT.Submit.submitPageAction("welcome","login")}return false}}});DCT.Util.reg("dctlogintextfield","loginTextField","DCT.LoginTextField");Ext.define("DCT.PolicyQuickSearchTextField",{extend:"DCT.SystemTextField",inputXType:"dctpolicyquicksearchtextfield",xtype:"dctpolicyquicksearchtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;DCT.Submit.setActiveParent("search");c.searchOnEnter(f)},scope:b}})},searchOnEnter:function(a){if(a.getKey()==a.ENTER){DCT.Submit.runQuickSearch()}}});DCT.Util.reg("dctpolicyquicksearchtextfield","policyQuickSearchTextField","DCT.PolicyQuickSearchTextField");Ext.define("DCT.BillingQuickSearchTextField",{extend:"DCT.SystemTextField",inputXType:"dctbillingquicksearchtextfield",xtype:"dctbillingquicksearchtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;c.onEnter(d.getValue(),f)},scope:b}})},onEnter:function(a,b){if(b.getKey()==b.ENTER){DCT.Submit.billingQuickSearch(a,Ext.getCmp("quickSearchModeId").getValue(),"accountSearch")}}});DCT.Util.reg("dctbillingquicksearchtextfield","billingQuickSearchTextField","DCT.BillingQuickSearchTextField");Ext.define("DCT.BillingDashboardSearchTextField",{extend:"DCT.SystemTextField",inputXType:"dctbillingdashboardsearchtextfield",xtype:"dctbillingdashboardsearchtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;c.onEnter(d.getValue(),f)},scope:b}})},onEnter:function(a,b){if(b.getKey()==b.ENTER){DCT.Submit.billingQuickSearch(a,Ext.getCmp("searchMode").getValue(),"accountDashBoardSearch")}}});DCT.Util.reg("dctbillingdashboardsearchtextfield","billingDashboardSearchTextField","DCT.BillingDashboardSearchTextField");Ext.define("DCT.BatchSearchTextField",{extend:"DCT.SystemTextField",inputXType:"dctbatchsearchtextfield",xtype:"dctbatchsearchtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;c.batchQuery(d.getValue(),f)},scope:b}})},batchQuery:function(b,c){var a=this;if(c.getKey()==c.ENTER){a.resetOpenQuery("batchProcess")}}});DCT.Util.reg("dctbatchsearchtextfield","batchSearchTextField","DCT.BatchSearchTextField");Ext.define("DCT.SystemEmailField",{extend:"DCT.InputEmailField",inputXType:"dctsystememailfield",xtype:"dctsystememailfield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){}});DCT.Util.reg("dctsystememailfield","systemEmailField","DCT.SystemEmailField");Ext.define("DCT.SystemPhoneField",{extend:"DCT.InputPhoneField",inputXType:"dctsystemphonefield",xtype:"dctsystemphonefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){}});DCT.Util.reg("dctsystemphonefield","systemPhoneField","DCT.SystemPhoneField");Ext.define("DCT.SystemZipCodeField",{extend:"DCT.InputZipCodeField",inputXType:"dctsystemzipcodefield",xtype:"dctsystemzipcodefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){}});DCT.Util.reg("dctsystemzipcodefield","systemZipCodeField","DCT.SystemZipCodeField");Ext.define("DCT.TaskSearchTextField",{extend:"DCT.SystemTextField",inputXType:"dctbatchsearchtextfield",xtype:"dcttasksearchtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keypress:{fn:function(d,f){var c=this;DCT.Util.updateForSearch(c.dctTaskFilter)},scope:b}})}});DCT.Util.reg("dcttasksearchtextfield","taskSearchTextField","DCT.TaskSearchTextField");Ext.define("DCT.BillingTextField",{extend:"DCT.SystemTextField",inputXType:"dctbillingtextfield",xtype:"dctbillingtextfield",blankCheck:function(a){return false},onEnter:function(a,b){},enableDisable:function(b,c){var a=this;DCT.Util.enableDisableActionButton(a.blankCheck(b),a.dctActionButton)}});DCT.Util.reg("dctbillingtextfield","billingTextField","DCT.BillingTextField");Ext.define("DCT.BillingEnablingTextField",{extend:"DCT.BillingTextField",inputXType:"dctbillingenablingtextfield",xtype:"dctbillingenablingtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.enableDisable(c.getValue(),d)},scope:b}})}});DCT.Util.reg("dctbillingenablingtextfield","billingEnablingTextField","DCT.BillingEnablingTextField");Ext.define("DCT.BillingEnterTextField",{extend:"DCT.BillingEnablingTextField",inputXType:"dctbillingentertextfield",xtype:"dctbillingentertextfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(c,d){b.onEnter(c.getValue(),d)},scope:b}})},onEnter:function(b,c){var a=this;if(c.getKey()==c.ENTER){DCT.Submit.submitBillingPageAction(a.dctTargetPage,a.dctAction,a.dctCheckEvent,a.dctActionButton)}}});DCT.Util.reg("dctbillingentertextfield","billingEnterTextField","DCT.BillingEnterTextField");Ext.define("DCT.BillingBatchNbrTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingbatchnbrtextfield",xtype:"dctbillingbatchnbrtextfield",blankCheck:function(b){var a=this;if(Ext.isEmpty(Ext.getCmp(a.dctCheckField))||(Ext.isEmpty(b))){return true}else{return false}}});DCT.Util.reg("dctbillingbatchnbrtextfield","billingBatchNbrTextField","DCT.BillingBatchNbrTextField");Ext.define("DCT.BillingDescriptionTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingdescriptiontextfield",xtype:"dctbillingdescriptiontextfield",onEnter:function(a,b){}});DCT.Util.reg("dctbillingdescriptiontextfield","billingDescriptionTextField","DCT.BillingDescriptionTextField");Ext.define("DCT.BillingSearchByTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingsearchbytextfield",xtype:"dctbillingsearchbytextfield",onEnter:function(b,c){var a=this;if(c.getKey()==c.ENTER){DCT.Submit.submitReferenceSearch(Ext.getCmp(a.dctSearchTypeField).getValue(),a.dctTargetPage)}}});DCT.Util.reg("dctbillingsearchbytextfield","billingSearchByTextField","DCT.BillingSearchByTextField");Ext.define("DCT.BillingPaymentShowTextField",{extend:"DCT.BillingTextField",inputXType:"dctbillingpaymentshowtextfield",xtype:"dctbillingpaymentshowtextfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.showHideFields(c.getValue(),d);b.validateFields(c.getValue(),d)},scope:b}})},showHideFields:function(b,c){var a=this;DCT.Util.showHidePaymentDetails(!a.dctCheckFunction())},validateFields:function(f,g){var c=this;var b=Ext.getCmp("unidentifedLastname");var d=Ext.getCmp("unidentifedAccount");var h=Ext.getCmp("unidentifedPolicy");var a=Ext.getCmp("unidentifedOtherInfo");if(!c.dctCheckFunction()){b.clearInvalid();d.clearInvalid();h.clearInvalid();a.clearInvalid();b.allowBlank=true;d.allowBlank=true;h.allowBlank=true;a.allowBlank=true}else{b.allowBlank=false;d.allowBlank=false;h.allowBlank=false;a.allowBlank=false;b.validate();d.validate();h.validate();a.validate()}}});DCT.Util.reg("dctbillingpaymentshowtextfield","billingPaymentShowTextField","DCT.BillingPaymentShowTextField");Ext.define("DCT.BillingCheckFunctionEnableTextField",{extend:"DCT.BillingEnablingTextField",inputXType:"dctbillingcheckfunctionenabletextfield",xtype:"dctbillingcheckfunctionenabletextfield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctbillingcheckfunctionenabletextfield","billingCheckFunctionEnableTextField","DCT.BillingCheckFunctionEnableTextField");Ext.define("DCT.BillingBatchSearchTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingbatchsearchtextfield",xtype:"dctbillingbatchsearchtextfield",blankCheck:function(a){return(me.checkIfBatchSearchFieldsBlank())},onEnter:function(b,c){var a=this;if(c.getKey()==c.ENTER){DCT.Submit.submitBillingPageActionWithCheck(a.dctTargetPage,a.dctAction,a.dctCheckEvent,a.dctActionButton)}}});DCT.Util.reg("dctbillingbatchsearchtextfield","billingBatchSearchTextField","DCT.BillingBatchSearchTextField");Ext.define("DCT.BillingDepositBatchTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingdepositbatchtextfield",xtype:"dctbillingdepositbatchtextfield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())},onEnter:function(b,c){var a=this;if(c.getKey()==c.ENTER){DCT.Grid.applySearchFieldsToGrid(Ext.getCmp(a.dctDataGridId).getStore())}}});DCT.Util.reg("dctbillingdepositbatchtextfield","billingDepositBatchTextField","DCT.BillingDepositBatchTextField");Ext.define("DCT.BillingSearchPaymentTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingsearchpaymenttextfield",xtype:"dctbillingsearchpaymenttextfield",blankCheck:function(b){var a=this;return(a.checkIfPaymentSearchFieldsBlank())}});DCT.Util.reg("dctbillingsearchpaymenttextfield","billingSearchPaymentTextField","DCT.BillingSearchPaymentTextField");Ext.define("DCT.BillingTransferSearchByTextField",{extend:"DCT.BillingEnterTextField",inputXType:"dctbillingtransfersearchbytextfield",xtype:"dctbillingtransfersearchbytextfield",onEnter:function(b,c){var a=this;if(c.getKey()==c.ENTER){DCT.Submit.submitTransferToSearch(b,Ext.getCmp(a.dctSearchTypeField).getValue(),a.dctTargetPage)}}});DCT.Util.reg("dctbillingtransfersearchbytextfield","billingTransferSearchByTextField","DCT.BillingTransferSearchByTextField");Ext.define("DCT.BillingHoldEventTextField",{extend:"DCT.BillingEnablingTextField",inputXType:"dctbillingholdeventtextfield",xtype:"dctbillingholdeventtextfield",blankCheck:function(b){var a=this;return(a.checkIfHoldEventFieldsBlank())}});DCT.Util.reg("dctbillingholdeventtextfield","billingHoldEventTextField","DCT.BillingHoldEventTextField");Ext.define("DCT.BillingAddStatementTextField",{extend:"DCT.BillingEnablingTextField",inputXType:"dctbillingaddstatementtextfield",xtype:"dctbillingaddstatementtextfield",blankCheck:function(b){var a=this;return(a.checkIfAddItemFieldsBlank())}});DCT.Util.reg("dctbillingaddstatementtextfield","billingAddStatementTextField","DCT.BillingAddStatementTextField");Ext.define("DCT.PartyTextField",{extend:"DCT.SystemTextField",inputXType:"dctpartytextfield",xtype:"dctpartytextfield",});DCT.Util.reg("dctpartytextfield","partyTextField","DCT.PartyTextField");Ext.define("DCT.BillingCreditCardField",{extend:"DCT.BillingTextField",inputXType:"dctbillingcreditcardfield",xtype:"dctbillingcreditcardfield",setValidator:function(a){var b=this;a.validator=b.checkCreditCard},setMaskRe:function(a){var b="[0-9-]";a.maskRe=new RegExp(b,"i")}});DCT.Util.reg("dctbillingcreditcardfield","billingCreditCardField","DCT.BillingCreditCardField");Ext.define("DCT.BillingEnablingCreditCardField",{extend:"DCT.BillingCreditCardField",inputXType:"dctbillingenablingcreditcardfield",xtype:"dctbillingenablingcreditcardfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.enableDisable(c.getValue(),d)},scope:b}})}});DCT.Util.reg("dctbillingenablingcreditcardfield","billingEnablingCreditCardField","DCT.BillingEnablingCreditCardField");Ext.define("DCT.BillingCheckFunctionEnableCardField",{extend:"DCT.BillingEnablingCreditCardField",inputXType:"dctbillingcheckfunctionenablecardfield",xtype:"dctbillingcheckfunctionenablecardfield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctbillingcheckfunctionenablecardfield","billingCheckFunctionEnableCardField","DCT.BillingCheckFunctionEnableCardField");Ext.define("DCT.BillingInputNumberField",{extend:"DCT.InputNumberField",inputXType:"dctbillinginputnumberfield",xtype:"dctbillinginputnumberfield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){},processValidField:function(a){},processInValidField:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled},setItemAmounts:function(g){var e=Ext.getCmp("grossAmount");var f=e.getValue();f=(Ext.isEmpty(f))?"0":f;var m=e.formatting.formatNumberToUS(f);var c=Number(parseFloat(m)).toFixed(2);var l=Ext.getCmp("commissionPercent");var b=l.getValue();b=(Ext.isEmpty(b))?"0":b/100;var k=Number(parseFloat(b)).toFixed(2);var d=Number(c*k);var h=Number(m-d).toFixed(2);var a=d.toFixed(2);DCT.Util.getSafeElement("_hiddenGrossAmt").value=m;DCT.Util.getSafeElement("_hiddenCommissionPct").value=b;DCT.Util.getSafeElement("_hiddenCommissionAmt").value=d;DCT.Util.getSafeElement("_hiddenNetAmt").value=h;Ext.getDom("commissionAmount").innerHTML=l.formatting.formatFloat(a);Ext.getDom("netAmount").innerHTML=e.formatting.formatFloat(h)}});Ext.define("DCT.BillingFloatField",{extend:"DCT.BillingInputNumberField",inputXType:"dctbillingfloatfield",xtype:"dctbillingfloatfield",setValidator:function(a){var b=this;a.validator=b.checkFloat},setFormatter:function(a){var b=this;a.formatter=a.formatting.formatFloat},setCultureSymbols:function(a){var b=this;a.getCultureSymbols=b.getFloatSymbols},setStripSymbols:function(a){var b=this;a.getStripSymbols=b.getFloatStripSymbols}});DCT.Util.reg("dctbillingfloatfield","billingFloatField","DCT.BillingFloatField");Ext.define("DCT.BillingBlurFloatField",{extend:"DCT.BillingFloatField",inputXType:"dctbillingblurfloatfield",xtype:"dctbillingblurfloatfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{blur:{fn:function(c){if(!Ext.isEmpty(c.getValue())){if(c.isValid()&&c.isDirty()){b.formatField();b.processValidField(c)}else{if(!c.isValid()){b.processInValidField(c)}}}},scope:b}})}});DCT.Util.reg("dctbillingblurfloatfield","billingBlurFloatField","DCT.BillingBlurFloatField");Ext.define("DCT.BillingEnterFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctbillingenterfloatfield",xtype:"dctbillingenterfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(c,d){b.onEnter(c,d)},scope:b}})},onEnter:function(a,c){var b=this;if(c.getKey()==c.ENTER){if(a.isValid()){DCT.Submit.submitBillingPageAction(b.dctTargetPage,b.dctAction,b.dctCheckEvent,b.dctActionButton)}}}});DCT.Util.reg("dctbillingenterfloatfield","billingEnterFloatField","DCT.BillingEnterFloatField");Ext.define("DCT.ProcessAmountFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctprocessamountfloatfield",xtype:"dctprocessamountfloatfield",processValidField:function(b){var a=this;if(Ext.getDom("tblItemListDetail")!=null){a.calculateAvailableandTotals(b)}DCT.Util.enableDisableActionButton(a.blankCheck(),a.dctActionButton);a.processHold()},processInValidField:function(b){var a=this;if(!b.isValid()){DCT.Util.enableDisableActionButton(true,a.dctActionButton)}},calculateAvailableandTotals:function(a){var x=this;var h,f,u;var v,m;var k,t;var s,d;var w;var o,l;w=x.formatting.formatNumberToUS(a.getValue());numOfRows=Ext.getDom("tblItemListDetail").rows.length-1;o="_hiddenProcessAmountId_"+x.dctRowNumber;l=Ext.getDom(o);l.value=parseFloat(w);v="_hiddenAmountId_"+x.dctRowNumber;availableElement=Ext.getDom(v);m="_hiddenRemAmountId_"+x.dctRowNumber;u=Ext.getDom(m);var b=Number(parseFloat(availableElement.value)-parseFloat(w)).toFixed(2);u.value=b;var q=x.formatting.formatFloat(u.value);s="_displayRemAmountId_"+x.dctRowNumber;d=Ext.get(s);d.update(q);h=Ext.getDom(x.dctTotalAvailableField);f=Ext.getDom(x.dctTotalRemainingField);x.totalAvailAmt=0;x.totalRemainAmt=0;var c,p;for(var e=1;e<=numOfRows;e++){m="_hiddenRemAmountId_"+e;u=Ext.getDom(m);k="_processAmountId_"+e;t=Ext.getCmp(k);if(t.getValue()==""||(!t.isValid())){c=0}else{c=x.formatting.formatNumberToUS(t.getValue());c=c.replace(/[^\d-.]/g,"")}if(u.value==""){p=0}else{p=u.value}x.totalAvailAmt=Number(Number(x.totalAvailAmt)+Number(parseFloat(c))).toFixed(2);x.totalRemainAmt=Number(Number(x.totalRemainAmt)+Number(parseFloat(p))).toFixed(2)}h.value=Number(x.totalAvailAmt).toFixed(2);f.value=Number(x.totalRemainAmt).toFixed(2);var g=x.formatting.formatFloat(h.value);var r=x.formatting.formatFloat(f.value);Ext.get("displayTotalAmount").update(g);Ext.get("displayTotalRemAmount").update(r);return true},blankCheck:function(){var b=this;var a=(Ext.isEmpty(b.dctReasonField))?false:true;if(a){if(b.totalAvailAmt==0||Ext.isEmpty(Ext.getCmp(b.dctReasonField).getValue())){return true}else{return false}}else{if(b.totalAvailAmt==0){return true}else{return false}}},processHold:function(){var a=this;if(Ext.isDefined(a.dctHoldCheckbox)){Ext.getCmp(a.dctHoldCheckbox).enable();Ext.getCmp(a.dctHoldCheckbox).setValue(false);Ext.getDom(a.dctHiddenCheckbox).value=0}}});DCT.Util.reg("dctprocessamountfloatfield","processAmountFloatField","DCT.ProcessAmountFloatField");Ext.define("DCT.AllocationAmountFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctallocationamountfloatfield",xtype:"dctallocationamountfloatfield",processValidField:function(b){var a=this;a.calculateAllocationandTotals(b);if(Ext.isDefined(a.dctCheckFunction)){DCT.Util.enableDisableActionButton(a.blankCheck(),a.dctActionButton)}},processInValidField:function(b){var a=this;if(Ext.isDefined(a.dctCheckFunction)){if(!b.isValid()){DCT.Util.enableDisableActionButton(true,a.dctActionButton)}}},calculateAllocationandTotals:function(a){var w=this;var f,e,t;var u,k;var g,s;var r,c;var v;var o,h;var l=(Ext.get("_hiddenAgencyLiteInd")&&Ext.get("_hiddenAgencyLiteInd").getValue()=="true");v=w.formatting.formatNumberToUS(a.getValue());numOfRows=Ext.getDom("tblItemListDetail").rows.length-1;o="_hiddenProcessAmountId_"+w.dctRowNumber;h=Ext.getDom(o);h.value=Number(parseFloat(v)).toFixed(2);totalAllocatedElement=Ext.getDom("amountAllocatedTotalId");e=Ext.getDom("amountRemainingTotalId");totalSuspenseElement=Ext.getDom("totalSuspenseAmtId");var m=0;var b;for(var d=1;d<=numOfRows;d++){g="_processAmountId_"+d;s=Ext.getCmp(g);if(s.getValue()==""||(!s.isValid())){b=0}else{b=w.formatting.formatNumberToUS(s.getValue());b=b.replace(/[^\d-.]/g,"")}m=Number(Number(m)+Number(parseFloat(b))).toFixed(2)}totalRemainAmt=Number(totalSuspenseElement.value)-Number(m);if(totalRemainAmt<0&&!l){a.validator=w.allocationValidator;a.dctTotalRemaining=w.formatting.formatFloat(e.value);a.validate();a.setValue(w.formatting.formatFloat("0.00"));a.focus();a.validator=w.checkFloat}else{totalAllocatedElement.value=Number(m).toFixed(2);e.value=Number(totalRemainAmt).toFixed(2);var p=w.formatting.formatFloat(totalAllocatedElement.value);var q=w.formatting.formatFloat(e.value);Ext.get("displayTotalAmount").update(p);Ext.get("displayTotalRemAmount").update(q)}},blankCheck:function(){var a=this;return(a.dctCheckFunction())},allocationValidator:function(b){var a=this;if(!Ext.isEmpty(b)){return DCT.T("AmountExceedsAllocation",{max:a.dctTotalRemaining})}return true}});DCT.Util.reg("dctallocationamountfloatfield","allocationAmountFloatField","DCT.AllocationAmountFloatField");Ext.define("DCT.BillingControlNbrFloatField",{extend:"DCT.BillingEnterFloatField",inputXType:"dctbillingcontrolnbrfloatfield",xtype:"dctbillingcontrolnbrfloatfield",processValidField:function(b){var a=this;DCT.Util.getSafeElement(a.dctHiddenControlTotal).value=a.formatting.formatNumberToUS(b.getValue())}});DCT.Util.reg("dctbillingcontrolnbrfloatfield","billingControlNbrFloatField","DCT.BillingControlNbrFloatField");Ext.define("DCT.BillingEditControlFloatField",{extend:"DCT.BillingControlNbrFloatField",inputXType:"dctbillingeditcontrolfloatfield",xtype:"dctbillingeditcontrolfloatfield",onEnter:function(a,b){}});DCT.Util.reg("dctbillingeditcontrolfloatfield","billingEditControlFloatField","DCT.BillingEditControlFloatField");Ext.define("DCT.PaymentAmountFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctpaymentamountfloatfield",xtype:"dctpaymentamountfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(b.blankCheck(),b.dctActionButton);DCT.Util.getSafeElement(b.dctHiddenField).value=b.formatting.formatNumberToUS(c.getValue())}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})},processValidField:function(b){var a=this;DCT.Util.getSafeElement(a.dctHiddenField).value=a.formatting.formatNumberToUS(b.getValue());if(Ext.isDefined(a.dctCheckFunction)){DCT.Util.enableDisableActionButton(a.blankCheck(),a.dctActionButton)}if(Ext.isDefined(a.dctSetTotalsFunction)){a.dctSetTotalsFunction()}},blankCheck:function(){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctpaymentamountfloatfield","paymentAmountFloatField","DCT.PaymentAmountFloatField");Ext.define("DCT.CommissionPercentFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctcommissionpercentfloatfield",xtype:"dctcommissionpercentfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){DCT.Util.enableDisableActionButton((c.getValue()==""),b.dctActionButton)},scope:b}})},processValidField:function(b){var a=this;DCT.Util.getSafeElement(a.dctHiddenField).value=a.formatting.formatNumberToUS(b.getValue())}});DCT.Util.reg("dctcommissionpercentfloatfield","commissionPercentFloatField","DCT.CommissionPercentFloatField");Ext.define("DCT.AddStatementFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctaddstatementfloatfield",xtype:"dctaddstatementfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){DCT.Util.enableDisableActionButton(b.blankCheck(),b.dctActionButton)},scope:b}})},processValidField:function(b){var a=this;a.setItemAmounts(b)},blankCheck:function(){var a=this;return(a.checkIfAddItemFieldsBlank())}});DCT.Util.reg("dctaddstatementfloatfield","addStatementFloatField","DCT.AddStatementFloatField");Ext.define("DCT.OtherChargeFloatField",{extend:"DCT.AddStatementFloatField",inputXType:"dctotherchargefloatfield",xtype:"dctotherchargefloatfield",processValidField:function(b){var a=this;DCT.Util.getSafeElement(a.dctHiddenField).value=a.formatting.formatNumberToUS(b.getValue())},blankCheck:function(){var a=this;return(a.checkIfAddItemFieldsBlank())}});DCT.Util.reg("dctotherchargefloatfield","otherChargeFloatField","DCT.OtherChargeFloatField");Ext.define("DCT.OtherAmountFloatField",{extend:"DCT.BillingBlurFloatField",inputXType:"dctotheramountfloatfield",xtype:"dctotheramountfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(b.blankCheck(),b.dctActionButton);b.processKeyUp(c,d)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})},processValidField:function(b){var a=this;a.setManualAllocationTotals(b,b.getValue())},processInValidField:function(a){if(!a.isValid()){DCT.Util.enableDisableActionButton(true,me.dctActionButton)}},blankCheck:function(){var a=this;return(a.dctCheckFunction())},processKeyUp:function(a,f){var c=this;var d=a.formatting.formatNumberToUS(a.getValue());if(parseFloat(d)>0){DCT.Util.showHideManualAllocationGroup(Ext.getCmp(c.dctPaymentTypeField)!="A")}else{DCT.Util.showHideManualAllocationGroup(false)}var b=Ext.getCmp(c.dctOtherAmountRadio);b.setValue(true)}});DCT.Util.reg("dctotheramountfloatfield","otherAmountFloatField","DCT.OtherAmountFloatField");Ext.define("DCT.BillingSearchPaymentFloatField",{extend:"DCT.BillingEnterFloatField",inputXType:"dctbillingsearchpaymentfloatfield",xtype:"dctbillingsearchpaymentfloatfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(b.blankCheck(),b.dctActionButton);DCT.Util.getSafeElement(b.dctHiddenField).value=b.formatting.formatNumberToUS(c.getValue())}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})},processValidField:function(b){var a=this;DCT.Util.getSafeElement(a.dctHiddenField).value=a.formatting.formatNumberToUS(b.getValue())},processInValidField:function(b){var a=this;if(!b.isValid()){DCT.Util.enableDisableActionButton(true,a.dctActionButton)}},blankCheck:function(){var a=this;return(a.checkIfPaymentSearchFieldsBlank())}});DCT.Util.reg("dctbillingsearchpaymentfloatfield","billingSearchPaymentFloatField","DCT.BillingSearchPaymentFloatField");Ext.define("DCT.WriteOffProcessAmountFloatField",{extend:"DCT.ProcessAmountFloatField",inputXType:"dctwriteoffprocessamountfloatfield",xtype:"dctwriteoffprocessamountfloatfield",calculateAvailableandTotals:function(m){var l=this;var k,e;var h,f;if(!m.isValid()){m.setValue("")}var o=l.formatting.formatNumberToUS(m.getValue());var p=l.dctLinkedField+l.dctRowNumber;var r=Ext.getDom(p);r.value=parseFloat(o);var d=Ext.getDom("tblItemListDetail").rows.length-1;var g=Ext.getDom(l.dctTotalAvailableField);var c=Ext.getDom(l.dctTotalRemainingField);l.totalAvailAmt=0;l.totalRemainAmt=0;for(var q=1;q<=d;q++){k=l.dctAvailableField+q;e=Ext.getDom(k);h=l.dctLinkedField+q;f=Ext.getDom(h);if(f.value==""){waivedValue=0}else{waivedValue=l.formatting.formatNumberToUS(f.value);waivedValue=waivedValue.replace(/[^\d-.]/g,"")}if(e.value==""){availableValue=0}else{availableValue=e.value}l.totalAvailAmt=Number(Number(l.totalAvailAmt)+Number(parseFloat(waivedValue))).toFixed(2);l.totalRemainAmt=Number(Number(l.totalRemainAmt)+(Number(parseFloat(availableValue))-Number(parseFloat(waivedValue)))).toFixed(2)}g.value=Number(l.totalAvailAmt).toFixed(2);c.value=Number(l.totalRemainAmt).toFixed(2);var b=l.formatting.formatFloat(g.value);var a=l.formatting.formatFloat(c.value);Ext.get(l.dctTotalAvailableText).update(b);Ext.get(l.dctTotalRemainingText).update(a);return true},blankCheck:function(){var a=this;var c=Ext.getCmp(a.dctReBillField).getValue();var b=Ext.getCmp(a.dctReasonField).getValue();if(Ext.isEmpty(c)||Ext.isEmpty(b)){return true}else{return false}}});DCT.Util.reg("dctwriteoffprocessamountfloatfield","writeOffProcessAmountFloatField","DCT.WriteOffProcessAmountFloatField");Ext.define("DCT.BillingIntField",{extend:"DCT.BillingInputNumberField",inputXType:"dctbillingintfield",xtype:"dctbillingintfield",setValidator:function(a){var b=this;a.validator=b.checkInt},setFormatter:function(a){a.formatter=a.formatting.formatInt},setCultureSymbols:function(a){var b=this;a.getCultureSymbols=b.getIntSymbols},setStripSymbols:function(a){var b=this;a.getStripSymbols=b.getIntStripSymbols}});DCT.Util.reg("dctbillingintfield","billingIntField","DCT.BillingIntField");Ext.define("DCT.BillingBlurIntField",{extend:"DCT.BillingIntField",inputXType:"dctbillingblurintfield",xtype:"dctbillingblurintfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{blur:{fn:function(c){if(!Ext.isEmpty(c.getValue())){if(c.isValid()&&c.isDirty()){b.formatField();b.processValidField(c)}else{if(!c.isValid()){b.processInValidField(c)}}}},scope:b}})}});DCT.Util.reg("dctbillingblurintfield","billingBlurIntField","DCT.BillingBlurIntField");Ext.define("DCT.AddStatementIntField",{extend:"DCT.BillingBlurIntField",inputXType:"dctaddstatementintfield",xtype:"dctaddstatementintfield",processValidField:function(b){var a=this;a.setItemAmounts(b)}});DCT.Util.reg("dctaddstatementintfield","addStatementIntField","DCT.AddStatementIntField");Ext.define("DCT.ManualInstallmentsIntField",{extend:"DCT.BillingBlurIntField",inputXType:"dctmanualinstallmentsintfield",xtype:"dctmanualinstallmentsintfield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keyup:{fn:function(c,d){if(c.isValid()){DCT.Util.enableDisableActionButton(b.blankCheck(),b.dctActionButton)}else{DCT.Util.enableDisableActionButton(true,b.dctActionButton)}},scope:b}})},processInValidField:function(b){var a=this;if(!b.isValid()){DCT.Util.enableDisableActionButton(true,a.dctActionButton)}},blankCheck:function(){var a=this;return(a.checkRedistributeInput())}});DCT.Util.reg("dctmanualinstallmentsintfield","manualInstallmentsIntField","DCT.ManualInstallmentsIntField");Ext.define("DCT.BillingEmailField",{extend:"DCT.BillingTextField",inputXType:"dctbillingemailfield",xtype:"dctbillingemailfield",setVType:function(a){a.vtype="email"}});DCT.Util.reg("dctbillingemailfield","billingEmailField","DCT.BillingEmailField");Ext.define("DCT.BillingEnablingEmailField",{extend:"DCT.BillingEmailField",inputXType:"dctbillingenablingemailfield",xtype:"dctbillingenablingemailfield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())},setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.enableDisable(c.getValue(),d)},scope:b}})}});DCT.Util.reg("dctbillingenablingemailfield","billingEnablingEmailField","DCT.BillingEnablingEmailField");Ext.define("DCT.BillingPhoneField",{extend:"DCT.BillingTextField",inputXType:"dctbillingphonefield",xtype:"dctbillingphonefield",setFormatter:function(a){var b=this;a.formatter=b.formatPhone},setVType:function(a){a.vtype="phone"}});DCT.Util.reg("dctbillingphonefield","billingPhoneField","DCT.BillingPhoneField");Ext.define("DCT.BillingEnablingPhoneField",{extend:"DCT.BillingPhoneField",inputXType:"dctbillingenablingphonefield",xtype:"dctbillingenablingphonefield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())},setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.enableDisable(c.getValue(),d)},scope:b}})}});DCT.Util.reg("dctbillingenablingphonefield","billingEnablingPhoneField","DCT.BillingEnablingPhoneField");Ext.define("DCT.BillingZipCodeField",{extend:"DCT.BillingTextField",inputXType:"dctbillingzipcodefield",xtype:"dctbillingzipcodefield",setVType:function(a){a.vtype="zipcode"}});DCT.Util.reg("dctbillingzipcodefield","billingZipCodeField","DCT.BillingZipCodeField");Ext.define("DCT.BillingEnablingZipCodeField",{extend:"DCT.BillingZipCodeField",inputXType:"dctbillingenablingzipcodefield",xtype:"dctbillingenablingzipcodefield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.enableDisable(c.getValue(),d)},scope:b}})}});DCT.Util.reg("dctbillingenablingzipcodefield","billingEnablingZipCodeField","DCT.BillingEnablingZipCodeField");Ext.define("DCT.BillingPostCodeEnableZipCodeField",{extend:"DCT.BillingEnablingZipCodeField",inputXType:"dctbillingpostcodeenablezipcodefield",xtype:"dctbillingpostcodeenablezipcodefield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctbillingpostcodeenablezipcodefield","billingPostCodeEnableZipCodeField","DCT.BillingPostCodeEnableZipCodeField");Ext.define("DCT.InstallmentTreeGridPanel",{extend:"DCT.TreeGridPanel",inputXType:"dctinstallmenttreegridpanel",xtype:"dctinstallmenttreegridpanel",emptyText:DCT.T("InstallmentScheduleNotFound"),setModel:function(a){},setListeners:function(a){var b=this;a.listeners={viewready:{fn:function(h,f){var k=this;var e=Ext.get("_detailId").getValue();var l=Ext.get("_allocationCode").getValue();var g=Ext.get("_defaultStartDt").getValue();if(!Ext.isEmpty(g)){var c=new Date(g);var d=h.getStore().findRecord("InstallmentDate",c);if(d){h.expandNode(d,true,function(q){var p=this;if(!Ext.isEmpty(e)){var m=h.getStore().findRecord("DetailId",e,d.data.index);if(m){var o=m.get("DetailTypeCode");if(!Ext.isEmpty(l)&&!Ext.isEmpty(o)&&l==o){p.view.getSelectionModel().select(m)}}}})}}},scope:b}}}});DCT.Util.reg("dctinstallmenttreegridpanel","installmentTreeGridPanel","DCT.InstallmentTreeGridPanel");Ext.define("DCT.Installment",{extend:"Ext.data.TreeModel",childType:"DCT.ScheduleSubGroup",fields:[{name:"Balance",type:"string"},{name:"ClosedRedistributed",type:"string"},{name:"ClosedToCash",type:"string"},{name:"ClosedToCredit",type:"string"},{name:"ClosedWriteOff",type:"string"},{name:"DueDate",type:"date",dateFormat:"Y-m-d"},{name:"EFTStatusCode",type:"string"},{name:"InstallmentAmount",type:"string"},{name:"InstallmentDate",type:"date",dateFormat:"Y-m-d"},{name:"OriginalDueDate",type:"date",dateFormat:"Y-m-d"},{name:"Type",type:"string"}]});Ext.define("DCT.ScheduleSubGroup",{extend:"Ext.data.TreeModel",childType:"DCT.ScheduleSubGroupItem",fields:[{name:"Balance",type:"string"},{name:"ClosedRedistributed",type:"string"},{name:"ClosedToCash",type:"string"},{name:"ClosedToCredit",type:"string"},{name:"ClosedWriteOff",type:"string"},{name:"InstallmentAmount",type:"string"},{name:"ScheduleSubGroupDescription",type:"string"},{name:"PolicyTermIdTermLevelDisplay",type:"string"},{name:"InstallmentDateTermLevelDisplay",type:"date",dateFormat:"Y-m-d"},{name:"Type",type:"string"}]});Ext.define("DCT.ScheduleSubGroupItem",{extend:"Ext.data.TreeModel",fields:[{name:"Balance",type:"string"},{name:"BillItemId",type:"string"},{name:"ClosedRedistributed",type:"string"},{name:"ClosedToCash",type:"string"},{name:"ClosedToCredit",type:"string"},{name:"ClosedWriteOff",type:"string"},{name:"CoverageReference",type:"string"},{name:"CurrencyCulture",type:"string"},{name:"DetailId",type:"string"},{name:"DetailTypeCode",type:"string"},{name:"DueDate",type:"date",dateFormat:"Y-m-d"},{name:"EFTStatusCode",type:"string"},{name:"InstallmentAmount",type:"string"},{name:"InstallmentTypeCode",type:"string"},{name:"ItemAmount",type:"string"},{name:"ItemEffectiveDate",type:"date",dateFormat:"Y-m-d"},{name:"PolicyTermId",type:"string"},{name:"OriginalDueDate",type:"date",dateFormat:"Y-m-d"},{name:"ReceivableTypeCode",type:"string"},{name:"TransactionDate",type:"date",dateFormat:"Y-m-d"},{name:"TransactionTypeCode",type:"string"},{name:"Type",type:"string"}]});Ext.apply(DCT.Grid,{createRowHelp:function(l){var b=l.record,e=l.view,k="",f=b.get("ItemEffectiveDate");if(Ext.isDefined(f)){var m=Ext.getDom("_hiddenDisplayDtMask").value,a="Effective Date: "+Ext.Date.format(f,m),d=b.get("TransactionDate"),c="Transaction Date: "+Ext.Date.format(d,m),h=b.get("Description"),g=b.get("ReceivableSubTypeCode");if(Ext.isDefined(h)){h="Description: "+h}else{h=""}if(Ext.isDefined(g)){g=DCT.T("ReceivableSubTypeCode")+": "+g}else{g=""}k=a+" / "+c+(h==""?h:" / "+h)+(g==""?g:" / "+g);l.rowAttr["data-qtip"]=k||"";l.rowAttr["data-qtitle"]=""}},createRowClass:function(a,e,c,b){var d="";installmentTypeCode=a.get("InstallmentTypeCode");if(Ext.isDefined(installmentTypeCode)&&installmentTypeCode=="MR"){d="italic-text"}return d}});Ext.apply(DCT.Util,{loadScheduleHistory:function(d,c){DCT.Util.getSafeElement("_historyId").value=d;var a=Ext.getCmp("installmentScheduleTreePanel");a.getStore().load({callback:function(f,e,g){DCT.Util.getSafeElement("_historyId").value=""}});Ext.getCmp("installmentStartDate").disable();Ext.getCmp("installmentEndDate").disable();Ext.getCmp("refresh").disable();var b=Ext.getCmp("treeToolbar");b.items.items[0].setText(DCT.T("ScheduleHistory",{history:c}))}});Ext.define("DCT.PartyPhoneField",{extend:"DCT.InputPhoneField",inputXType:"dctpartyphonefield",xtype:"dctpartyphonefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});DCT.Util.reg("dctpartyphonefield","partyPhoneField","DCT.PartyPhoneField");Ext.define("DCT.PartyZipCodeField",{extend:"DCT.InputZipCodeField",inputXType:"dctpartyzipcodefield",xtype:"dctpartyzipcodefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});DCT.Util.reg("dctpartyzipcodefield","partyZipCodeField","DCT.PartyZipCodeField");Ext.define("DCT.ComboField",{extend:"Ext.form.ComboBox",shadow:false,typeAhead:true,forceSelection:true,queryMode:"local",valueField:"code",displayField:"display",valueNotFoundText:"",inputXType:"dctcombofield",dctControl:true,keyDownValue:"",anyMatch:true,xtype:"dctcombofield",defaultListConfig:{loadingHeight:70,minWidth:30,maxHeight:300,shadow:"sides"},constructor:function(a){var b=this;b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setListConfig(a);b.setDefaultListeners(a);b.setListeners(a);b.setDataStore(a);b.setTemplate(a);b.setComboWidth(a);b.setHiddenInfo(a);b.setValidator(a);b.callParent([a]);b.bindConfiguredEvents(a);b.setInitialValue(a)},setComboWidth:function(c){var f=this;var g,e,a;var h=0;c.size=0;if(!Ext.isDefined(c.ctCls)&&!Ext.isDefined(c.width)){c.grow=true;var b=c.store.config.data;if(b!=null&&b.length>0){a=b.length;g=b[0][1];for(var d=1;d<a;d++){e=b[d][1];if(e.length<g.length&&e.length>1&&!Ext.isEmpty(e)){g=e}}h=Ext.util.TextMetrics.measure("innerBody",g).width;c.growMin=f.growMin+h}else{c.growMin=f.growMin}if(!Ext.isEmpty(c.dctMaxSize)){c.growMax=Number(c.dctMaxSize)}}},initialHover:function(c){var d=Ext.getCmp(c.id+"tooltip");if(!Ext.isEmpty(d)){d.destroy()}var b=Ext.create("Ext.tip.ToolTip",{id:c.id+"tooltip",dctControl:true,target:c,trackMouse:true,listeners:{beforeshow:function a(g){var e=c.getSelectedRecord();var f="";if(e){f=e.get("display")}g.update(Ext.util.Format.htmlEncode(f))}}})},setListeners:function(a){var b=this;a.listeners={keydown:{fn:function(d,g){var c=this;switch(g.getKey()){case g.TAB:DCT.Util.setKeysUsed(true,g.shiftKey);break}if(!g.isSpecialKey()){Ext.defer(function(){c.keyDownValue=c.getRawValue()},1)}},scope:b},afterrender:{fn:function(d){var c=this;c.initialHover(d);c.setFieldFocus()},scope:b},select:{fn:function(f,c,d,g){var e=this;e.fieldChanged();e.fieldValidation()},scope:b},blur:{fn:function(k){var g=this;var d=k.getPicker().getSelectionModel();if(d.getCount()==1){var c=d.getSelection()[0];var h=c.get(k.displayField);var e=c.get(k.valueField);if((g.keyDownValue!="")&&(h.toUpperCase().indexOf(g.keyDownValue.toUpperCase())!=-1)){k.setValue(e);k.fireEvent("select",g,c,0,true)}}},scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},render:function(c){c.inputEl.on("click",Ext.Function.createDelayed(c.onTriggerClick,0,c))}}},setAutoCreate:function(a){var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}a.inputAttrTpl=b},setListConfig:function(a){var b="";if(Ext.isDefined(a.fieldRef)){b=' fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'" '}a.listConfig={emptyText:a.emptyText,renderTpl:['<div id="{id}-listWrap"'+b+'data-ref="listWrap"',' class="{baseCls}-list-ct ',Ext.dom.Element.unselectableCls,'">','<ul id="{id}-listEl" data-ref="listEl" class="',Ext.baseCSSPrefix,'list-plain"','<tpl foreach="ariaAttributes"> {$}="{.}"</tpl>',">","</ul>","</div>","{%","var pagingToolbar=values.$comp.pagingToolbar;","if (pagingToolbar) {","Ext.DomHelper.generateMarkup(pagingToolbar.getRenderTree(), out);","}","%}",{disableFormats:true}]}},setDataStore:function(a){if(!Ext.isDefined(a.store)){a.store=Ext.create("Ext.data.ArrayStore",{fields:["code","display"],data:a.dctStore})}},setTemplate:function(a){a.tpl='<tpl for="."><li role="option" unselectable="on" class="x-boundlist-item" data-qtip="{display:htmlEncode}">{display:htmlEncode}</li></tpl>'},setHiddenInfo:function(a){a.hiddenId=a.id+"Combo"},setInitialValue:function(b){var d=this;if(Ext.isEmpty(b.value)){var a=b.store.getAt(0);if(!Ext.isEmpty(a)){var c=d.preventMark;d.preventMark=true;d.setValue(a.get(d.valueField));d.preventMark=c}}},setDefaultListeners:function(a){},setValidator:function(a){var b=this;a.validator=b.checkEmptyCode},checkEmptyCode:function(b){var a=this;if(!a.allowBlank&&Ext.isEmpty(a.getSubmitValue())){return a.blankText}return true},setHiddenValue:function(k){var f=this,a=f.hiddenName,b=f.hiddenId,e,c,l,h,g,d;if(!f.hiddenDataEl||!a){return}k=Ext.Array.from(k);c=f.hiddenDataEl.dom;l=c.childNodes;h=l[0];g=k.length;d=l.length;if(!h&&g>0){f.hiddenDataEl.setHtml(Ext.DomHelper.markup({tag:"input",type:"hidden",id:b,name:a}));d=1;h=c.firstChild}while(d>g){c.removeChild(l[0]);--d}while(d<g){c.appendChild(h.cloneNode(true));++d}for(e=0;e<g;e++){l[e].value=k[e]}}});DCT.Util.reg("dctcombofield","interviewComboField","DCT.ComboField");Ext.define("DCT.BoundListKeyNav",{override:"Ext.view.BoundListKeyNav",selectHighlighted:function(h){var f=this,b=f.view,a=b.getSelectionModel(),c,d=f.recordIndex;if(b.all.getCount()){c=f.getRecord();if(c){if(h.getKey()===h.ENTER||!a.isSelected(c)){var g=f.view.up("combobox");if(g&&h.getKey()!==h.ENTER){c=g.store.findRecord(g.displayField,g.getRawValue(),0,g.anyMatch,g.caseSensitive);if(c){a.selectWithEvent(c,h)}}else{a.selectWithEvent(c,h)}if(!b.store.data.contains(c)){f.setPosition(Math.min(d,b.store.getCount()-1))}}}}}});Ext.define("DCT.SystemComboField",{extend:"DCT.ComboField",inputXType:"dctsystemcombofield",xtype:"dctsystemcombofield",setDefaultListeners:function(a){var b=this;a.listeners={specialkey:function(k,l){var h=this;switch(l.getKey()){case l.RETURN:case l.ENTER:break;case l.TAB:var d=k.getPicker().getSelectionModel();if(d.getCount()==1){var c=d.getSelection()[0];var g=c.get(k.valueField);k.setValue(g);k.fireEvent("select",h,c)}break}},afterrender:{fn:function(d){var c=this;c.initialHover(d)},scope:b},render:function(c){c.inputEl.on("click",Ext.Function.createDelayed(c.onTriggerClick,0,c))}}},setListeners:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});DCT.Util.reg("dctsystemcombofield","systemComboField","DCT.SystemComboField");Ext.define("DCT.QuickSearchComboField",{extend:"DCT.SystemComboField",inputXType:"dctquicksearchcombofield",xtype:"dctquicksearchcombofield",setDataStore:function(a){a.store=Ext.create("Ext.data.ArrayStore",{fields:["code","display"],data:a.dctDataStore})},setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.showHideSearchField(f.getValue())},scope:b},afterrender:{fn:function(){var c=this;DCT.hubEvents.addListener("ajaxcomplete",c.checkDefaultValue,c)},scope:b},destroy:{fn:function(){var c=this;DCT.hubEvents.removeListener("ajaxcomplete",c.checkDefaultValue,c)},scope:b}})},checkDefaultValue:function(a){var b=this;if(Ext.isEmpty(b.getValue())){b.setValue(b.store.data.getAt(0).data.code)}},showHideSearchField:function(a){DCT.Util.hideShowGroup("searchUsingLabel",a!="party");DCT.Util.hideShowGroup("quickSearchTextId",a!="party")}});DCT.Util.reg("dctquicksearchcombofield","quicksearchComboField","DCT.QuickSearchComboField");Ext.define("DCT.DashboardComboField",{extend:"DCT.SystemComboField",inputXType:"dctdashboardsearchcombofield",xtype:"dctdashboardsearchcombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.showHideDashBoardSearchField(f.getValue())},scope:b}})},showHideDashBoardSearchField:function(a){DCT.Util.hideShowGroup("searchNumberGroup",a!="party")}});DCT.Util.reg("dctdashboardsearchcombofield","dashboardsearchComboField","DCT.DashboardComboField");Ext.define("DCT.AgencyComboField",{extend:"DCT.SystemComboField",inputXType:"dctagencycombofield",xtype:"dctagencycombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.applyAgencySelection(Ext.getCmp("newList").getStore(),f.getValue())},scope:b}})},applyAgencySelection:function(a,b){a.loadPage(1,{params:{_AgencyID:b},callback:DCT.Util.loadProducerList})}});DCT.Util.reg("dctagencycombofield","agencyComboField","DCT.AgencyComboField");Ext.define("DCT.MessageTypeComboField",{extend:"DCT.SystemComboField",inputXType:"dctmessagetypecombofield",xtype:"dctmessagetypecombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},scope:b}})}});DCT.Util.reg("dctmessagetypecombofield","messagetypeComboField","DCT.MessageTypeComboField");Ext.define("DCT.MessageQueryComboField",{extend:"DCT.SystemComboField",inputXType:"dctmessagequerycombofield",xtype:"dctmessagequerycombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.filterMessageList(f.getValue(),Ext.getCmp("messagesList").getStore())},scope:b}})}});DCT.Util.reg("dctmessagequerycombofield","messageQueryComboField","DCT.MessageQueryComboField");Ext.define("DCT.TaskEntityComboField",{extend:"DCT.SystemComboField",inputXType:"dcttaskentitycombofield",xtype:"dcttaskentitycombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.reloadTaskQueue(f.getValue(),null,"","policy","TaskQueue",false,"skipCheck")},scope:b}})}});DCT.Util.reg("dcttaskentitycombofield","taskEntityComboField","DCT.TaskEntityComboField");Ext.define("DCT.PrintListComboField",{extend:"DCT.SystemComboField",inputXType:"dctprintlistcombofield",xtype:"dctprintlistcombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.reloadPrintJobGrid()},scope:b}})},reloadPrintJobGrid:function(){var a=DCT.Util.getSafeElement("formsShow").value;DCT.Util.getSafeElement("_printShowFilter").value=a;DCT.Grid.applyFilterToDataStore(Ext.getCmp("printJobList").getStore())}});DCT.Util.reg("dctprintlistcombofield","printListComboField","DCT.PrintListComboField");Ext.define("DCT.SelectAgencyComboField",{extend:"DCT.SystemComboField",inputXType:"dctselectagencycombofield",xtype:"dctselectagencycombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.searchAgency(false,f.id)},scope:b}})}});DCT.Util.reg("dctselectagencycombofield","selectagencyComboField","DCT.SelectAgencyComboField");Ext.define("DCT.TaskComboField",{extend:"DCT.SystemComboField",inputXType:"dcttaskcombofield",xtype:"dcttaskcombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.reloadTasks(f)},scope:b}})},reloadTasks:function(a){}});DCT.Util.reg("dcttaskcombofield","taskComboField","DCT.TaskComboField");Ext.define("DCT.TaskAssignedComboField",{extend:"DCT.TaskComboField",inputXType:"dcttaskassignedcombofield",xtype:"dcttaskassignedcombofield",reloadTasks:function(a){DCT.Util.reloadTaskQueue("",null,a.getValue(),"assigned","QueueAssigned",false,"skipCheck")}});DCT.Util.reg("dcttaskassignedcombofield","taskassignedComboField","DCT.TaskAssignedComboField");Ext.define("DCT.TaskFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dcttaskfiltercombofield",taskType:"assigned",xtype:"dcttaskfiltercombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.updateForSearch(e.taskType)},scope:b}})}});DCT.Util.reg("dcttaskfiltercombofield","taskfilterComboField","DCT.TaskFilterComboField");Ext.define("DCT.TaskUnassignedComboField",{extend:"DCT.TaskComboField",inputXType:"dcttaskunassignedcombofield",xtype:"dcttaskunassignedcombofield",reloadTasks:function(a){DCT.Util.reloadTaskQueue(Ext.getCmp("unassignedQueueEntityId").getValue(),null,a.getValue(),"unassigned","QueueUnassigned",false,"skipCheck")}});DCT.Util.reg("dcttaskunassignedcombofield","taskunassignedComboField","DCT.TaskUnassignedComboField");Ext.define("DCT.TaskUnassignedQueueComboField",{extend:"DCT.TaskComboField",inputXType:"dcttaskunassignedqueuecombofield",xtype:"dcttaskunassignedqueuecombofield",reloadTasks:function(a){DCT.Util.reloadTaskQueue(a.getValue(),null,Ext.getCmp("unassignedFilterId").getValue(),"unassigned","QueueUnassigned",false,"skipCheck")}});DCT.Util.reg("dcttaskunassignedqueuecombofield","taskunassignedqueueComboField","DCT.TaskUnassignedQueueComboField");Ext.define("DCT.TaskUnassignedFilterComboField",{extend:"DCT.TaskFilterComboField",inputXType:"dcttaskunassignedfiltercombofield",taskType:"unassigned",xtype:"dcttaskunassignedfiltercombofield"});DCT.Util.reg("dcttaskunassignedfiltercombofield","taskunassignedfilterComboField","DCT.TaskUnassignedFilterComboField");Ext.define("DCT.TaskAdminQueueComboField",{extend:"DCT.TaskComboField",inputXType:"dcttaskadminqueueComboField",xtype:"dcttaskadminqueueComboField",reloadTasks:function(a){DCT.Util.reloadTaskQueue(a.getValue(),Ext.getCmp("adminAssignedUserId").getValue(),Ext.getCmp("adminFilterId").getValue(),"admin","QueueAdmin",false,"skipCheck")}});DCT.Util.reg("dcttaskadminqueueComboField","taskadminqueueComboField","DCT.TaskAdminQueueComboField");Ext.define("DCT.TaskAdminFilterComboField",{extend:"DCT.TaskComboField",inputXType:"dcttaskadminFilterComboField",xtype:"dcttaskadminFilterComboField",reloadTasks:function(a){DCT.Util.reloadTaskQueue(Ext.getCmp("adminQueueEntityId").getValue(),Ext.getCmp("adminAssignedUserId").getValue(),a.getValue(),"admin","QueueAdmin",false,"skipCheck")}});DCT.Util.reg("dcttaskadminFilterComboField","taskadminFilterComboField","DCT.TaskAdminFilterComboField");Ext.define("DCT.TaskAdminComboField",{extend:"DCT.TaskFilterComboField",inputXType:"dcttaskadmincombofield",taskType:"admin",xtype:"dcttaskadmincombofield"});DCT.Util.reg("dcttaskadmincombofield","taskadminComboField","DCT.TaskAdminComboField");Ext.define("DCT.BatchSearchTypeComboField",{extend:"DCT.SystemComboField",inputXType:"dctbatchsearchtypecombofield",xtype:"dctbatchsearchtypecombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.displaySearchField(c)},scope:b}})},displaySearchField:function(b){var d=b.data.code;var c=Ext.getCmp("lastSearchDateVal");var a=Ext.getCmp("lastSearchVal");if(d=="Quote.EffectiveDate"||d=="SentDate"){c.setVisible(true);c.setDisabled(false);a.setVisible(false);a.setDisabled(true)}else{c.setVisible(false);c.setDisabled(true);a.setVisible(true);a.setDisabled(false)}}});DCT.Util.reg("dctbatchsearchtypecombofield","batchSearchTypeComboField","DCT.BatchSearchTypeComboField");Ext.define("DCT.PolicySearchTypeComboField",{extend:"DCT.SystemComboField",inputXType:"dctpolicysearchtypecombofield",xtype:"dctpolicysearchtypecombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.displaySearchField(c,d)},scope:b}})},displaySearchField:function(b,c){var e=this;var f=b.data.code;var g=e.id.substring(e.id.length-1,e.id.length);var d=Ext.getCmp("_keyvalueDateSearch"+g);var a=Ext.getCmp("_keyvalueTextSearch"+g);if(f=="EffectiveDate"||f=="Quote.ExpirationDate"||f=="Quote.DateAccessed"){d.setVisible(true);d.setDisabled(false);a.setVisible(false);a.setDisabled(true)}else{d.setVisible(false);d.setDisabled(true);a.setVisible(true);a.setDisabled(false)}}});DCT.Util.reg("dctpolicysearchtypecombofield","policySearchTypeComboField","DCT.PolicySearchTypeComboField");Ext.define("DCT.CommentsFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctcommentsfiltercombofield",taskType:"assigned",xtype:"dctcommentsfiltercombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.reloadCommentQueue(f.getValue())},scope:b}})},reloadCommentQueue:function(c){var b=this;DCT.Util.getSafeElement("_filterType").value=c;var a=DCT.Util.getDataStore(b.dctGridId);DCT.Grid.applyFilterToDataStore(a)}});DCT.Util.reg("dctcommentsfiltercombofield","commentsFilterComboField","DCT.CommentsFilterComboField");Ext.define("DCT.CountryComboField",{extend:"DCT.SystemComboField",inputXType:"dctcountrycombofield",xtype:"dctcountrycombofield",taskType:"assigned",setListeners:function(a){a.listeners={select:{fn:function(e,b,c){var d=this;d.changeFieldVType()},scope:me}}},changeFieldVType:function(){var a=this;Ext.getCmp("zipId").setRawValue("");Ext.getCmp("phoneId").setRawValue("");if(Ext.isEmpty(a.value)||a.value=="US"){a.applyVType("zipId","zipcode");a.applyVType("phoneId","phone")}else{a.applyVType("zipId","zipcode"+a.value.toLowerCase());a.applyVType("phoneId","phone"+a.value.toLowerCase())}a.addRemoveFilterKeys("zipId");a.addRemoveFilterKeys("phoneId")},applyVType:function(a,b){var c=Ext.getCmp(a);if(Ext.isDefined(Ext.form.VTypes[b])){c.vtype=b;c.maskRe=Ext.form.VTypes[b+"Mask"]}else{c.vtype=null;c.maskRe=null}},addRemoveFilterKeys:function(b){var f=Ext.getCmp(b);if(Ext.isEmpty(f.vtype)){f.mun(f.el,"keypress",f.filterKeys,f)}else{var e,d;for(var c=0,a=f.mons.length;c<a;++c){d=f.mons[c];if(f.el===d.item&&"keypress"==d.ename&&f.filterKeys===d.fn&&f===d.scope){e=true;break}}if(!e){f.mon(f.el,"keypress",f.filterKeys,f)}}}});DCT.Util.reg("dctcountrycombofield","countryComboField","DCT.CountryComboField");Ext.define("DCT.ProductComboField",{extend:"DCT.SystemComboField",inputXType:"dctproductcombofield",xtype:"dctproductcombofield",setDataStore:function(a){a.store=Ext.create("Ext.data.ArrayStore",{fields:["code","display","xsltDir"],data:a.dctPortalStore})},setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(c){if(c.isDirty()){DCT.Submit.setPortal(c.value,c.selection.data.xsltDir)}},scope:b},focus:{fn:function(c){},scope:b},})},listConfig:{cls:"applicationName"}});DCT.Util.reg("dctproductcombofield","productComboField","DCT.ProductComboField");Ext.define("DCT.BasicComboField",{extend:"DCT.SystemComboField",inputXType:"dctbasiccombofield",xtype:"dctbasiccombofield",blankCheck:function(a){return false},dctChangeFunction:function(a){}});DCT.Util.reg("dctbasiccombofield","basicComboField","DCT.BasicComboField");Ext.define("DCT.EnablingComboField",{extend:"DCT.BasicComboField",inputXType:"dctenablingcombofield",xtype:"dctenablingcombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.enableDisableActionButton(e.blankCheck(f.getValue()),e.dctActionButton);if(Ext.isDefined(e.dctChangeFunction)){e.dctChangeFunction(f.getValue())}},scope:b}})}});DCT.Util.reg("dctenablingcombofield","enablingComboField","DCT.EnablingComboField");Ext.define("DCT.BatchProcessingOrgUnitComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbatchprocessingorgunitcombofield",xtype:"batchprocessingorgunitcombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(f,d){var c=this;c.onEnter(d)},scope:b}})},blankCheck:function(b){var a=Ext.getCmp("processingOrgUnit").getValue();if(Ext.isEmpty(b)||Ext.isEmpty(batchNbr)){return true}else{return false}},onEnter:function(b){var a=this;if(b.getKey()==b.ENTER){DCT.Submit.createBatch("processingOrgUnit",a.dctActionButton);return false}}});DCT.Util.reg("batchprocessingorgunitcombofield","batchProcessingOrgUnitComboField","DCT.BatchProcessingOrgUnitComboField");Ext.define("DCT.BatchPaymentMethodComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbatchpaymentmethodcombofield",xtype:"dctbatchpaymentmethodcombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(f,d){var c=this;c.onEnter(d)},scope:b}})},blankCheck:function(a){var b=Ext.getCmp("batchNbr").getValue();if(Ext.isEmpty(a)||Ext.isEmpty(b)){return true}else{return false}},onEnter:function(b){var a=this;if(b.getKey()==b.ENTER){DCT.Submit.createBatch("batchPayment",a.dctActionButton);return false}}});DCT.Util.reg("dctbatchpaymentmethodcombofield","batchPaymentMethodComboField","DCT.BatchPaymentMethodComboField");Ext.define("DCT.BasicBlankCheckComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbasicblankcheckcombofield",xtype:"dctbasicblankcheckcombofield",blankCheck:function(a){if(Ext.isEmpty(a)){return true}else{return false}}});DCT.Util.reg("dctbasicblankcheckcombofield","basicBlankCheckComboField","DCT.BasicBlankCheckComboField");Ext.define("DCT.BasicEnablingComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbasicenablingcombofield",xtype:"dctbasicenablingcombofield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctbasicenablingcombofield","basicEnablingComboField","DCT.BasicEnablingComboField");Ext.define("DCT.ShowHideComboField",{extend:"DCT.BasicComboField",inputXType:"dctshowhidecombofield",xtype:"dctshowhidecombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.enableDisableActionButton(e.blankCheck(f.getValue()),e.dctActionButton);if(Ext.isDefined(e.dctShowHideFunction)){e.dctShowHideFunction(f)}},scope:b}})},blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctshowhidecombofield","showhideComboField","DCT.ShowHideComboField");Ext.define("DCT.ShowHideCmtsComboField",{extend:"DCT.BasicComboField",inputXType:"dctshowhidecmtscombofield",xtype:"dctshowhidecmtscombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;DCT.Util.enableDisableActionButton(e.blankCheck(f.getValue()),e.dctActionButton);if(Ext.isDefined(e.dctShowHideFunction)){e.dctShowHideFunction(f,e.dctItemsList,e.dctItemListRow,e.dctCmtDescription,e.dctCmtTypeCode)}},scope:b}})},blankCheck:function(b){var a=this;return(a.checkIfHoldItemActionFieldBlank())}});DCT.Util.reg("dctshowhidecmtscombofield","showHideCmtsComboField","DCT.ShowHideCmtsComboField");Ext.define("DCT.BasicDetailsComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbasicdetailscombofield",xtype:"dctbasicdetailscombofield",blankCheck:function(b){var a=this;switch(a.dctPaymentListCheck){case"equal":if(Ext.isEmpty(b)||(Ext.getCmp(a.dctPaymentListId).getSelectionModel().getCount()==0)){return true}else{return false}break;case"greater":if(Ext.isEmpty(b)||(Ext.getCmp(a.dctPaymentListId).getSelectionModel().getCount()<0)){return true}else{return false}break}return false}});DCT.Util.reg("dctbasicdetailscombofield","basicDetailsComboField","DCT.BasicDetailsComboField");Ext.define("DCT.BasicProcessComboField",{extend:"DCT.BasicComboField",inputXType:"dctbasicprocesscombofield",xtype:"dctbasicprocesscombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.processFunction(f,c)},scope:b}})},processFunction:function(b,a){}});DCT.Util.reg("dctbasicprocesscombofield","basicProcessComboField","DCT.BasicProcessComboField");Ext.define("DCT.HistoryReportComboField",{extend:"DCT.BasicProcessComboField",inputXType:"dcthistoryreportcombofield",xtype:"dcthistoryreportcombofield",processFunction:function(c,a){var b=this;DCT.Submit.openReport(b.dctTargetPage,b.dctReportPath,c.getValue(),b.dctActionButton)}});DCT.Util.reg("dcthistoryreportcombofield","historyReportComboField","DCT.HistoryReportComboField");Ext.define("DCT.ReportNameComboField",{extend:"DCT.BasicProcessComboField",inputXType:"dctreportnamecombofield",xtype:"dctreportnamecombofield",processFunction:function(c,a){var b=this;DCT.Submit.openReport(b.dctTargetPage,c.getValue(),"",b.dctActionButton)}});DCT.Util.reg("dctreportnamecombofield","reportNameComboField","DCT.ReportNameComboField");Ext.define("DCT.ExportReportComboField",{extend:"DCT.BasicProcessComboField",inputXType:"dctexportreportcombofield",xtype:"dctexportreportcombofield",processFunction:function(c,a){var b=this;DCT.Submit.exportReport(b.dctTargetPage,b.dctReportPath,b.dctHistoryId,c.getValue(),b.dctActionButton);c.setValue("")}});DCT.Util.reg("dctexportreportcombofield","exportReportComboField","DCT.ExportReportComboField");Ext.define("DCT.PaymentSearchComboField",{extend:"DCT.EnablingComboField",inputXType:"dctpaymentsearchcombofield",xtype:"dctpaymentsearchcombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{keypress:{fn:function(f,d){var c=this;c.onEnter(d)},scope:b}})},blankCheck:function(b){var a=this;return(a.checkIfPaymentSearchFieldsBlank())},onEnter:function(b){var a=this;if(b.getKey()==b.ENTER){DCT.Submit.submitBillingPageAction(a.dctTargetPage,a.dctAction,a.dctCheckEvent,a.dctActionButton);return false}}});DCT.Util.reg("dctpaymentsearchcombofield","paymentSearchComboField","DCT.PaymentSearchComboField");Ext.define("DCT.SuspendPaymentComboField",{extend:"DCT.EnablingComboField",inputXType:"dctsuspendpaymentcombofield",xtype:"dctsuspendpaymentcombofield",blankCheck:function(a){if(Ext.isEmpty(a)||(Ext.get("actionAmountTotalId").getValue()==0)){return true}else{return false}}});DCT.Util.reg("dctsuspendpaymentcombofield","suspendPaymentComboField","DCT.SuspendPaymentComboField");Ext.define("DCT.SuspenseComboField",{extend:"DCT.EnablingComboField",inputXType:"dctsuspensecombofield",xtype:"dctsuspensecombofield",blankCheck:function(b){var a=this;return(a.dctCheckFunction(b))},dctChangeFunction:function(b){var a=this;a.setRefundToCheck_Checkbox(b);a.setRefundToEFT_Checkbox(b)},setRefundToCheck_Checkbox:function(c){var b=this;var a=Ext.getCmp(b.dctRefundCheckField);if(a){if(c=="DB"){a.enable()}else{a.disable();a.setValue(false)}}},setRefundToEFT_Checkbox:function(c){var b=this;var a=Ext.getCmp(b.dctRefundEftField);if(a){if(c=="DB"){a.enable()}else{a.disable();a.setValue(false)}}}});DCT.Util.reg("dctsuspensecombofield","suspenseComboField","DCT.SuspenseComboField");Ext.define("DCT.AccountSearchComboField",{extend:"DCT.BasicProcessComboField",inputXType:"dctaccountsearchcombofield",xtype:"dctaccountsearchcombofield",processFunction:function(b,a){DCT.Util.hideShowGroup("searchNumberGroup",b.getValue()!="party")}});DCT.Util.reg("dctaccountsearchcombofield","accountSearchComboField","DCT.AccountSearchComboField");Ext.define("DCT.BasicReasonComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbasicreasoncombofield",xtype:"dctbasicreasoncombofield",blankCheck:function(a){if(Ext.isEmpty(a)||(Ext.get("actionAmountTotalId").getValue()==0)){return true}else{return false}}});DCT.Util.reg("dctbasicreasoncombofield","basicReasonComboField","DCT.BasicReasonComboField");Ext.define("DCT.TransferReasonComboField",{extend:"DCT.EnablingComboField",inputXType:"dcttransferreasoncombofield",xtype:"dcttransferreasoncombofield",blankCheck:function(a){if(Ext.isEmpty(a)){return true}else{return false}},dctChangeFunction:function(a){DCT.Util.hideShowGroup("transferOptionForPayorChange",a=="COPR")}});DCT.Util.reg("dcttransferreasoncombofield","transferReasonComboField","DCT.TransferReasonComboField");Ext.define("DCT.ViewDisburseComboField",{extend:"DCT.EnablingComboField",inputXType:"dctviewdisbursecombofield",xtype:"dctviewdisbursecombofield",blankCheck:function(c){var a=this;var e=Ext.getCmp("billingreSuspendActionField").getValue();var d="NA";var b=Ext.getCmp("holdOptionField");if(Ext.isDefined(b)){if(!a.dctIsDisbursed){d=b.getValue()}else{d=""}}if((Ext.isEmpty(e))||(Ext.isEmpty(d))){return true}else{return false}}});DCT.Util.reg("dctviewdisbursecombofield","viewDisburseComboField","DCT.ViewDisburseComboField");Ext.define("DCT.WriteOffComboField",{extend:"DCT.EnablingComboField",inputXType:"dctwriteoffcombofield",xtype:"dctwriteoffcombofield",blankCheck:function(a){var c=Ext.getCmp("reverseReasonField").getValue();var b=Ext.getCmp("holdOptionField").getValue();var d=Ext.get("resuspendWriteoff");if((Ext.isEmpty(c))||(Ext.isEmpty(b))){return true}else{return false}}});DCT.Util.reg("dctwriteoffcombofield","writeOffComboField","DCT.WriteOffComboField");Ext.define("DCT.WriteOffReasonComboField",{extend:"DCT.EnablingComboField",inputXType:"dctwriteoffreasoncombofield",xtype:"dctwriteoffreasoncombofield",blankCheck:function(b){var c=Ext.getCmp("billingreBillField").getValue();var a=Ext.getCmp("writeOffWaiveReasonId").getValue();if((Ext.isEmpty(c))||(Ext.isEmpty(a))){return true}else{return false}}});DCT.Util.reg("dctwriteoffreasoncombofield","writeOffReasonComboField","DCT.WriteOffReasonComboField");Ext.define("DCT.WriteOffActionComboField",{extend:"DCT.WriteOffReasonComboField",inputXType:"dctwriteoffactioncombofield",xtype:"dctwriteoffactioncombofield",dctChangeFunction:function(a){if(a=="WO"||Ext.isEmpty(a)){Ext.get("_writeoffWaiveAction").query("span[class=g-btn-text]")[0].innerHTML=DCT.T("WriteOff")}else{Ext.get("_writeoffWaiveAction").query("span[class=g-btn-text]")[0].innerHTML=DCT.T("Waive")}}});DCT.Util.reg("dctwriteoffactioncombofield","writeOffActionComboField","DCT.WriteOffActionComboField");Ext.define("DCT.BillingCardTypeComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbillingcardtypecombofield",xtype:"dctbillingcardtypecombofield",blankCheck:function(b){var a=this;return(a.dctCheckFunction())},dctChangeFunction:function(b){var a=this;Ext.getCmp(a.dctCardNumberField).validate()}});DCT.Util.reg("dctbillingcardtypecombofield","billingCardTypeComboField","DCT.BillingCardTypeComboField");Ext.define("DCT.PaymentTypeComboField",{extend:"DCT.EnablingComboField",inputXType:"dctpaymenttypecombofield",xtype:"dctpaymenttypecombofield",dctChangeFunction:function(b){var a=this;(a.dctAgency)?a.showHideApplyPaymentRadiobutton(b):a.showHideApplyToRadiobutton(b)},blankCheck:function(b){var a=this;return(a.dctCheckFunction())},showHideApplyPaymentRadiobutton:function(a){var b=Ext.get("currentPromiseToPayGroup");if(b){DCT.Util.hideShowGroup("currentPromiseToPayGroup",a!="A");Ext.getCmp("currentPromiseToPayId").setValue((a!="A"))}if(Ext.get("suspenseGroup")){DCT.Util.currentPromiseToPayGroup("suspenseGroup",a!="A");Ext.getCmp("suspenseId").setValue((a!="A"&&Ext.isEmpty(b)))}DCT.Util.showHidePromisesToPay()},showHideApplyToRadiobutton:function(e){var d=Ext.get("currentInvoiceGroup");var h=Ext.get("currentDueGroup");var f=Ext.get("accountBalanceGroup");var b=Ext.getCmp("otherAmountId");if(d){DCT.Util.hideShowGroup("currentInvoiceGroup",(e!="A"));Ext.getCmp("currentInvoiceId").setValue(e!="A")}if(h){DCT.Util.hideShowGroup("currentDueGroup",e!="A");Ext.getCmp("currentDueId").setValue(e!="A"&&d==null)}if(f){DCT.Util.hideShowGroup("accountBalanceGroup",e!="A");Ext.getCmp("accountBalanceId").setValue(e!="A"&&d==null&&h==null)}if(b){b.setValue(e=="A"||(d==null&&h==null&&f==null));var g=Ext.getCmp("_otherAmountId");var a=g.getValue();var c=parseFloat(g.formatting.formatNumberToUS(a));DCT.Util.showHideManualAllocationGroup(e!="A"&&(c>0)&&(d==null&&h==null&&f==null))}}});DCT.Util.reg("dctpaymenttypecombofield","paymentTypeComboField","DCT.PaymentTypeComboField");Ext.define("DCT.BillingHoldEventComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbillingholdeventcombofield",xtype:"dctbillingholdeventcombofield",blankCheck:function(b){var a=this;return(a.checkIfHoldEventFieldsBlank())}});DCT.Util.reg("dctbillingholdeventcombofield","billingHoldEventComboField","DCT.BillingHoldEventComboField");Ext.define("DCT.BillingHoldComboField",{extend:"DCT.ShowHideComboField",inputXType:"dctbillingholdcombofield",xtype:"dctbillingholdcombofield",blankCheck:function(b){var a=this;return(a.checkIfHoldFieldsBlank())},dctShowHideFunction:function(b){var a=this;if(b.getValue()=="HD"){DCT.Util.hideShowGroup("HoldDisbursementReason",true);DCT.Util.hideShowGroup("HoldBillFollowupReason",false)}else{DCT.Util.hideShowGroup("HoldBillFollowupReason",true);DCT.Util.hideShowGroup("HoldDisbursementReason",false)}a.showHideHoldOptions(b)}});DCT.Util.reg("dctbillingholdcombofield","billingHoldComboField","DCT.BillingHoldComboField");Ext.define("DCT.BillingHoldReasonComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbillingholdreasoncombofield",xtype:"dctbillingholdreasoncombofield",blankCheck:function(b){var a=this;return(a.checkIfHoldFieldsBlank())}});DCT.Util.reg("dctbillingholdreasoncombofield","billingHoldReasonComboField","DCT.BillingHoldReasonComboField");Ext.define("DCT.BillingItemTypeComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbillingitemtypecombofield",xtype:"dctbillingitemtypecombofield",blankCheck:function(b){var a=this;return(a.checkIfAddItemFieldsBlank())}});DCT.Util.reg("dctbillingitemtypecombofield","billingItemTypeComboField","DCT.BillingItemTypeComboField");Ext.define("DCT.BillingItemMatchComboField",{extend:"DCT.EnablingComboField",inputXType:"dctbillingitemmatchcombofield",xtype:"dctbillingitemmatchcombofield",blankCheck:function(b){var a=this;return(a.checkIfReverseItemFieldsBlank())}});DCT.Util.reg("dctbillingitemmatchcombofield","billingItemMatchComboField","DCT.BillingItemMatchComboField");Ext.define("DCT.PaymentMethodComboField",{extend:"DCT.EnablingComboField",inputXType:"dctpaymentmethodcombofield",xtype:"dctpaymentmethodcombofield",blankCheck:function(a){return(this.dctCheckFunction())}});DCT.Util.reg("dctpaymentmethodcombofield","paymentMethodComboField",DCT.PaymentMethodComboField);DCT.RevReasonCombofield=Ext.extend(DCT.EnablingComboField,{inputXType:"dctrevreasoncombofield",setListeners:function(a){DCT.RevReasonCombofield.superclass.setListeners.call(this,a);Ext.apply(a.listeners,{keypress:{fn:function(c,b){this.onEnter(b)},scope:this}})},blankCheck:function(b){var a=(Ext.getCmp(this.dctCombo))?Ext.getCmp(this.dctCombo).getValue():"";if(Ext.isEmpty(a)){return true}return false}});DCT.Util.reg("dctrevreasoncombofield","RevReasonCombofield",DCT.RevReasonCombofield);Ext.define("DCT.PartyBasicComboField",{extend:"DCT.SystemComboField",inputXType:"dctpartybasiccombofield",xtype:"dctpartybasiccombofield",dctHideShow:function(a){}});DCT.Util.reg("dctpartybasiccombofield","partyBasicComboField","DCT.PartyBasicComboField");Ext.define("DCT.PartyHideShowComboField",{extend:"DCT.BasicComboField",inputXType:"dctpartyhideshowcombofield",xtype:"dctpartyhideshowcombofield",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(e,c,d){b.dctHideShow(e.getValue())},scope:b}})},hideShowNameAddressData:function(b,a){if(a=="NA"||a=="OT"){DCT.Util.hideShowGroup("firstNameData",(b=="P"));DCT.Util.hideShowGroup("middleNameData",(b=="P"));DCT.Util.hideShowGroup("personNameData",(b=="P"));DCT.Util.hideShowGroup("organizationNameData",(b=="O"));DCT.Util.hideShowGroup("agencyNameData",(b=="AG"));DCT.Util.hideShowGroup("dobData",(a=="OT"));DCT.Util.hideShowGroup("addressData",true);DCT.Util.hideShowGroup("cityData",true);DCT.Util.hideShowGroup("stateData",true);DCT.Util.hideShowGroup("zipData",true);if(a=="NA"){DCT.Util.hideShowGroup("soundexData",true)}}else{DCT.Util.hideShowGroup("firstNameData",false);DCT.Util.hideShowGroup("middleNameData",false);DCT.Util.hideShowGroup("personNameData",false);DCT.Util.hideShowGroup("organizationNameData",false);DCT.Util.hideShowGroup("agencyNameData",false);DCT.Util.hideShowGroup("dobData",false);DCT.Util.hideShowGroup("addressData",false);DCT.Util.hideShowGroup("cityData",false);DCT.Util.hideShowGroup("stateData",false);DCT.Util.hideShowGroup("zipData",false);DCT.Util.hideShowGroup("soundexData",false)}}});DCT.Util.reg("dctpartyhideshowcombofield","partyHideShowComboField","DCT.PartyHideShowComboField");Ext.define("DCT.PartyLookUpComboField",{extend:"DCT.PartyHideShowComboField",inputXType:"dctpartylookupcombofield",xtype:"dctpartylookupcombofield",dctHideShow:function(c){var a=this;var b=Ext.getCmp(a.dctSearchByField).getValue();DCT.Util.hideShowGroup(a.dctLookingForALabel,(c=="P"||c==""));DCT.Util.hideShowGroup(a.dctlookingForAnLabel,(c=="O"||c=="AG"));if(b=="NA"||b=="OT"){a.hideShowNameAddressData(c,b)}}});DCT.Util.reg("dctpartylookupcombofield","partyLookUpComboField","DCT.PartyLookUpComboField");Ext.define("DCT.PartySearchByComboField",{extend:"DCT.PartyHideShowComboField",inputXType:"dctpartysearchbycombofield",xtype:"dctpartysearchbycombofield",dctHideShow:function(c){var a=this;var b=Ext.getCmp(a.dctLookUpField).getValue();DCT.Util.hideShowGroup(a.dctDataRequiredField,(c=="LC"||c=="PH"||c=="RF"));DCT.Util.hideShowGroup(a.dctDataRequiredPlusField,(c=="NA"||c=="OT"));DCT.Util.hideShowGroup(a.dctPhoneData,(c=="PH"));DCT.Util.hideShowGroup(a.dctLicenseData,(c=="LC"));DCT.Util.hideShowGroup(a.dctReferenceData,(c=="RF"));DCT.Util.hideShowGroup(a.dctProcessSearchField,(c!=""&&b!=""));a.hideShowNameAddressData(b,c)}});DCT.Util.reg("dctpartysearchbycombofield","partySearchByComboField","DCT.PartySearchByComboField");Ext.define("DCT.PartyRoleFilterComboField",{extend:"DCT.BasicComboField",inputXType:"partyRoleFilterComboField",xtype:"dctpartyrolefiltercombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(e,c,d){b.reloadInvolvements(e.getValue())},scope:b}})},reloadInvolvements:function(c){var b=this;var a=DCT.Util.getDataStore(b.dctGridId);DCT.Grid.applyFilterToDataStore(a)}});DCT.Util.reg("dctpartyrolefiltercombofield","partyRoleFilterComboField","DCT.PartyRoleFilterComboField");Ext.define("DCT.EditorComboField",{extend:"DCT.ComboField",syncFont:true,inputXType:"editorcombofield",xtype:"editorcombofield",setAllowBlank:function(a){},setDataStore:function(a){},setAutoCreate:function(a){if(Ext.isDefined(a.fieldRef)){a.inputAttrTpl='fieldRef="'+a.fieldRef+'-editorcombofield" objectRef="'+a.objectRef+'-editorcombofield"'}},setHiddenInfo:function(a){},setCls:function(a){},setComboWidth:function(a){},setListParent:function(a){},setListeners:function(a){var b=this;if(Ext.isDefined(a.listeners)){Ext.apply(a.listeners,{afterrender:{fn:function(d){var c=this;c.initialHover(d)},scope:b}});Ext.destroyMembers(a.listeners,"focus");delete a.listeners.focus}else{a.listeners={specialkey:function(h,k){var g=this;switch(k.getKey()){case k.RETURN:case k.ENTER:break;case k.TAB:if(h.view.getSelectionCount()==1){var c=h.view.getSelectedRecords()[0];var d=c.get(h.valueField);h.setValue(d);h.fireEvent("select",g,c)}break}},afterrender:{fn:function(d){var c=this;c.initialHover(d);c.setFieldFocus()},scope:b}}}},setTemplate:function(a){}});Ext.define("DCT.ExtendedComboField",{extend:"DCT.ComboField",typeAhead:false,editable:false,selectOnFocus:false,inputXType:"dctextendedcombofield",xtype:"dctextendedcombofield",setDataStore:function(a){a.store=Ext.create("Ext.data.ArrayStore",{fields:["code","display","caption","comparisonCaption","special"],data:a.dctStore})},setTemplate:function(a){var b=Ext.create("Ext.XTemplate",'<tpl for=".">','<div data-qtip="{display:htmlEncode}" role="option" unselectable="on" class="x-boundlist-item '+a.dctComparisonStyle+'">','<tpl if="!special">','<div class="widgetComboCaption">{caption:htmlEncode}</div><div class="widgetComboAffectedVal">{comparisonCaption:htmlEncode}</div>',"</tpl>",'<tpl if="special">','<div class="extSpecial"><div class="widgetComboCaption">{caption:htmlEncode}</div><div class="widgetComboAffectedVal">{comparisonCaption:htmlEncode}</div></div>',"</tpl>","</div>","</tpl>");a.tpl=b}});DCT.Util.reg("dctextendedcombofield","interviewExtendedComboField","DCT.ExtendedComboField");Ext.define("DCT.LanguageComboField",{extend:"DCT.ExtendedComboField",inputXType:"dctlanguagecombofield",inputType:"text",valueNotFoundText:"English",xtype:"dctlanguagecombofield",minWidth:100,maxWidth:100,setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{select:{fn:function(e,c,d){var f=e.getValue();DCT.Util.resetInvalidFields();DCT.Submit.selectLanguage(f)},scope:b}})},setDataStore:function(a){a.store=Ext.create("Ext.data.ArrayStore",{fields:["display","code","file"],data:a.dctStore})},setTemplate:function(a){a.tpl=Ext.create("Ext.XTemplate",'<tpl for=".">','<li role="option" unselectable="on" class="x-boundlist-item languageItem" data-qclass="listcombotip" data-qtip="{display:htmlEncode}">','<div class="languageComboCaption">{display}</div><div class="languageComboImage" style="background-image: url({[DCT.imageDir]}icons/{file});"></div>',"</li>","</tpl>")}});DCT.Util.reg("dctlanguagecombofield","languageComboField","DCT.LanguageComboField");Ext.define("DCT.TextAreaField",{extend:"Ext.form.TextArea",defaultWidth:300,defaultHeight:60,inputXType:"dcttextareafield",dctControl:true,xtype:"dcttextareafield",constructor:function(a){var b=this;b.value=Ext.util.Format.htmlEncode(b.value);b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.setRegEx(a);if(Ext.isDefined(a.maxWarningLength)){a.maxWarningLengthText=DCT.T("FieldMaxLengthError",{max:a.maxWarningLength})}b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={blur:{fn:function(d){var c=this;c.handleMaxLength(d.getValue());c.fieldValidation()},scope:b},change:{fn:b.fieldChanged,scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},keypress:{fn:b.customOnKeyPress,scope:b},afterrender:{fn:b.setFieldFocus,scope:b}}},setAutoCreate:function(c){var e=this;var a=(Ext.isDefined(c.dctWidth))?c.dctWidth:e.defaultWidth;var g=a.toString().indexOf("%");if(g>-1){var b=a.substring(0,g);var f=new Number(b);if(f>100){a="100%"}}var d="";if(Ext.isDefined(c.fieldRef)){d=d+'fieldRef="'+c.fieldRef+'" objectRef="'+c.objectRef+'"'}c.width=a;if(Ext.isDefined(c.rows)){c.height=c.rows*14+18;c.rows=0}else{c.height=e.defaultHeight}c.inputAttrTpl=d},setRegEx:function(a){a.regex=(Ext.isDefined(a.dctRegEx))?a.dctRegEx:null;a.regexText=(Ext.isDefined(a.dctRegExMsg))?a.dctRegExMsg:""},customOnKeyPress:function(){},setDefaultListeners:function(a){},handleMaxLength:function(b){var a=this;if(b.length>a.maxWarningLength){a.setValue(b.substring(0,a.maxWarningLength))}}});DCT.Util.reg("dcttextareafield","interviewTextAreaField","DCT.TextAreaField");Ext.define("DCT.RichTextAreaField",{extend:"Ext.form.HtmlEditor",requires:["Ext.form.field.Base"],defaultWidth:"500",defaultHeight:"200",inputXType:"dctrichtextareafield",dctControl:true,defaultshowToolbar:true,enableColors:false,enableAlignments:false,enableSourceEdit:false,enableLinks:false,xtype:"dctrichtextareafield",blankText:DCT.T("ThisFieldIsRequired"),maxLengthText:DCT.T("RichFieldMaxLengthError"),invalidWarningIconCls:Ext.baseCSSPrefix+"form-invalid-warning-icon",invalidCls:Ext.baseCSSPrefix+"form-invalid",constructor:function(a){var b=this;b.value=Ext.util.Format.htmlEncode(b.value);b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setListeners(a);b.setEditorToolbar(a);b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={sync:{fn:function(d,e){var c=this;if(c.initialized){DCT.FieldsChanged.set();c.validateValue(c.cleanRichTextHtml(e))}}}}},cleanRichTextHtml:function(a){if(a!=null){var b=a;b=b.replace(/&(lt|gt);/g,function(c,d){return(d=="lt")?"<":">"});b=b.replace(/&(nbsp);/g,"");b=b.replace(/<\/?[^>]+(>|$)/g,"");return b}},setAutoCreate:function(c){var e=this;var a=(Ext.isDefined(c.dctWidth))?c.dctWidth:e.defaultWidth;var g=a.indexOf("%");if(g>-1){var b=a.substring(0,g);var f=new Number(b);if(f>100){a="100%"}}var d="";if(Ext.isDefined(c.fieldRef)){d=d+'fieldRef="'+c.fieldRef+'" objectRef="'+c.objectRef+'"'}c.width=a;if(Ext.isDefined(c.rows)){c.height=c.rows*10+50;c.rows=0}else{c.height=e.defaultHeight}c.inputAttrTpl=d},setEditorToolbar:function(a){var b=this;var c=(Ext.isDefined(a.dctShowToolbar))?a.dctShowToolbar:b.defaultshowToolbar;a.dctToolbarCfg={hidden:!c}},getErrors:function(b){var a=this,c=Ext.String.format;b=arguments.length>0?a.cleanRichTextHtml(b):a.cleanRichTextHtml(a.getValue());var d=a.callParent([b]);if(!a.allowBlank&&(b.length<1||b===a.emptyText)){d.push(a.blankText)}if(b.length>a.maxLength){d.push(c(a.maxLengthText,a.maxLength))}return d},createToolbar:function(){var b=this,a=b.getToolbarCfg();if(Ext.isDefined(b.dctToolbarCfg)){Ext.apply(a,b.dctToolbarCfg)}b.toolbar=Ext.widget(a);return b.toolbar},getDoc:function(){var b=Ext.isDefined(this.iframeEl.dom.contentDocument)?this.iframeEl.dom.contentDocument:null;var a=Ext.isDefined(this.getWin())?this.getWin().document:null;return b||a},getWin:function(){var a=Ext.isDefined(this.iframeEl.dom.contentWindow)?this.iframeEl.dom.contentWindow:null;return a||window.frames[this.iframeEl.dom.name]}},function(){var a=this;a.borrow(Ext.form.field.Base,["validateValue","hasActiveWarning","getActiveWarning","setActiveWarning","unsetActiveWarning","setActiveWarnings","markInvalid","clearInvalid","setError","getActiveWarnings","setActiveErrors","unsetActiveError","getWarnings","onDisable","renderActiveError","parentRenderActiveError"])});DCT.Util.reg("dctrichtextareafield","interviewRichTextAreaField","DCT.RichTextAreaField");Ext.define("DCT.SystemTextAreaField",{extend:"DCT.TextAreaField",inputXType:"dctsystemtextarea",xtype:"dctsystemtextarea",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){}});DCT.Util.reg("dctsystemtextarea","systemTextAreaField","DCT.SystemTextAreaField");Ext.define("DCT.MessageBodyTextAreaField",{extend:"DCT.SystemTextAreaField",inputXType:"dctmessagebodytextareafield",xtype:"dctmessagebodytextareafield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},scope:b}})}});DCT.Util.reg("dctmessagebodytextareafield","messagebodyTextAreaField","DCT.MessageBodyTextAreaField");Ext.define("DCT.CheckBoxGroup",{extend:"Ext.form.CheckboxGroup",hideLabel:true,blankText:DCT.T("FieldRequired"),inputXType:"dctcheckboxgroup",dctControl:true,xtype:"dctcheckboxgroup",constructor:function(a){var b=this;b.checkControlExists(a);b.setInitialValue(a);b.setCheckboxItems(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.callParent([a]);b.bindConfiguredEvents(a);if(DCT.ajaxProcess.chkboxChanged){b.validate()}},setInitialValue:function(a){var b=this;a.value=null},setCheckboxItems:function(a){var b=this;a.items=[];Ext.each(a.dctCheckBoxes,function(c){var d=(Ext.isEmpty(c.dctClassName))?"dctcheckboxfield":c.dctClassName;Ext.apply(c,{xtype:d});a.items.push(c)},b)}});DCT.Util.reg("dctcheckboxgroup","interviewCheckBoxGroup","DCT.CheckBoxGroup");Ext.define("DCT.CheckBoxField",{extend:"Ext.form.Checkbox",enableKeyEvents:true,inputXType:"dctcheckboxfield",uncheckedValue:"0",xtype:"dctcheckboxfield",constructor:function(a){var b=this;b.checkControlExists(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={change:{fn:function(f,e,c,d){b.fieldChanged();b.fieldValidation()},scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:b},boxready:{fn:b.setUpChangeEvent,scope:b},specialkey:{fn:function(d,g){var c=this;switch(g.getKey()){case g.TAB:DCT.Util.setKeysUsed(true,g.shiftKey);break}},scope:b}}},setAutoCreate:function(a){var c='name="'+a.name+'" ';var d='name="~'+a.name+'" ';if(Ext.isDefined(a.fieldRef)){c=c+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'" value="'+a.inputValue+'"';d=d+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}a.inputAttrTpl=c;var b=(a.checked?"1":"0");a.afterBodyEl='<input  hidden id="'+a.id+'-hiddenCheckBoxEl" data-ref="hiddenCheckBoxEl" role="checkbox" data-cmpid="'+a.id+'" '+d+' autocomplete="off" hidefocus="true" value="'+b+'" />'},setDefaultListeners:function(a){},setHiddenElement:function(){var b=this;var a=Ext.getDom(b.id+"-hiddenCheckBoxEl");if(!Ext.isEmpty(a)){a.value=(b.getValue()?"1":"0")}},setUpChangeEvent:function(){var a=this;a.on("change",a.setHiddenElement,a)}});Ext.define("DCT.SystemCheckBoxField",{extend:"DCT.CheckBoxField",inputXType:"dctsystemcheckboxfield",xtype:"dctsystemcheckboxfield",setDefaultListeners:function(a){var b=this;a.listeners={boxready:{fn:b.setUpChangeEvent,scope:b}}},setListeners:function(a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});Ext.define("DCT.LoginRememberCheckBox",{extend:"DCT.SystemCheckBoxField",inputXType:"dctloginremembercheckbox",xtype:"dctloginremembercheckbox",setListeners:function(a){var b=this;a.listeners={change:{fn:function(g){var f=this;if(f.checked){var c=Ext.getCmp("username").getValue();var d=Ext.util.Cookies.get("_username");if(!Ext.isEmpty(c)&&Ext.isEmpty(d)){var e=Ext.Date.add(new Date(),Ext.Date.DAY,365);Ext.util.Cookies.set("_username",c,e)}else{if(Ext.isEmpty(d)){f.setValue(false)}}}else{Ext.util.Cookies.set("_username",null,new Date("January 1, 1970"));Ext.util.Cookies.clear("_username")}},scope:b},afterrender:{fn:function(e){var d=this;var c=Ext.getCmp("username");Ext.util.Cookies.set("username",null,new Date("January 1, 1970"));Ext.util.Cookies.clear("username");Ext.util.Cookies.set("password",null,new Date("January 1, 1970"));Ext.util.Cookies.clear("password");if(Ext.util.Cookies.get("_username")){c.setValue(Ext.util.Cookies.get("_username"));d.setValue(true)}else{d.setDisabled(true);c.addListener("change",d.enableCheckbox,d)}}},scope:b}},enableCheckbox:function(d,e,a,b){var c=this;if(Ext.isEmpty(e)){c.setDisabled(true)}else{c.setDisabled(false)}}});Ext.define("DCT.SystemMessageCheckBoxField",{extend:"DCT.SystemCheckBoxField",inputXType:"dctsystemmessagecheckboxfield",xtype:"dctsystemmessagecheckboxfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(e,d){var c=this;c.filterMessageList("admin",Ext.getCmp("messagesList").getStore())},scope:b}})}});Ext.define("DCT.BillingCheckBoxField",{extend:"DCT.SystemCheckBoxField",inputXType:"dctbillingcheckboxfield",xtype:"dctbillingcheckboxfield",showHideFields:function(b,a){},enableDisableAction:function(b,a){},blankCheck:function(b,a){},otherCheckProcess:function(b,a){}});Ext.define("DCT.BillingBasicCheckBoxField",{extend:"DCT.BillingCheckBoxField",inputXType:"dctbillingbasiccheckboxfield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(f,e,c,d){b.showHideFields(f,e);b.enableDisableAction(f,e);b.otherCheckProcess(f,e)},scope:b}})}});Ext.define("DCT.BillingEnableCheckBoxField",{extend:"DCT.BillingBasicCheckBoxField",inputXType:"dctbillingenablecheckboxfield",xtype:"dctbillingenablecheckboxfield",enableDisableAction:function(c,b){var a=this;DCT.Util.enableDisableActionButton(a.blankCheck(c,b),a.dctActionButton)},blankCheck:function(c,b){var a=this;return(a.dctCheckFunction())}});Ext.define("DCT.BillingHoldCheckBoxField",{extend:"DCT.BillingBasicCheckBoxField",inputXType:"dctbillingholdcheckboxfield",xtype:"dctbillingholdcheckboxfield",otherCheckProcess:function(c,b){var a=this;field=Ext.getDom(a.dctHiddenField);field.value=b?1:0}});Ext.define("DCT.AddStatementCheckBoxField",{extend:"DCT.BillingEnableCheckBoxField",inputXType:"dctaddstatementcheckboxfield",xtype:"dctaddstatementcheckboxfield",showHideFields:function(c,b){var a=this;var d=Ext.get(a.dctShowHideField);DCT.Util.hideShowGroup(a.dctShowHideField,d.hasCls("hideOffset"))},otherCheckProcess:function(c,b){var a=this;if(!b){Ext.getDom(a.dctAmtField+"Hidden").value="0.00";Ext.getDom(a.dctAmtField).value=""}},blankCheck:function(c,b){var a=this;return(a.checkIfAddItemFieldsBlank())}});Ext.define("DCT.HoldBillingCheckBoxField",{extend:"DCT.BillingEnableCheckBoxField",inputXType:"dctholdbillingcheckboxfield",xtype:"dctholdbillingcheckboxfield",showHideFields:function(f,e){var d=this;var c=Ext.getCmp("holdEndDate");if(e){c.allowBlank=true;c.setValue("");c.disable();if(d.dctHideShowResumeGroup){d.showHideResumeOptions(false)}}else{var b=Ext.getCmp("holdStartDate").getValue();var a=Ext.Date.parse(b,c.format);c.addDate(b,1);c.enable();c.allowBlank=false;if(d.dctHideShowResumeGroup){d.showHideResumeOptions(true)}}}});Ext.define("DCT.HoldReasonCheckBoxField",{extend:"DCT.BillingEnableCheckBoxField",inputXType:"dctholdreasoncheckboxfield",xtype:"dctholdreasoncheckboxfield",showHideFields:function(d,c){var b,e;var a=Ext.get("tblItemListDetail").dom.rows.length-1;DCT.Util.hideShowGroup("holdReasonSelection",c);for(i=1;i<=a;i++){DCT.Util.hideShowGroup("holdItemReason"+i,!c);if(c){DCT.Util.hideShowGroup("itemCommentActionGroup"+i,false);DCT.Util.hideShowGroup("itemViewCommentGroup"+i,false);Ext.getDom("hiddenComment"+i).value="";Ext.getDom("hiddenCmtTypeCode"+i).value="";Ext.getDom("holdItemReasonField"+i).value=""}}if(!c){DCT.Util.hideShowGroup("commentActionGroup",false);DCT.Util.hideShowGroup("viewCommentGroup",false);Ext.getCmp("holdReasonField").setValue("");Ext.getDom("hiddenGlobalComment").value="";Ext.getDom("hiddenGlobalCmtTypeCode").value=""}},blankCheck:function(c,b){var a=this;return(a.checkIfHoldItemActionFieldBlank())}});Ext.define("DCT.MakePaymentCheckBoxField",{extend:"DCT.BillingBasicCheckBoxField",inputXType:"dctmakepaymentcheckboxfield",xtype:"dctmakepaymentcheckboxfield",showHideFields:function(b,a){DCT.Util.showHideManualAllocationFields(a)}});Ext.define("DCT.AgencyLeaveOpenCheckBoxField",{extend:"DCT.BillingBasicCheckBoxField",inputXType:"dctagencyleaveopencheckboxfield",xtype:"dctagencyleaveopencheckboxfield",otherCheckProcess:function(d,c){var b=this;if(c){var a=Ext.getCmp(b.dctOtherField);if(a.getValue()){a.setValue(!a.getValue())}}}});Ext.define("DCT.AgencyWriteOffCheckBoxField",{extend:"DCT.AgencyLeaveOpenCheckBoxField",inputXType:"dctagencywriteOffcheckboxfield",xtype:"dctagencywriteOffcheckboxfield",showHideFields:function(c,b){var a=this;var d=Ext.get(a.dctShowHideField);DCT.Util.hideShowGroup(a.dctShowHideField,d.hasCls("hideOffset"))}});Ext.define("DCT.SuspenseListCheckBoxField",{extend:"DCT.BillingBasicCheckBoxField",inputXType:"dctsuspenselistcheckboxfield",xtype:"dctsuspenselistcheckboxfield",otherCheckProcess:function(d,c){var b=this;var a=Ext.getCmp(b.dctOtherField);if(Ext.isDefined(a)){if(c){a.setValue(false);a.disable()}else{a.enable()}}}});Ext.define("DCT.CreateHoldCheckBoxField",{extend:"DCT.HoldBillingCheckBoxField",inputXType:"dctcreateholdcheckboxfield",xtype:"dctcreateholdcheckboxfield",blankCheck:function(c,b){var a=this;return(a.checkIfHoldFieldsBlank())}});Ext.define("DCT.EditHoldCheckBoxField",{extend:"DCT.HoldBillingCheckBoxField",inputXType:"dcteditholdcheckboxfield",xtype:"dcteditholdcheckboxfield",blankCheck:function(c,b){var a=this;return(a.checkIfEditHoldFieldsBlank())}});Ext.define("DCT.HoldEventCheckBoxField",{extend:"DCT.BillingEnableCheckBoxField",inputXType:"dctholdeventcheckboxfield",xtype:"dctholdeventcheckboxfield",showHideFields:function(f,e){var d=this;var c=Ext.getCmp("eventEndDate");if(e){c.allowBlank=true;c.setValue("");c.disable()}else{var b=Ext.getCmp("eventStartDate").value;var a=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1);c.setValue(a);c.enable();c.allowBlank=false}}});Ext.define("DCT.CreateHoldEventCheckBoxField",{extend:"DCT.HoldEventCheckBoxField",inputXType:"dctcreateholdeventcheckboxfield",xtype:"dctcreateholdeventcheckboxfield",blankCheck:function(c,b){var a=this;return(a.checkIfHoldEventFieldsBlank())}});Ext.define("DCT.PartyCheckBoxField",{extend:"DCT.SystemCheckBoxField",inputXType:"dctpartycheckboxfield",xtype:"dctpartycheckboxfield"});Ext.define("DCT.EditorCheckBoxField",{extend:"DCT.CheckBoxField",inputXType:"editorcheckboxfield",xtype:"editorcheckboxfield",setAutoCreate:function(a){if(Ext.isDefined(a.fieldRef)){a.inputAttrTpl='fieldRef="'+a.fieldRef+'-editorcheckboxfield" objectRef="'+a.objectRef+'-editorcheckboxfield"'}},setListeners:function(a){var b=this;if(Ext.isDefined(a.listeners)){Ext.apply(a.listeners,{change:{fn:function(d){var c=this;c.fieldChanged();var e=c.gridEditor.record.store.fields.itemAt(c.gridEditor.col).name;c.gridEditor.record.set(e,c.getValue())},scope:b}});Ext.destroyMembers(a.listeners,"focus","afterrender");Ext.Array.forEach(["focus","afterrender"],function(e,d,c){delete a.listeners[e]},b)}else{a.listeners={change:{fn:function(d){var c=this;c.fieldChanged();var e=c.gridEditor.record.store.fields.itemAt(c.gridEditor.col).name;c.gridEditor.record.set(e,c.getValue())},scope:b}}}}});Ext.define("DCT.RadioGroup",{extend:"Ext.form.RadioGroup",hideLabel:true,inputXType:"dctradiogroup",dctControl:true,xtype:"dctradiogroup",constructor:function(a){var b=this;b.checkControlExists(a);b.setRadioItems(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setListeners(a);b.callParent([a]);b.bindConfiguredEvents(a);if(b.getWidth()==0){b.newWidth=0;b.items.each(function(c){b.newWidth+=c.getWidth()},b);b.setWidth(b.newWidth)}},setRadioItems:function(a){var b=this;b.items=[];Ext.each(a.dctRadioButtons,function(c){var d=this;var e=(Ext.isEmpty(c.dctClassName))?"dctradiofield":c.dctClassName;Ext.apply(c,{xtype:e});d.items.push(c)},b)},setListeners:function(a){var b=this;a.listeners={change:{fn:function(k,h,e,f){var g=this;var c=g.getRadioName(h);var d=g.getRadioItemByObject(h,k);if(!Ext.isEmpty(d)){k.dctActionId=d[0].dctActionId;k.dctPartyMappingField=d[0].dctPartyMappingField}g.fieldValidation()},scope:b}}},getRadioItemByObject:function(a,e,c){var d=this;var c=Ext.Object.getKeys(a)[0];var a=a[c];var b="[name="+c+"][inputValue="+a+"]";return(Ext.ComponentQuery.query(b,e))},getRadioName:function(a){var c=this;var b=(Ext.isObject(a))?Ext.Object.getKeys(a)[0]:"";return(b)}});DCT.Util.reg("dctradiogroup","interviewRadioGroup","DCT.RadioGroup");Ext.define("DCT.RadioField",{extend:"Ext.form.Radio",widgetCaptionCls:"widgetCaption",widgetAffectedValueCls:"widgetAffectedVal",defaultExtendedLabel:'<SPAN class="{0}">{1}</SPAN><SPAN class="{2}">{3}</SPAN>',inputXType:"dctradiofield",xtype:"dctradiofield",constructor:function(a){var b=this;b.checkControlExists(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);if(a.dctExtendedWidget){b.buildWidgetLabel(a)}b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={change:{fn:function(g,f,c,d){var e=this;e.fieldChanged()},scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:b},specialkey:{fn:function(d,g){var c=this;switch(g.getKey()){case g.TAB:DCT.Util.setKeysUsed(true,g.shiftKey);break}},scope:b}}},setAutoCreate:function(a){var b='name="'+a.name+'" value="'+a.inputValue+'" ';if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}a.inputAttrTpl=b},buildWidgetLabel:function(a){var b=this;a.boxLabel=Ext.String.format(b.defaultExtendedLabel,b.widgetCaptionCls,a.dctCaption,b.widgetAffectedValueCls,a.dctAffectedValue)},setDefaultListeners:function(a){}});Ext.define("DCT.SystemRadioGroup",{extend:"DCT.RadioGroup",inputXType:"dctsystemradiogroup",xtype:"dctsystemradiogroup",setListeners:function(a){}});DCT.Util.reg("dctsystemradiogroup","systemRadioGroup","DCT.SystemRadioGroup");Ext.define("DCT.SystemRadioField",{extend:"DCT.RadioField",inputXType:"dctsystemradiofield",xtype:"dctsystemradiofield",setDefaultListeners:function(a){var b=this;a.listeners={}},setListeners:function(a){}});Ext.define("DCT.SystemSearchRadioGroup",{extend:"DCT.SystemRadioGroup",inputXType:"dctsystemsearchradiogroup",xtype:"dctsystemsearchradiogroup",setListeners:function(a){var b=this;a.listeners={change:{fn:function(g,f,c,d){var e=this;DCT.Util.updatePASSearchMode(f._typeOfSearch,true);e.showHidePolicyItems(f._typeOfSearch,true)},scope:b}}},showHidePolicyItems:function(b,a){if(a){DCT.Util.hideShowGroup("searchHistoryGroup",(b=="policy"||b=="allPolicies"))}}});DCT.Util.reg("dctsystemsearchradiogroup","systemSearchRadioGroup","DCT.SystemSearchRadioGroup");Ext.define("DCT.SystemMessageRadioField",{extend:"DCT.SystemRadioField",inputXType:"dctsystemmessageradiofield",xtype:"dctsystemmessageradiofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(e,d){var c=this;c.loadUserGrid(e.getSubmitValue(),d);c.showHideUserType(e.getSubmitValue(),d);DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},scope:b}})},showHideUserType:function(b,a){if((a)&&(b=="all")){Ext.get("users").setDisplayed(false);Ext.get("entities").setDisplayed(false);Ext.get("entityGroup").setDisplayed(false);Ext.getCmp("userList").getStore().removeAll();Ext.getCmp("entitiesList").getStore().removeAll();Ext.getCmp("entityGroupList").getStore().removeAll()}},loadUserGrid:function(e,d){var g;if(d){var a=e;Ext.get("users").setDisplayed(a=="users");Ext.get("entities").setDisplayed(a=="entities");Ext.get("entityGroup").setDisplayed(a=="entityGroup");Ext.getDom("_pageType").value=a;switch(a){case"users":var b=Ext.getCmp("userList").getStore();b.loadPage(1);break;case"entities":var c=Ext.getCmp("entitiesList").getStore();c.loadPage(1);break;case"entityGroup":var f=Ext.getCmp("entityGroupList").getStore();f.loadPage(1);break}}}});Ext.define("DCT.SendToRadioField",{extend:"DCT.SystemMessageRadioField",inputXType:"dctsendtoradiofield",xtype:"dctsendtoradiofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(e,d){var c=this;c.showHideUserType(e.getSubmitValue(),d);DCT.Util.enableDisableActionButton(DCT.Util.checkIfMessageFieldsBlank(),"newMessageAnchor")},scope:b}})}});Ext.define("DCT.BillingRadioField",{extend:"DCT.SystemRadioField",inputXType:"dctbillingradiofield",xtype:"dctbillingradiofield",setListeners:function(a){},showHideFields:function(b,a){},enableDisableAction:function(b,a){},blankCheck:function(b,a){},otherCheckProcess:function(b,a){},setDisable:function(a){a.disabled=(!Ext.isDefined(a.disabled))?((Ext.get(a.renderTo).findParent("div[class*=hideOffset]",10))?true:false):a.disabled}});Ext.define("DCT.BillingBasicRadioField",{extend:"DCT.BillingRadioField",inputXType:"dctbillingbasicradiofield",xtype:"dctbillingbasicradiofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(f,e,c,d){b.showHideFields(f,e);b.enableDisableAction(f,e);b.otherCheckProcess(f,e)},scope:b}})}});Ext.define("DCT.BillingPaymentRadioField",{extend:"DCT.BillingBasicRadioField",inputXType:"dctbillingpaymentradiofield",xtype:"dctbillingpaymentradiofield",showHideFields:function(b,a){var d=Ext.isDefined(b.dctRemoveData)?b.dctRemoveData:true;if(a){var c=b.getSubmitValue();DCT.Util.hideShowGroup("accountPolicyNameSearchId",c=="accountPolicyName");DCT.Util.hideShowGroup("unidentifiedFieldsId",c=="unidentified");if(d){if(c=="accountPolicyName"){Ext.getCmp("unidentifedLastname").setValue("");Ext.getCmp("unidentifedFirstname").setValue("");Ext.getCmp("unidentifedMiddlename").setValue("");Ext.getCmp("unidentifedAccount").setValue("");Ext.getCmp("unidentifedPolicy").setValue("");Ext.getCmp("unidentifedOtherInfo").setValue("")}else{Ext.getCmp("searchByNbr").setValue("")}}if(b.dctHidePaymentDetail){DCT.Util.showHidePaymentDetails(!DCT.Util.checkIfReferenceFieldsBlank())}if(!Ext.isEmpty(Ext.get("_hiddenAccountId").getValue())){DCT.Util.removeReferenceFields(b.dctHidePaymentDetail)}}}});Ext.define("DCT.BillingEditPaymentRadioField",{extend:"DCT.BillingPaymentRadioField",inputXType:"dctbillingeditpaymentradiofield",xtype:"dctbillingeditpaymentradiofield",enableDisableAction:function(c,b){var a=this;DCT.Util.enableDisableActionButton(a.blankCheck(c,b),a.dctActionButton)},blankCheck:function(b,a){return(DCT.Util.checkIfPaymentFieldsBlank()||DCT.Util.checkIfReferenceFieldsBlank(b.getSubmitValue()))}});Ext.define("DCT.BillingUnidentifiedPaymentRadioField",{extend:"DCT.BillingEditPaymentRadioField",inputXType:"dctbillingunidentifiedpaymentradiofield",xtype:"dctbillingunidentifiedpaymentradiofield",blankCheck:function(c,b){var a=this;return(a.dctCheckFunction())},otherCheckProcess:function(c,b){var a=Ext.get("paymentAction");var d=Ext.get("placeOnHoldGroup");if(a){a.remove(false)}if(d){d.remove(false)}}});Ext.define("DCT.BillingHoldRadioField",{extend:"DCT.BillingBasicRadioField",inputXType:"dctbillingholdradiofield",xtype:"dctbillingholdradiofield",showHideFields:function(e,d){if(d){var b=e.getSubmitValue();DCT.Util.hideShowGroup("followUpOptionsRadiobuttons",b=="HB");DCT.Util.hideShowGroup("eventEndDateGroup",b=="HD");DCT.Util.hideShowGroup("holdIndefinitelyGroup",b=="HD");DCT.Util.hideShowGroup("createHoldDisbEventReason",b=="HD");DCT.Util.hideShowGroup("createHoldEventReason",b!="HD");var c=Ext.getCmp("holdEventIndefinitely").getValue();if(b=="HD"&&c){Ext.getCmp("eventEndDate").setDisabled(true)}var a=Ext.getCmp("eventTypeCode").getValue();var f=Ext.getCmp("disbEventTypeCode").getValue();if(b!="HD"&&a==""){Ext.getCmp("disbEventTypeCode").setValue("");DCT.Util.enableDisableActionButton(true,"saveAction")}else{if(b=="HD"&&f==""){Ext.getCmp("eventTypeCode").setValue("");DCT.Util.enableDisableActionButton(true,"saveAction")}}}}});Ext.define("DCT.BillingHoldAccountRadioField",{extend:"DCT.BillingBasicRadioField",inputXType:"dctbillingholdaccountradiofield",xtype:"dctbillingholdaccountradiofield",showHideFields:function(c,b){if(b){var d=c.getSubmitValue();DCT.Util.enableDisableActionButton(true,"holdAction");DCT.Util.hideShowGroup("holdIndividualAccountGroup",(d=="I"));DCT.Util.hideShowGroup("holdEventsListId",(d=="A"));DCT.Util.hideShowGroup("holdBillFollowUpTitle",(d=="A"));DCT.Util.hideShowGroup("holdDisbursementEventsListId",(d=="A"));DCT.Util.hideShowGroup("holdDisbursementsTitle",(d=="A"));if(d=="A"){var a=new Date(Date.parse(DCT.Util.getSafeElement("_currentSystemDate").value));Ext.getCmp("holdTypeCode").setValue("");Ext.getCmp("holdDisbReasonCode").setValue("");Ext.getCmp("holdReasonCode").setValue("");Ext.getCmp("holdStartDate").setValue(a);Ext.getCmp("_noOption").setValue(true);Ext.getCmp("holdBillingIndefinitely").setValue(true);DCT.Util.hideShowGroup("followUpOptionsRadiobuttons",false)}if(d=="I"){if(Ext.getCmp("holdEventsList")){this.clearGridSelection("holdEventsList")}if(Ext.getCmp("holdDisbursementEventsList")){this.clearGridSelection("holdDisbursementEventsList")}}Ext.getCmp("holdEndDate").setDisabled(true)}},clearGridSelection:function(b){var c=Ext.getCmp(b);if(c){var a=c.getSelectionModel();var d=c.getSelectionModel().getSelection()[0];if(d){var e=c.store.indexOf(d);a.deselect(e)}}}});Ext.define("DCT.BasicSearchPaymentRadioField",{extend:"DCT.BillingBasicRadioField",inputXType:"dctbasicsearchpaymentradiofield",xtype:"dctbasicsearchpaymentradiofield",enableDisableAction:function(c,b){var a=this;DCT.Util.enableDisableActionButton(a.blankCheck(c,b),a.dctActionButton)},blankCheck:function(c,b){var a=this;return(a.checkIfPaymentSearchFieldsBlank())}});Ext.define("DCT.BillingAmountRadioField",{extend:"DCT.BasicSearchPaymentRadioField",inputXType:"dctbillingamountradiofield",xtype:"dctbillingamountradiofield",showHideFields:function(b,a){if(a){var c=b.getSubmitValue();DCT.Util.hideShowGroup("exactAmt",c=="exact");DCT.Util.hideShowGroup("amtRangeFieldGroup",c=="range");if(c=="range"){Ext.getCmp("startAmount").setValue("");if(Ext.get("_startAmountHidden")){Ext.getDom("_startAmountHidden").value=""}Ext.getCmp("endAmount").setValue("");if(Ext.get("_endAmountHidden")){Ext.getDom("_endAmountHidden").value=""}}else{Ext.getCmp("exactAmount").setValue("");if(Ext.get("_exactAmountHidden")){Ext.getDom("_exactAmountHidden").value=""}}}}});Ext.define("DCT.BillingDateRadioField",{extend:"DCT.BasicSearchPaymentRadioField",inputXType:"dctbillingdateradiofield",xtype:"dctbillingdateradiofield",showHideFields:function(b,a){if(a){var c=b.getSubmitValue();DCT.Util.hideShowGroup("exactDt",c=="exact");DCT.Util.hideShowGroup("dateRangeFieldGroup",c=="range");if(c=="range"){Ext.getCmp("startDate").setValue("");Ext.getCmp("endDate").setValue("")}else{Ext.getCmp("exactDate").setValue("")}}}});Ext.define("DCT.BillingMakePaymentRadioField",{extend:"DCT.BillingBasicRadioField",inputXType:"dctbillingmakepaymentradiofield",xtype:"dctbillingmakepaymentradiofield",enableDisableAction:function(c,b){var a=this;DCT.Util.enableDisableActionButton(a.blankCheck(c,b),a.dctActionButton)},blankCheck:function(c,b){var a=this;return(a.dctCheckFunction())},showHideFields:function(e,d){var c=this;if(d){var b=Ext.getCmp("_otherAmountId");var g=e.getSubmitValue();if(g!="otherAmount"){var a=Ext.getCmp("manuallyAllocatePaymentId");a.setValue(false);DCT.Util.showHideManualAllocationGroup(false);c.setManualAllocationTotals(b,c.dctAmount)}else{var f=b.formatting.formatNumberToUS(b.getValue());DCT.Util.getSafeElement("_hiddenPaymentAmount").value=f;if(parseFloat(f)>0){DCT.Util.showHideManualAllocationGroup(Ext.getCmp(c.dctPaymentTypeField)!="A")}}}}});Ext.define("DCT.BillingAgencyPaymentRadioField",{extend:"DCT.BillingMakePaymentRadioField",inputXType:"dctbillingagencypaymentradiofield",xtype:"dctbillingagencypaymentradiofield",showHideFields:function(c,b){if(b){var d=c.getSubmitValue();if(d=="allPromiseToPay"){DCT.Util.setPromiseToPayListTotals()}}if(c.id=="allPromiseToPayId"){var a=Ext.get("promiseToPayListGroup");if(Ext.isDefined(a)){DCT.Util.hideShowGroup(promiseToPayListGroup,b)}}}});Ext.define("DCT.BillingRedistributionRadioField",{extend:"DCT.BillingRadioField",inputXType:"dctbillingredistributionradiofield",xtype:"dctbillingredistributionradiofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{change:{fn:function(f,e,c,d){b.showHideFields(radioButton,e)},scope:b}})},showHideFields:function(c,b){if(b){var d=c.getSubmitValue();var a=Ext.get("_redistributeAction");a.replaceCls("btnEnabled","btnDisabled");DCT.Util.hideShowGroup(((d=="accountLevel")?"InstallmentInputs":"billingRedistributionListId"),true);DCT.Util.hideShowGroup(((d=="accountLevel")?"billingRedistributionListId":"InstallmentInputs"),false);if(d=="policyLevel"){Ext.getCmp("startDate").setValue("");Ext.getCmp("numberOfInstallments").setValue("")}else{if(d=="accountLevel"){Ext.getCmp("RedistributionList").getSelectionModel().clearSelections()}}}}});Ext.define("DCT.FileButton",{override:"Ext.form.field.FileButton",onFileFocus:function(b){var a=this.ownerCt;if(!this.hasFocus){this.onFocus(b)}if(a&&!a.hasFocus&&!Ext.isIE){a.onFocus(b)}}});Ext.define("DCT.InputFileField",{extend:"Ext.form.field.File",inputXType:"dctinputfilefield",defaultWidth:300,dctControl:true,xtype:"dctinputfilefield",constructor:function(a){var b=this;b.checkControlExists(a);b.setCls(a);b.setDisable(a);b.setAllowBlank(a);b.setAutoCreate(a);b.setDefaultListeners(a);b.setListeners(a);b.callParent([a]);b.bindConfiguredEvents(a)},setListeners:function(a){var b=this;a.listeners={blur:{fn:b.fieldValidation,scope:b},change:{fn:b.fieldChanged,scope:b},focus:{fn:function(f,d,c){b.storeFocusField();b.scrollIntoViewOnFocus(f)},scope:b},afterrender:{fn:b.setFieldFocus,scope:b}}},setAutoCreate:function(a){var c=this;var d=(Ext.isDefined(a.size))?a.size:50;a.width=d*6.5+20;a.width=(a.width<c.defaultWidth)?c.defaultWidth:a.width;a.size=0;var b="";if(Ext.isDefined(a.fieldRef)){b=b+'fieldRef="'+a.fieldRef+'" objectRef="'+a.objectRef+'"'}if(Ext.isDefined(a.maxLength)){a.enforceMaxLength=true}a.inputAttrTpl=b},setDefaultListeners:function(a){}});DCT.Util.reg("dctinputfilefield","interviewFileField","DCT.InputFileField");Ext.define("DCT.InputDropFileField",{extend:"Ext.Container",inputXType:"dctinputdropfilefield",xtype:"dctinputdropfilefield",width:"auto",dctControl:true,labelHtml:"<div class=droparea-instructions><div class=droparea-file-location>"+DCT.T("DragDropFilesHere")+"</div><div class=droparea-click-location>"+DCT.T("OrClickToBrowse")+"</div></div>",autoEl:"div",file:{},initComponent:function(){var a=this;a.callParent([arguments])},onRender:function(b,a){var c=this;c.callParent([arguments]);c.addCls("x-form-file-label");c.wrap=c.el.wrap({cls:"x-form-field-wrap x-form-file-wrap dropArea"});c.wrap.dom.addEventListener("drop",function(d){return c.onDrop(d)},true);c.wrap.dom.addEventListener("dragenter",function(d){return c.onDragEnter(d)},false);c.wrap.dom.addEventListener("dragleave",function(d){return c.onDragLeave(d)},false);c.wrap.dom.addEventListener("dragover",function(d){return c.onDragEnter(d)},false);c.wrap.dom.addEventListener("click",function(d){return c.onClick(d)},false);c.setHtml(c.labelHtml);c.el.dom.removeAttribute("name");c.createFileInput();c.bindListeners();c.resizeEl=c.positionEl=c.wrap},setHtml:function(a){var b=this;b.el.dom.innerHTML=a},onClick:function(c){var b=document;var a=this.fileInput.dom;if(a.click){a.click()}else{if(b.createEvent){c=new Event("click");a.dispatchEvent(c)}else{c=b.createEventObject();a.fireEvent("onclick",c)}}},onDragEnter:function(b){var a=this;a.stopEvent(b);a.wrap.addCls("file-hover")},onDragLeave:function(b){var a=this;a.stopEvent(b);a.wrap.removeCls("file-hover")},onDrop:function(b){var a=this;a.onDragLeave(b);a.file=b.dataTransfer.files[0];a.fileInput.remove();a.createFileInput();a.setHtml(a.file.name.split(/(\\|\/)/g).pop())},stopEvent:function(a){a.stopPropagation();a.preventDefault()},bindListeners:function(){var a=this;a.fileInput.on({scope:this,change:function(){var b=this.fileInput.dom.value;this.file={};var c=b.split(/(\\|\/)/g).pop();c=c===""?this.labelHtml:c;this.setHtml(c);this.fireEvent("fileselected",this,b);document.forms[0].encoding="multipart/form-data"}});if(!Ext.isEmpty(a.button)){a.button.on({scope:this.button,mouseenter:function(){this.addCls(["x-btn-over","x-btn-focus"])},mouseleave:function(){this.removeCls(["x-btn-over","x-btn-focus","x-btn-click"])},mousedown:function(){this.addCls("x-btn-click")},mouseup:function(){this.removeCls(["x-btn-over","x-btn-focus","x-btn-click"])}})}},createFileInput:function(){var a=this;a.fileInput=a.wrap.createChild({id:a.getFileInputId(),name:a.name||a.getId(),cls:"x-form-file",tag:"input",type:"file",size:1})},reset:function(){var a=this;a.fileInput.remove();a.createFileInput();a.bindListeners();a.setHtml(a.labelHtml)},getFileInputId:function(){var a=this;return a.id+"-file"},onResize:function(a,b){var c=this;c.callParent([arguments]);c.wrap.setWidth(a)},onDestroy:function(){var a=this;a.callParent([arguments]);Ext.destroy(a.fileInput,a.button,a.wrap)},onDisable:function(){var a=this;a.callParent([arguments]);a.doDisable(true)},onEnable:function(){var a=this;a.callParent([arguments]);a.doDisable(false)},doDisable:function(a){var b=this;b.fileInput.dom.disabled=a},preFocus:Ext.emptyFn,alignErrorIcon:function(){var a=this;a.errorIcon.alignTo(a.wrap,"tl-tr",[2,0])}});DCT.Util.reg("dctinputdropfilefield","inputDropFileField","DCT.InputDropFileField");Ext.define("DCT.SystemFileField",{extend:"DCT.InputFileField",inputXType:"dctsystemfilefield",xtype:"dctsystemfilefield",setDefaultListeners:function(a){if(!Ext.isDefined(a.listeners)){a.listeners={}}},setListeners:function(a){}});DCT.Util.reg("dctsystemfilefield","systemFileField","DCT.SystemFileField");Ext.define("DCT.SystemDropFileField",{extend:"DCT.InputDropFileField",inputXType:"dctsystemdropfilefield",xtype:"dctsystemdropfilefield",setDefaultListeners:function(a){a.listeners={}},setListeners:function(a){}});DCT.Util.reg("dctsystemdropfilefield","systemDropFileField","DCT.SystemDropFileField");Ext.apply(DCT.Submit,{openAddNewTaskDialog:function(a){var b=this;var c=DCT.ajaxProcess.waitForRequests(b);if(c){return}DCT.Util.getSafeElement("_returnPage").value=a;DCT.Util.getSafeElement("_detailMode").value="add";b.submitPage("taskDetail","")},openAddNewBillingTaskDialog:function(a){var b=this;DCT.Util.getSafeElement("_returnPage").value=a;DCT.Util.getSafeElement("_detailMode").value="add";b.submitPage("billingTaskDetail","")},viewTask:function(a,b,d){var c=this;var e=DCT.ajaxProcess.waitForRequests(c);if(e){return}DCT.Util.getSafeElement("_returnPage").value=b;DCT.Util.getSafeElement("_taskId").value=a;DCT.Util.getSafeElement("_detailMode").value="view";if(d==null){d=""}c.submitPageAction("taskDetail",d)},viewBillingTask:function(a,b,d){var c=this;DCT.Util.getSafeElement("_returnPage").value=b;DCT.Util.getSafeElement("_taskId").value=a;DCT.Util.getSafeElement("_detailMode").value="view";if(d==null){d=""}c.submitPageAction("billingTaskDetail",d)},pickUpTask:function(a,d,b){var c=this;DCT.Util.getSafeElement("_taskId").value=a;DCT.Util.getSafeElement("_taskLockingTS").value=d;c.viewTask(a,b,"assignTask")},reassignTask:function(a,d,b){var c=this;DCT.Util.getSafeElement("_taskId").value=a;DCT.Util.getSafeElement("_taskLockingTS").value=d;DCT.Util.getSafeElement("_detailMode").value="reassignDirect";c.submitPage("taskDetail","")},completeTask:function(a,c,b){Ext.Msg.confirm("Confirm",DCT.Localization.translate("AreYouSureTaskComplete"),function(d,e){if(d=="yes"){DCT.Util.getSafeElement("_taskId").value=a;DCT.Util.getSafeElement("_taskLockingTS").value=c;DCT.Submit.submitPageAction(b,"setTaskComplete")}else{return false}})}});Ext.apply(DCT.Grid,{taskRowRenderer:function(f,g,e,a){var d="";var c=f.get("DueDate");if(c&&(c)!=""){c=Ext.Date.clearTime(c,false);var b=new Date();b=Ext.Date.clearTime(b,false);if(b>c){d="Overdue"}}return d},taskTitleViewRenderer:function(d,a,c,k,h,l,m,g,e){var f=a;var b="DCT.Submit.viewTask";if(e){b=e}return'<a href="javascript:;" id="aTaskTitle" onclick="'+b+"('"+k.id+"', '"+d+"')\">"+Ext.util.Format.htmlEncode(f)+"</a>"},generalTaskActionColumnRenderer:function(t,g,r,b,s,l,c,k,p,f){var m=l.get("taskLockingTS");var e=l.get("taskStatusCode");var h=(e=="OPN");var v=((l.get("viewOnly"))=="1");var q=((l.get("canPickup"))=="1");var a=((l.get("canReassign"))=="1");var o=l.get("entityId");var d=l.get("entityName");var u='<ul class="gridAction"><li>';if(h&&DCT.IsReadOnly==false){if(l.get("assignedUserId")&&l.get("assignedUserId").length>0){if(!g){if(l.get("assignedUserId")==r||l.get("createdBy")==r){u+='<a href="javascript:;" onclick="DCT.Submit.completeTask(\''+l.id+"','"+m+"', '"+t+'\');"><img src="'+DCT.imageDir+'icons/clipboard_tick.png" alt="Mark Complete" title="'+DCT.T("MarkComplete")+'"/></a>'}}}else{if(!v&&q){u+='<a href="javascript:;" onclick="DCT.Submit.pickUpTask(\''+l.id+"','"+m+"', '"+t+'\');"><img src="'+DCT.imageDir+'icons/clipboard_link.png" alt="Pick Up" title="Pick Up"/></a>'}}if(g&&a){u+='<a href="javascript:;" onclick="DCT.Submit.reassignTask(\''+l.id+"','"+m+"', '"+t+'\');"><img src="'+DCT.imageDir+'icons/clipboard_pencil.png" alt="'+DCT.T("Reassign")+'" title="'+DCT.T("Reassign")+'"/></a>'}}u+="</li></ul>";return u}});Ext.define("DCT.TasksPagingGridPanel",{extend:"DCT.PagingGridPanel",inputXType:"dcttaskspaginggridpanel",xtype:"dcttaskspaginggridpanel",setListeners:function(a){var b=this;a.listeners={destroy:{fn:function(){var c=this;DCT.hubEvents.removeListener("taskpickedup",a.dctClassMethod);DCT.hubEvents.removeListener("taskcompleted",a.dctClassMethod);DCT.hubEvents.removeListener("taskadded",a.dctClassMethod);DCT.hubEvents.removeListener("ajaxcomplete",a.dctClassMethod)},scope:b}}},setHubListeners:function(a){var b=this;DCT.hubEvents.addListener("taskpickedup",a.dctClassMethod);DCT.hubEvents.addListener("taskcompleted",a.dctClassMethod);DCT.hubEvents.addListener("taskadded",a.dctClassMethod);DCT.hubEvents.addListener("ajaxcomplete",a.dctClassMethod)}});DCT.Util.reg("dcttaskspaginggridpanel","tasksPagingGridPanel","DCT.TasksPagingGridPanel");Ext.onReady(function(){DCT.hubEvents.addListener("taskpickedup",DCT.Util.refreshTaskDetails);DCT.hubEvents.addListener("taskcompleted",DCT.Util.refreshTaskDetails);DCT.hubEvents.addListener("taskadded",DCT.Util.refreshTaskDetails)});Ext.apply(DCT.Util,{refreshTaskDetails:function(a){var b=DCT.Util.getSafeElement("_taskId").value;if(b===a){DCT.Submit.viewTask(a,"taskManagement")}},refreshPolicyTaskQueue:function(){DCT.Util.reloadTaskQueue(Ext.getCmp("policyQueueEntityId").getValue(),null,"","policy","TaskQueue",false,"skipCheck")},refreshAdminTaskQueue:function(){DCT.Util.reloadTaskQueue(Ext.getCmp("adminQueueEntityId").getValue(),Ext.getCmp("adminAssignedUserId").getValue(),Ext.getCmp("adminFilter").getValue(),"admin","QueueAdmin",false,"skipCheck")},refreshAssignedTaskQueue:function(){DCT.Util.reloadTaskQueue("",null,Ext.getCmp("assignedFilterId").getValue(),"assigned","QueueAssigned",false,"skipCheck")},refreshUnassignedTaskQueue:function(){DCT.Util.reloadTaskQueue(Ext.getCmp("unassignedQueueEntityId").getValue(),null,Ext.getCmp("unassignedFilterId").getValue(),"unassigned","QueueUnassigned",false,"skipCheck")},reloadTaskQueue:function(d,k,a,g,b,e,h){var f=this;if(h!=""&&h!="skipCheck"){liNode=Ext.get(h);if(liNode.hasCls("btnDisabled")){return}}if(e){k="";f.clearFilters(g)}if(Ext.isEmpty(d)){d=""}if(g=="admin"||g=="policy"){Ext.getCmp(g+"QueueEntityId").setValue(d)}else{DCT.Util.getSafeElement("_entityId").value=d}if(k==null){k=""}if(g=="admin"){Ext.getCmp(g+"AssignedUserId").setValue(k)}else{DCT.Util.getSafeElement("_assignedUserId").value=k}if(Ext.isEmpty(a)){a=""}if(g=="admin"){creationFilter=Ext.getCmp(g+"CreatedOnFilter").getValue()}else{creationFilter=""}DCT.Util.getSafeElement(g+"CreationFilter").value=creationFilter;DCT.Util.getSafeElement("_show"+g+"Filter").value=a;DCT.Util.getSafeElement("_showFilter").value=a;f.updateAdditionalFilters(g,b);var c=f.getDataStore(b);DCT.Grid.applyFilterToDataStore(c)},clearFilters:function(b){var a=(b=="unassigned"||b=="admin")?"GEN":"";if(b=="admin"||b=="policy"){Ext.getCmp(b+"QueueEntityId").setValue("")}if(b=="admin"){Ext.getCmp(b+"AssignedUserId").setValue("");Ext.getCmp(b+"Filter").setValue("")}if(b!="policy"){Ext.getCmp(b+"CategoryFilterId").setValue(a);Ext.getCmp(b+"StatusFilterId").setValue("OPN");Ext.getCmp(b+"SearchFilterId").setValue("policy");Ext.getCmp(b+"SearchFilterForId").setValue("")}var c=Ext.get(b+"ClearButton");c.addCls("btnDisabled");c.dom.children[0].disabled=true},updateAdditionalFilters:function(l,h){var k=this;var e="";var b="";var f="";var c="";var m="";var a="";var d="";var g="";if(l!="policy"){e=Ext.getCmp(l+"CategoryFilterId").getValue();b=Ext.getCmp(l+"StatusFilterId").getValue();f=Ext.getCmp(l+"SearchFilterId").getValue();c=Ext.String.trim(Ext.getCmp(l+"SearchFilterForId").getValue())}if(e!=""){m=k.appendDelimValue(m,"TaskTypeCode");a=k.appendDelimValue(a,"eq");d=k.appendDelimValue(d,e);g=k.appendDelimValue(d,"and")}if(b!=""){var o=new Array();o=b.split(",");for(i=0;i<o.length;i++){m=k.appendDelimValue(m,"TaskStatusCode");a=k.appendDelimValue(a,"eq");d=k.appendDelimValue(d,o[i]);g=k.appendDelimValue(d,"and")}}if(f!=""&&c!=""){if(f=="policy"){m=k.appendDelimValue(m,"ObjectReference");a=k.appendDelimValue(a,"cn");d=k.appendDelimValue(d,c);g=k.appendDelimValue(d,"and")}else{if(f=="titledesc"){m=k.appendDelimValue(m,"TaskText");a=k.appendDelimValue(a,"cn");d=k.appendDelimValue(d,c);g=k.appendDelimValue(d,"and")}}}DCT.Util.getSafeElement("_keyname"+h).value=m;DCT.Util.getSafeElement("_keyop"+h).value=a;DCT.Util.getSafeElement("_keyvalue"+h).value=d;DCT.Util.getSafeElement("_keyconnector"+h).value=g},getDataStore:function(a){var b=null;var c=Ext.getCmp(a);if(!Ext.isEmpty(c)){b=c.store}return b},updateForSearch:function(a){var b=Ext.get(a+"ClearButton");b.removeCls("btnDisabled");b.dom.children[0].disabled=false},appendDelimValue:function(b,a){if(b.length>0){b+=","}b+=a;return b}});Ext.apply(DCT.Util,{collectionId:"activeTabs",getTabsMixedCollection:function(a){var b;if(!Ext.StoreMgr.containsKey(a)){b=Ext.create("Ext.util.MixedCollection");Ext.StoreMgr.add(a,b)}else{b=Ext.StoreMgr.get(a)}return b},setActiveTab:function(e,d,a){var c=this;var b=c.getTabsMixedCollection(c.collectionId);if(b.containsKey(e)){b.replace(e,{activeIndex:d,tabCount:a})}else{b.add(e,{activeIndex:d,tabCount:a})}},getActiveTab:function(e){var d=this;var c=d.getTabsMixedCollection(d.collectionId);var a=c.get(e);var b=0;if(!Ext.isEmpty(a)&&!Ext.isEmpty(a.activeIndex)){b=a.activeIndex}return b},getTabCount:function(c,a){var g=c.renderTo;var f=this;var d=f.getTabsMixedCollection(f.collectionId);if(!d.containsKey(g)){d.add(g,{activeIndex:a,tabCount:c.itemCount-1})}var b=d.get(g);var e=0;if(!Ext.isEmpty(b)&&!Ext.isEmpty(b.tabCount)){e=b.tabCount}return e},destroyTabHistory:function(){var b=this;var a=b.getTabsMixedCollection(b.collectionId);if(a.keys.length===0){Ext.StoreMgr.removeAtKey(b.collectionId)}else{a.eachKey(function(c,d){if(Ext.isEmpty(Ext.get(c))){a.removeAtKey(c)}},b)}}});Ext.define("DCT.TabPanel",{extend:"Ext.TabPanel",resizeTabs:true,minTabWidth:115,tabWidth:135,enableTabScroll:true,plain:true,border:false,inputXType:"dcttabpanel",listening:false,hideMode:"offsets",xtype:"dcttabpanel",constructor:function(a){var b=this;b.checkControlExists(a);b.setListeners(a);a.itemCount=a.items.length;b.setActiveItem(a);b.callParent([a]);b.listening=true},setListeners:function(a){var b=this;a.listeners={beforetabchange:{fn:b.handleBeforeTabChange,scope:b},afterrender:{fn:b.setTabClass,scope:b},tabchange:{fn:b.setTabClass,scope:b}}},handleBeforeTabChange:function(e,g,f){var d=this;if(!d.listening){return true}var a=Ext.DomQuery.jsSelect("INPUT",f.contentEl.dom);for(var c=0;c<a.length;c++){var b=Ext.getCmp(a[c].getAttribute("data-componentid"));if(Ext.isDefined(b)){if(!b.validate()){Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:DCT.T("InvalidDataOnPage")}).show();return false}}}return true},handleActivate:function(a){var b=this;if(!b.listening){return}DCT.Util.setActiveTab(a.tabsGroupId,a.getTabIndex(),b.itemCount)},setActiveItem:function(c){var d=this;var a=DCT.Util.getActiveTab(c.renderTo);var b=DCT.Util.getTabCount(c,a);if(a>c.itemCount-1||(b!=0&&b<c.itemCount)){a=((c.itemCount-1)<0)?0:c.itemCount-1}DCT.Util.setActiveTab(c.renderTo,a,c.itemCount);c.activeTab=a},setTabClass:function(a){var b=this;a.items.each(function(f,c,e){var d=this;d.setInvalidTabIcon(f)},b)},setInvalidTabIcon:function(b){var a=this;if(!a.validateTabFields(b)){b.setIconCls("x-tab-invalid")}else{b.setIconCls("")}},assignFieldListener:function(c){var b=this;var a=(c.fields)?c.fields:Ext.DomQuery.jsSelect("INPUT",c.contentEl.dom);Ext.each(a,function(g,e,f){var d=Ext.getCmp(g.getAttribute("data-componentid"));if(Ext.isDefined(d)){d.addListener("blur",b.tabFieldListener,b)}},b)},validateTabFields:function(d){var c=this;var a=(d.fields)?d.fields:Ext.DomQuery.select("INPUT",Ext.get(d.contentEl).dom);var b=true;Ext.each(a,function(h,f,g){var e=Ext.getCmp(h.getAttribute("data-componentid"));if(Ext.isDefined(e)){if(!e.validate()){b=false;return false}}},c);return b},tabFieldListener:function(b){var a=this;if(!b.isValid()){a.getActiveTab().setIconCls("x-tab-invalid")}else{a.setInvalidTabIcon(a.getActiveTab())}},beforeReplace:function(){var c=this;var d=Ext.get("hiddenTabs");for(var a=0;a<c.items.length;a++){var e=c.items.items[a];var b=e.contentEl.el;if(b){d.appendChild(b)}e.contentEl=null}}});DCT.Util.reg("dcttabpanel","tabs","DCT.TabPanel");Ext.apply(DCT.LoadingMessage,{polling:false,waitTime:4000,pollingInterval:2000,loadingMsgText:"",timeoutHandle:null,show:function(){var b=Ext.get("loadingWindow");if(b==null||b.isVisible(false)){return}b.setDisplayed(true);var d=DCT.Util.getSafeElement("loadingMessage");var a=Ext.getBody();var e=a.getViewSize();DCT.Util.centerElement(d,a,e);Ext.get(d).setStyle({display:"block",position:"fixed"});var c=Ext.get("loadingMask");c.setDisplayed(true);c.animate({from:{opacity:0},to:{opacity:0.25},duration:0.2});a.dom.style.cursor="wait"},delayedShow:function(a){var b=this;if(b.timeoutHandle==null){if(Ext.isEmpty(a)){a=DCT.LoadingMessage.getWaitTime()}b.timeoutHandle=Ext.defer(DCT.LoadingMessage.show,a)}return b.timeoutHandle},cancel:function(){var a=this;if(a.timeoutHandle!=null){clearTimeout(a.timeoutHandle);a.timeoutHandle=null}},hideAndCancel:function(){DCT.LoadingMessage.cancel();DCT.LoadingMessage.hide()},hide:function(){if(document.body){document.body.style.cursor="auto"}var b=Ext.get("loadingWindow");if(b==null||!b.isVisible(false)){return}var a=function(){Ext.fly("loadingMessage").setDisplayed(false);Ext.fly("loadingMask").setDisplayed(false);Ext.fly("loadingWindow").setDisplayed(false)};Ext.get("loadingMask").animate({to:{opacity:0},duration:0.2,callback:a})},hold:function(){var a=this;a.loadingMsgText=Ext.getDom("loadingText").innerHTML},reset:function(){var a=this;if(!Ext.isEmpty(a.loadingMsgText)){Ext.getDom("loadingText").innerHTML=a.loadingMsgText}a.loadingMsgText=""},set:function(a){Ext.getDom("loadingText").innerHTML=a},get:function(){return(Ext.getDom("loadingText").innerHTML)},getWaitTime:function(){var a=this;return a.waitTime},getPollingInterval:function(){var a=this;return a.pollingInterval},drawDots:function(){var a=this;DCT.LoadingMessage.polling=true;DCT.LoadingMessage.show();Ext.Ajax.request({url:DCT.checkStatusUrl,success:a.formsSuccess,failure:a.formsFailure,scope:a})},formsSuccess:function(b,m){var k=this;var f=DCT.Util.loadXMLString(b.responseText);var c=Ext.DomQuery.selectValue("/semaphoreStatus",f);var g=Ext.DomQuery.selectValue("/semaphoreStatus/@page",f);var e=Ext.DomQuery.selectValue("/semaphoreStatus/@previewMode",f);if(!Ext.isDefined(c)){var h=/<meta.*?http-equiv="Content-Type".*?content="(.*?)".*?>|<meta.*?content="(.*?)".*?http-equiv="Content-Type".*?>/i;var d=h.exec(b.responseText);if(d!=null&&d.length>0&&d.length>=3){if(d[1].match("text/html")||d[2].match("text/html")){c="HTMLResponse"}}}switch(c){case"success":if(g=="preview"&&e=="0"){window.open(DCT.Util.getPostUrl(),"Preview")}else{DCT.Submit.submitForm();DCT.Util.toggleButtons(false)}k.polling=false;k.hide();break;case"failure":window.open(DCT.Util.getPostUrl(),"EndSession");k.polling=false;k.hide();break;case"invalid":DCT.Submit.submitForm();k.polling=false;k.hide();break;case"working":var l=k.getPollingInterval();Ext.defer(k.drawDots,l,k);break;case"HTMLResponse":if(b.responseText!=""){var a=window.open("",c,"dependent=yes,hotkeys=no,location=no,width=800,height=600,status=no,resizable=yes,toolbar=no,scrollbars=no");a.document.write(b.responseText)}k.polling=false;k.hide();break;default:k.drawDots();break}},formsFailure:function(a,c){var b=this;document.location.replace(DCT.Util.getPostUrl());b.polling=false;b.hide()},resumeSession:function(){var a=this;if(!a.polling){window.onfocus=null;DCT.Submit.submitPage("interview");a.hide()}}});Ext.apply(DCT.Util,{loadXMLString:function(a){if(window.DOMParser){xmlDoc=new DOMParser().parseFromString(a,"text/xml")}else{xmlDoc=new ActiveXObject("Msxml2.DOMDocument.6.0");xmlDoc.setProperty("ProhibitDTD",true);xmlDoc.setProperty("ProhibitDTD",true);xmlDoc.async="false";xmlDoc.loadXML(a)}return xmlDoc},getSingleNode:function(e,d){if(Ext.isIE){return e.selectSingleNode(d)}else{var c=new XPathEvaluator();var a=c.createNSResolver(e.ownerDocument==null?e.documentElement:e.ownerDocument.documentElement);var b=c.evaluate(d,e,a,XPathResult.FIRST_ORDERED_NODE_TYPE,null);return b.singleNodeValue}},getNodes:function(g,f){if(Ext.isIE){return g.selectNodes(f)}else{var e=new XPathEvaluator();var a=e.createNSResolver(g.ownerDocument==null?g.documentElement:g.ownerDocument.documentElement);var d=e.evaluate(f,g,a,XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,null);var c=[];for(var b=0;b<d.snapshotLength;b++){c[b]=d.snapshotItem(b)}return c}},getNodeText:function(a){if(Ext.isIE){return a.text}else{return a.textContent}}});Ext.apply(Ext,{clone:function(l){var c=Object.prototype,a=c.toString;if(l===null||l===undefined){return l}if(l.nodeType&&"cloneNode" in l){return l.cloneNode(true)}var g=a.call(l),e,d,b,f,h;if(g==="[object Date]"){return new Date(l.getTime())}if(g==="[object Array]"){e=l.length;f=[];while(e--){f[e]=Ext.clone(l[e])}}else{if(g==="[object Object]"&&l.constructor===Object){f={};for(h in l){f[h]=Ext.clone(l[h])}if(Ext.enumerables){for(d=Ext.enumerables.length;d--;){b=Ext.enumerables[d];if(l.hasOwnProperty(b)){f[b]=l[b]}}}}}return f||l}});Ext.apply(DCT.Util,{displayCommentPopUp:function(e,c){var d=this;var b=Ext.getCmp("cmtsDisplayPopup");if(b){return}d.removeTabs(true);var f=Ext.create("DCT.DisplayComment",{dctExtRecordId:e,dctCommentTypeCode:c,dctDataStore:Ext.getCmp("comments").getStore()});var a=Ext.create("DCT.BaseWindow",{title:DCT.T("Note"),width:500,height:450,id:"cmtsDisplayPopup",items:f,dctFocusFieldId:"_cmtCancelButton"});a.show()},refreshNotes:function(){var b=Ext.getCmp("policyComments");var a=Ext.getCmp("comments");if(Ext.isDefined(b)){DCT.Grid.applyFilterToDataStore(b.getStore(),true)}else{if(Ext.isDefined(a)){DCT.Grid.applyFilterToDataStore(a.getStore(),true)}}}});Ext.define("DCT.DisplayComment",{extend:"Ext.form.FormPanel",inputXType:"dctdisplaycomment",defaultType:"displayfield",bodyBorder:false,formId:"commentsViewForm",xtype:"dctdisplaycomment",constructor:function(a){var b=this;b.checkControlExists(a);b.setPanelItems(a);b.setPanelButtons(a);b.callParent([a])},setPanelItems:function(c){var m="";var d="";var e="";var h="";if(c.dctExtRecordId){var l=c.dctDataStore.getById(c.dctExtRecordId);if(l){m=l.data.description;var a=l.data.originator;var g=l.data.creationDateTime;var p=Ext.getDom("_hiddenDisplayDtMask").value;var o=Ext.Date.format(g,p+", g:i a");e=DCT.T("Created_by")+" "+a+" "+DCT.T("On_lowercase")+" "+o;var f=l.get("policyStatus");var k=l.get("type");var b=l.get("transactionStatus");h=DCT.T("TransactionStatus")+": "+f+"-"+k+"-"+b;d=DCT.T("CommentIsPublic");if(c.dctCommentTypeCode){if(c.dctCommentTypeCode=="CI"){d=DCT.T("CommentIsInternal")}}}}c.items=[{anchor:"100% -85",hideLabel:true,htmlEncode:true,value:m,name:"_commentView",id:"_commentView",autoScroll:true},{hideLabel:true,value:d,name:"_viewInternalOnly",id:"_viewInternalOnly",anchor:"100%",autoHeight:true},{hideLabel:true,value:e,name:"_creationInfo",id:"_creationInfo",anchor:"100%",autoHeight:true},{hideLabel:true,value:h,name:"_objectStatus",id:"_objectStatus",anchor:"100%",autoHeight:true}]},setPanelButtons:function(a){var b=this;a.buttons=[{text:DCT.T("Cancel"),id:"_cmtCancelButton",handler:function(){b.ownerCt.closeWindow()},scope:this}]}});Ext.define("DCT.AddComment",{extend:"Ext.form.FormPanel",inputXType:"dctaddcomment",defaultType:"textfield",labelWidth:55,bodyBorder:false,formId:"commentsForm",saveButton:"_saveAddButton",cancelButton:"_cancelAddButton",xtype:"dctaddcomment",constructor:function(a){var b=this;b.checkControlExists(a);b.setPanelItems(a);b.setPanelButtons(a);b.callParent([a])},setPanelItems:function(a){},setPanelButtons:function(a){var b=this;a.buttons=[{text:DCT.T("Cancel"),id:b.cancelButton,handler:function(){b.ownerCt.closeWindow()},scope:this},{text:DCT.T("Save"),id:b.saveButton,disabled:true,handler:function(){b.saveAdd()},scope:this}]},setAddButtonState:function(b){var a=this;if(Ext.isEmpty(b)){a.disableAddSave()}else{a.enableAddSave()}},enableAddSave:function(){var a=this;Ext.getCmp(a.saveButton).enable()},disableAddSave:function(){var a=this;Ext.getCmp(a.saveButton).disable()},saveAdd:function(){}});Ext.apply(DCT.Grid,{commentDeleteColumnRenderer:function(e,a,c,h,g,k,l,f){var m="";var b=h.get("deleteAccess");var d=h.get("objectTypeCode");if(b=="1"&&DCT.IsReadOnly==false){m='<a href="javascript:;" id="commentsDelete" onclick="DCT.Grid.deleteComment(\''+h.id+"','"+h.get("commentLockingTS")+"','"+e+'\', DCT.Grid.completeDeleteComment);"><img alt="Delete" title="'+DCT.T("Delete")+'" src="'+DCT.imageDir+'/icons/decline.png"/></a>'}return m},commentViewColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" id="viewPASComment" onclick="DCT.Util.displayCommentPopUp(\''+f.id+"','"+f.get("commentTypeCode")+'\');"><img alt="View" title="'+DCT.T("View")+'" src="'+DCT.imageDir+'/icons/magnifier.png"/></a>';return a},commentObjectColumnRenderer:function(g,c,f,h,d,b,e){var a=f.get("objectId");if(Ext.isEmpty(a)){rowActionsHTML="(none)"}else{rowActionsHTML="<a href=\"javascript:;\" onclick=\"DCT.Submit.gotoPageForQuote('policy','"+a+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>"}return rowActionsHTML},objectStatusColumnRenderer:function(a,e,o,m,p,q,h){var c="";var b=o.get("commentCode");var f=o.get("policyStatus");var k=o.get("type");var d=o.get("transactionStatus");var l="";var g="";if(b=="PASC"){g=DCT.T("PolicyStatus")+": "+f+", "+DCT.T("Type")+": "+k+", "+DCT.T("Status")+": "+d;l=f+"-"+k+"-"+d;c=Ext.String.format('<span data-qtip="{0}">{1}</span>',g,l)}else{c=DCT.T("None_parentheses")}return c},deleteComment:function(a,d,b,c){DCT.Submit.actionVerify(DCT.T("AreYouSureDeleteComment"),function(e){c(e,a,d,b)},false)},completeDeleteComment:function(c,b,e,d){if(c!="no"){var a;DCT.Util.getSafeElement("_gridAction").value="deletePolicyComment";DCT.Util.getSafeElement("_returnPage").value=d;DCT.Util.getSafeElement("_submitAction").value="deletePolicyComment";DCT.Util.getSafeElement("_commentId").value=b;DCT.Util.getSafeElement("_commentLockingTS").value=e;DCT.Grid.applyFilterToDataStore(Ext.getCmp("comments").getStore(),true,DCT.Grid.resetCommentsVariables)}},resetCommentsVariables:function(){DCT.Util.getSafeElement("_commentId").value=0}});Ext.define("DCT.NotesPagingGridPanel",{extend:"DCT.PagingGridPanel",inputXType:"dctnotespaginggridpanel",xtype:"dctnotespaginggridpanel",setListeners:function(a){var b=this;a.listeners={destroy:{fn:function(){var c=this;DCT.hubEvents.removeListener("refreshnotes",DCT.Util.refreshNotes)},scope:b}}},setHubListeners:function(a){DCT.hubEvents.addListener("refreshnotes",DCT.Util.refreshNotes);a.store.on("load",function(){DCT.hubEvents.fireEvent("refreshnotestoolbar")})}});DCT.Util.reg("dctnotespaginggridpanel","notesPagingGridPanel","DCT.NotesPagingGridPanel");Ext.apply(DCT.Submit,{processAttachment:function(a,c,e){var d=this;DCT.Util.getSafeElement("_attachmentID").value=a;if(Ext.isEmpty(c)){c="policy"}var b=DCT.Util.getSafeElement("_submitAction").value;DCT.Util.getSafeElement("_submitAction").value=e;document.forms[0].submit();DCT.Util.getSafeElement("_submitAction").value=b},ajaxDeleteAttachment:function(a){DCT.Submit.actionVerify(DCT.T("AreYouSureDeleteAttachment"),function(b){DCT.Submit.completeDeleteAttachment(b,a)},false)},completeDeleteAttachment:function(b,a){if(b!="no"){Ext.Ajax.request({url:DCT.Util.getPostUrl(),method:"POST",params:{_attachmentID:a,_QuoteID:DCT.Util.getSafeElement("_QuoteID").value,_ClientID:DCT.Util.getSafeElement("_ClientID").value,_submitAction:"deleteAttachment",_targetPage:"noContent"},success:DCT.hubEvents.fireEvent("attachmentdeleted")})}},ajaxUpdateAttachmentCaption:function(a,d,b,e,c){Ext.Ajax.request({url:DCT.Util.getPostUrl(),method:"POST",params:{_attachmentID:a,_moniker:d,_caption:b,_submitAction:"updateAttachmentCaption"},callback:e,scope:c})},addAttachment:function(a){var b=this;if(Ext.isEmpty(Ext.getCmp("caption").getValue())||Ext.isEmpty(Ext.getCmp("uploadFile").getValue())){Ext.Msg.alert(DCT.T("Alert"),DCT.T("EnterFilenameCaptionUpload"),function(){Ext.getCmp("caption").focus()})}else{b.submitPageAction(a,"upload")}}});Ext.apply(DCT.Util,{displayPASViewCommentPopUp:function(e,c){var d=this;var b=Ext.getCmp("cmtsDisplayPopup");if(b){return}d.removeTabs(true);var f=Ext.create("DCT.DisplayComment",{dctExtRecordId:e,dctCommentTypeCode:c,dctDataStore:Ext.getCmp("policyComments").getStore()});var a=Ext.create("DCT.BaseWindow",{title:DCT.T("Note"),width:500,height:450,id:"cmtsDisplayPopup",items:f,dctFocusFieldId:"_cmtCancelButton"});a.show()},displayPASAddCommentsPopUp:function(h,a,d,e,k,g){var c=Ext.getCmp("commentsAddPopup");if(c){return}var b=Ext.create("DCT.PolicyAddComment",{dctTargetPage:h,dctDataStore:a,dctItemId:d,dctItemTypeCode:e,dctViewAnchorField:k,dctInternalOnlyCheckbox:g});var f=Ext.create("DCT.BaseWindow",{title:DCT.T("Note"),width:500,height:350,id:"commentsAddPopup",items:b,dctFocusFieldId:"_commentEntry"});f.show()}});Ext.define("DCT.PolicyAddComment",{extend:"DCT.AddComment",inputXType:"dctpolicyaddcomment",xtype:"dctpolicyaddcomment",setPanelItems:function(a){var b=this;a.items=[{hideLabel:true,xtype:"textarea",name:"_commentEntry",id:"_commentEntry",maxLength:1000,anchor:"100% -45",stripCharsRe:/(^\s+)/g,listeners:{afterrender:{fn:function(d){var c=this;c.el.on("contextmenu",Ext.emptyFn,null,{preventDefault:true})},scope:b},keyup:{fn:function(d){var c=this;c.setAddButtonState(d.getValue())},scope:b}}},{style:"margin-top:5px;",hideLabel:true,boxLabel:DCT.T("InternalOnly"),xtype:"checkbox",name:"_internalOnly",id:"_internalOnly",anchor:"100%",hidden:(Ext.isDefined(a.dctInternalOnlyCheckbox))?a.dctInternalOnlyCheckbox:true}]},saveAdd:function(){var b=this;DCT.Util.getSafeElement("_commentStatus").value="A";DCT.Util.getSafeElement("_commentCode").value="PASC";var a=Ext.getCmp("_commentEntry");var c=Ext.getCmp("_internalOnly").getValue();if(!Ext.isEmpty(b.dctTargetPage)){DCT.Util.getSafeElement("_targetPage").value=b.dctTargetPage;DCT.Util.getSafeElement("_submitAction").value="addPolicyComment";DCT.Util.getSafeElement("_commentTypeCode").value="CP";DCT.Util.getSafeElement("_commentDescription").value=a.getValue();if(c){DCT.Util.getSafeElement("_commentTypeCode").value="CI"}DCT.Util.getSafeElement("_itemId").value=b.dctItemId;DCT.Util.getSafeElement("_itemTypeCode").value=b.dctItemTypeCode;b.dctDataStore.loadPage(1,{callback:function(e,d,f){DCT.Util.getSafeElement("_submitAction").value=""}});b.ownerCt.closeWindow()}}});Ext.apply(DCT.Grid,{commentTypeColumnRenderer:function(a,c,f,e,g,h,d){var k=DCT.T("CommentIsInternal");var b="";if(a=="CI"){b='<img alt="'+k+'" title="'+k+'" src="'+DCT.imageDir+'icons/page_key.png"/>'}return b},completeDeletePASComment:function(b,a,d,c){if(b!="no"){DCT.Util.getSafeElement("_gridAction").value="deletePolicyComment";DCT.Util.getSafeElement("_returnPage").value=c;DCT.Util.getSafeElement("_submitAction").value="deletePolicyComment";DCT.Util.getSafeElement("_commentId").value=a;DCT.Util.getSafeElement("_commentLockingTS").value=d;DCT.Grid.applyFilterToDataStore(Ext.getCmp("policyComments").getStore(),true,DCT.Grid.resetPASCommentsVariables)}},resetPASCommentsVariables:function(){DCT.Util.getSafeElement("_commentId").value=0;DCT.Util.getSafeElement("_submitAction").value=""},viewPASCommentDescriptionColumnRender:function(f,b,e,g,c,a,d){return Ext.util.Format.htmlEncode(f)}});Ext.apply(DCT.Submit,{batchSubmit:function(a,f,e,b,c){var d=this;DCT.Util.getSafeElement("_pageType").value=a;DCT.Util.getSafeElement("_jobName").value=f;DCT.Util.getSafeElement("_startIndex").value=e;DCT.Util.getSafeElement("_displayCount").value=b;DCT.Util.getSafeElement("_jobItemID").value=c;d.submitPage("batchProcess")},batchSelectTab:function(a){var b=this;b.batchSubmit(a,"",0,10,-1)},batchSelectJob:function(b){var a=this;a.batchSubmit(Ext.getDom("_pageType").value,b,0,10,-1)},batchDeleteJob:function(a){DCT.Util.getSafeElement("_action").value="deleteJobByLogID";Ext.MessageBox.show({title:DCT.T("BatchReports"),msg:DCT.T("BatchReportDelete"),buttons:Ext.MessageBox.YESNO,icon:Ext.MessageBox.QUESTION,fn:function(b){if(b=="yes"){DCT.Submit.batchSubmit(Ext.getDom("_pageType").value,"",0,10,a)}},value:a})}});Ext.apply(DCT.Submit,{submitClientAction:function(d,b,c){var a=this;DCT.Util.getSafeElement("_targetPage").value=d;DCT.Util.getSafeElement("_submitAction").value=c;Ext.getDom("_ClientID").value=b;a.secureAction(d);if(!DCT.Util.validateFields()){return false}a.submitForm()},newClient:function(b){var a=this;DCT.Util.getSafeElement("_targetPage").value=b;DCT.Util.getSafeElement("_ClientID").value="0";a.secureAction(b);a.submitForm()},actOnClient:function(a,c){var b=this;DCT.globalClientID=c;DCT.globalAction=a;var d;if((Ext.getCmp("showDeleted")!=null)&&(Ext.getCmp("showDeleted").getValue())){d=DCT.T("AreYouSureUndelete")}else{d=DCT.T("AreYouSureDelete")}b.actionVerify(d,Ext.Function.createDelayed(b.completeClientProcessing,0,b))},completeClientProcessing:function(b){var c=this;DCT.Util.removeTabs(false);if(b!="no"){var a=DCT.Util.getSafeElement("_gridPage").value;DCT.Util.getSafeElement("_ClientID").value=DCT.globalClientID;if(a!="open"){DCT.Util.getSafeElement("_targetPage").value="";c.submitAction(DCT.globalAction);DCT.Util.getSafeElement("_ClientID").value="0"}else{DCT.Grid.applyFilterToDataStore(Ext.getCmp("clientListData").getStore(),true,DCT.Submit.resetClientVariables)}}},resetClientVariables:function(a){DCT.Util.getSafeElement("_ClientID").value="0"},gotoPageForClient:function(b,c){var a=this;a.removeKeyNames();DCT.Util.getSafeElement("_ClientID").value=c;a.submitPage(b)}});Ext.apply(DCT.Submit,{delFilter:function(b){var a=Ext.getDom("__keyname"+b);a.value="(all)"},resetNoQuery:function(b){var a=this;Ext.getDom("_startIndex").value=0;var c=Ext.getCmp("lastSearchItem");if(Ext.isDefined(c)){c.setValue("(all)")}DCT.Util.getSafeElement("_targetPage").value=b;a.submitAction("query")},addFilterAndQuery:function(){var a=this;Ext.getDom("_startIndex").value=0;DCT.Util.getSafeElement("_targetPage").value="batchProcess";a.submitAction("query")}});Ext.define("DCT.AttachmentEditing",{alias:"plugin.dctattachementediting",extend:"DCT.CellEditing",id:"dctattachementediting",setListeners:function(a){var b=this;a.listeners={edit:{fn:b.processAfterEdit,scope:b}}},processAfterEdit:function(c,a,b){var d=this;DCT.Submit.ajaxUpdateAttachmentCaption(a.record.data.attachmentID,a.record.data.moniker,a.value,c.grid.reloadData,c.grid)}});Ext.define("DCT.AttachmentGridPanel",{extend:"DCT.EditorGridPanel",inputXType:"dctattachmentgridpanel",xtype:"dctattachmentgridpanel",constructor:function(a){var b=this;b.callParent([a])},setListeners:function(a){var b=this;a.listeners={afterrender:{fn:function(){var c=this;c.addDropZone();DCT.hubEvents.addListener("attachmentdeleted",c.reloadData,c)},scope:b},destroy:{fn:function(){var c=this;DCT.hubEvents.removeListener("attachmentdeleted",c.reloadData,c)},scope:b}}},setPlugins:function(a){a.plugins=[{ptype:"dctattachementediting"}]},setBottomToolbar:function(a){},setTopToolbar:function(a){},setDataStore:function(a){var b=this;a.dctStoreConfig.fields=[{name:"id",mapping:a.dctStoreConfig.idProperty},{name:"attachmentID",type:"string",mapping:"@attachmentID"},{name:"caption",type:"string",mapping:"@caption"},{name:"filename",type:"string",mapping:"@filename"},{name:"attachDate",type:"date",dateFormat:"c",mapping:"@attachDate"},{name:"moniker",type:"string",mapping:"@moniker"}];a.store=Ext.create("DCT.EditPagingStore",a.dctStoreConfig);a.store.on("load",b.afterReloadData)},setColumnModel:function(a){var b=this;a.dctColumnModel=[{text:DCT.T("Caption"),dataIndex:"caption",width:40,sortable:true,editable:true,editor:Ext.create("Ext.form.TextField",{})},{text:DCT.T("Date"),dataIndex:"attachDate",width:15,sortable:true,renderer:Ext.util.Format.dateRenderer(Ext.getDom("_hiddenDisplayDtMask").value)},{text:DCT.T("Filename"),dataIndex:"filename",width:40,sortable:true},{text:"",dataIndex:"attachmentID",width:5,sortable:false,renderer:b.deleteColumnRenderer},{text:"",dataIndex:"attachmentID",width:5,sortable:false,renderer:b.downloadColumnRenderer}];a.columns={items:a.dctColumnModel,sortAscText:DCT.T("SortAscending"),sortDescText:DCT.T("SortDescending"),columnsText:DCT.T("Columns")}},createFileUploadArea:function(b){var a=b.el.wrap().createChild({id:"attachmentsDialogSectionPanel",tag:"div",html:'<div id="uploadFileCmp"></div>'});b.fileUpload=Ext.create("DCT.SystemFileField",{renderTo:Ext.get("uploadFileCmp"),buttonText:DCT.T("AddAnAttachment"),buttonOnly:true})},getFileData:function(c,b,a){if(b){var d=new FormData();d.append("_QuoteID",DCT.Util.getSafeElement("_QuoteID").value);d.append("_ClientID",DCT.Util.getSafeElement("_ClientID").value);d.append("_caption",b.name);d.append("_submitAction","ajaxAttach");d.append(b.name,b);a.params=d}else{DCT.Util.getSafeElement("_submitAction").value="ajaxAttach";a.params={_caption:c.fileUpload.fileInput.dom.value.split(/(\\|\/)/g).pop()};a.form=document.forms[0]}return a},deleteColumnRenderer:function(f,c,e,g,d,b){var a="";a='<a href="javascript:;" onclick="DCT.Submit.ajaxDeleteAttachment(\''+f+'\');"><img alt="'+DCT.T("Delete")+'" title="'+DCT.T("Delete")+'" src="'+DCT.imageDir+'icons/delete.png"/></a>';return a},downloadColumnRenderer:function(f,c,e,g,d,b){var a="";a='<a href="javascript:;" onclick="DCT.Submit.processAttachment(\''+f+"', '', 'downloadAttachment');\"><img src=\""+DCT.imageDir+'icons/disk_download.png" alt="'+DCT.T("DownloadAttachment")+'" title="'+DCT.T("DownloadAttachment")+'"/></a>';return a}});DCT.Util.reg("dctattachmentgridpanel","attachmentGridPanel","DCT.AttachmentGridPanel");Ext.define("DCT.SubmissionGridPanel",{extend:"DCT.PagingGridPanel",inputXType:"dctsubmissiongridpanel",xtype:"dctsubmissiongridpanel",setListeners:function(a){var b=this;a.listeners={afterrender:{fn:b.addDropZone,scope:b}}},setDataStore:function(a){var b=this;b.superclass.setDataStore.call(b,a);a.store.on("refresh",function(){b.pollingInitialization(a.store)})},reloadData:function(){var a=this;a.store.oldItems=a.store.data.items;DCT.Grid.applyFilterToDataStore(a.store,null,function(){a.pollingInitialization(a.store)})},pollingInitialization:function(a){var b=this;Ext.each(a.grid.store.data.items,function(e,d,c){if(e.data.Status!="CMP"&&e.data.Status!="ERR"){Ext.defer(function(){b.checkStatus(e)},5000,a)}})},checkStatus:function(b){var a=this;Ext.Ajax.request({url:DCT.Util.getPostUrl(),method:"POST",scope:b,params:{_submissionId:b.data.id,_submissionMode:"get",_submitAction:"submission"},success:function(d,g){var c=this;if(!c.store){return}var h=DCT.Util.loadXMLString(d.responseText);var e=Ext.DomQuery.selectValue("Status",h);if(e!="CMP"&&e!="ERR"){Ext.defer(function(){a.checkStatus(c)},5000,this.store);var f=Ext.DomQuery.selectNode("page/content/Submissions/Submission:has(SubmissionId:nodeValue("+c.id+"))",c.store.proxy.reader.rawData);if(f){Ext.DomQuery.selectNode("page/content/Submissions/Submission:has(SubmissionId:nodeValue("+c.id+"))",c.store.proxy.reader.rawData).innerHTML=h.documentElement.innerHTML}c.store.grid.getView().refresh(c)}else{c.beginEdit();c.set("Status",Ext.DomQuery.selectValue("Status",h));c.set("InsuredName",Ext.DomQuery.selectValue("InsuredName",h));c.set("PolicyNumber",Ext.DomQuery.selectValue("PolicyNumber",h));c.set("QuoteID",Ext.DomQuery.selectValue("QuoteID",h));c.set("EffectiveDate",Ext.DomQuery.selectValue("EffectiveDate",h));c.endEdit();c.commit();var f=Ext.DomQuery.selectNode("page/content/Submissions/Submission:has(SubmissionId:nodeValue("+c.id+"))",c.store.proxy.reader.rawData);if(f){Ext.DomQuery.selectNode("page/content/Submissions/Submission:has(SubmissionId:nodeValue("+c.id+"))",c.store.proxy.reader.rawData).innerHTML=h.documentElement.innerHTML}c.store.grid.getView().refresh(c)}},failure:function(c,d){}})},downloadColumnRenderer:function(f,c,e,g,d,b){var a="";a='<a href="javascript:;" onclick="DCT.Submit.processSubmission(\''+f+"', '', 'downloadSubmission');\"><img src=\""+DCT.imageDir+'icons/disk_download.png" alt="'+DCT.T("DownloadSubmission")+'" title="'+DCT.T("DownloadSubmission")+'"/></a>';return a},createFileUploadArea:function(b){var a=b.el.wrap().createChild({id:"submissionsDialogSectionPanel",tag:"div",html:'<div id="uploadFileCmp"></div>'});b.fileUpload=Ext.create("DCT.SystemFileField",{renderTo:Ext.get("uploadFileCmp"),buttonText:DCT.T("UploadSubmission"),buttonOnly:true})},getFileData:function(c,b,a){if(b){var d=new FormData();d.append("_QuoteID",DCT.Util.getSafeElement("_QuoteID").value);d.append("_submitAction","submissionUpload");d.append(b.name,b);a.params=d}else{DCT.Util.getSafeElement("_submitAction").value="submissionUpload";a.params={_caption:c.fileUpload.fileInput.dom.value.split(/(\\|\/)/g).pop()};a.form=document.forms[0]}return a}});DCT.Util.reg("dctsubmissiongridpanel","submissionGridPanel","DCT.SubmissionGridPanel");Ext.define("DCT.SubmissionDownloadGridPanel",{extend:"DCT.PagingGridPanel",inputXType:"dctsubmissiondownloadgridpanel",xtype:"dctsubmissiondownloadgridpanel",downloadColumnRenderer:function(f,c,e,g,d,b){var a="";a='<a href="javascript:;" onclick="DCT.Submit.processSubmission(\''+f+"', '', 'downloadSubmission');\"><img src=\""+DCT.imageDir+'icons/disk_download.png" alt="'+DCT.T("DownloadSubmission")+'" title="'+DCT.T("DownloadSubmission")+'"/></a>';return a}});DCT.Util.reg("dctsubmissiondownloadgridpanel","submissionDownloadGridPanel","DCT.SubmissionDownloadGridPanel");Ext.define("DCT.PrintJobGridPanel",{extend:"DCT.PagingGridPanel",inputXType:"dctprintjobgridpanel",xtype:"dctprintjobgridpanel",setListeners:function(a){var b=this;b.callParent([a]);Ext.apply(a.listeners,{columnhide:{fn:function(d,e,c){var f=this;if(e.dataIndex=="selected"){var g=d.getHeaderAtIndex(0);g.hide()}},scope:b},columnshow:{fn:function(d,e,c){var f=this;if(e.dataIndex=="selected"){var g=d.getHeaderAtIndex(0);g.show()}},scope:b}})}});DCT.Util.reg("dctprintjobgridpanel","printJobGridPanel","DCT.PrintJobGridPanel");Ext.define("DCT.PolicySearchPagingStore",{extend:"DCT.PagingStore",inputXType:"dctpolicysearchpagingstore",xtype:"dctpolicysearchpagingstore",setListeners:function(a){var b=this;DCT.PolicySearchPagingStore.superclass.setListeners.call(b,a);Ext.apply(a.listeners,{load:{fn:function(d,c,e){var f=this;f.processLoad(d,c,e)},scope:b}})},processLoad:function(c,b,d){var f=this;if(Ext.DomQuery.selectNode("/session[@timedOut]",c.proxy.reader.rawData)!=null){DCT.Util.getSafeElement("_targetPage").value="login";DCT.Submit.submitForm()}var g=Ext.DomQuery.selectNode("/page/content/errors",c.proxy.reader.rawData);if(g){DCT.ajaxProcess.handleErrorType({value:g.outerHTML})}var a=Ext.DomQuery.selectNode("/root/downloadPolicyStatus[@id='downloadStatus']",c.proxy.reader.rawData);if(a){var e=a.getAttribute("status");new DCT.AlertMessage({title:DCT.T("DownloadStatus"),msg:e}).show()}if(f.dctLoadMethod){f.dctLoadMethod(c,b,d)}}});DCT.Util.reg("dctpolicysearchpagingstore","policySearchPagingStore","DCT.PolicySearchPagingStore");Ext.apply(DCT.Submit,{editManuScript:function(a){var b=this;Ext.getDom("_manuscriptLOB").value=a;b.submitPage("manuscript")}});Ext.apply(DCT.Submit,{loadPortfolio:function(a){var b=this;DCT.Util.getSafeElement("_usingPortfolio").value=1;DCT.Util.getSafeElement("_PortfolioID").value=a;b.submitAction("loadPortfolio")},addNewPortfolio:function(c,b){var a=this;if(b==null){b="new"}a.removeKeyNames();DCT.Util.getSafeElement("_ClientID").value=c;DCT.Util.getSafeElement("_PortfolioID").value=0;DCT.Util.getSafeElement("_usingPortfolio").value=1;DCT.Util.getSafeElement("_UseClientID").value=1;a.submitPage(b)},deletePortfolio:function(a){var b=this;DCT.globalPortfolioID=a;DCT.globalAction="deletePortfolio";b.actionVerify(DCT.T("AreYouSureDeletePortfolio"),Ext.Function.createDelayed(b.completePortfolioProcessing,0,b))},completePortfolioProcessing:function(a){var b=this;DCT.Util.removeTabs(false);if(a!="no"){DCT.Util.getSafeElement("_PortfolioID").value=DCT.globalPortfolioID;b.submitAction(DCT.globalAction)}},deletePortfolioAttachment:function(b){var a=this;DCT.Util.getSafeElement("_attachmentID").value=b;a.submitPageAction("portfolioAttachment","deletePortfolioAttachment")},downloadPortfolioAttachment:function(b){var a=this;DCT.Util.getSafeElement("_attachmentID").value=b;a.submitPageAction("portfolioAttachment","downloadPortfolioAttachment")}});Ext.apply(DCT.Submit,{gotoPageForQuote:function(b,c){var a=this;a.removeKeyNames();DCT.Util.getSafeElement("_QuoteID").value=c;DCT.Util.getSafeElement("_UseClientID").value="1";a.submitPage(b)},newQuote:function(a,b){var c=this;if(Ext.isEmpty(Ext.getCmp("ProducerName").getValue())){DCT.Util.removeTabs(true);Ext.create("DCT.AlertMessage",{title:DCT.T("Alert"),msg:DCT.T("QuoteWithoutProducer"),fn:function(){DCT.Util.removeTabs(false)}}).show()}else{DCT.globalPage="new";DCT.globalSaveAction="save,"+a;DCT.globalAction=a;DCT.globalDetails=b;c.saveVerify(Ext.Function.createDelayed(c.completeNewQuote,0,c))}},completeNewQuote:function(a){var b=this;DCT.Util.removeTabs(false);if(a=="no"){Ext.getDom("_manuscriptLOB").value=DCT.globalDetails;b.submitAction(DCT.globalAction)}else{if(a=="yes"){b.completeSaveProcess()}}},actOnQuote:function(c,b,d,a){var e=this;var g=DCT.ajaxProcess.waitForRequests(e);if(g){return}DCT.globalAction=c;DCT.globalQuoteID=b;DCT.Util.getSafeElement("_liteLoad").value=a;DCT.globalLOB=(d==null)?"":d;if(c=="deleteQuote"){DCT.globalAction="delete";f=DCT.T("AreYouSureDelete");e.actionVerify(f,Ext.Function.createDelayed(e.completeQuoteProcessing,0,e))}else{if((c=="delete")||(c=="deleteClient")){var f;if((Ext.getCmp("showDeleted")!=null)&&(Ext.getCmp("showDeleted").getValue())){f=DCT.T("AreYouSureUndelete")}else{f=DCT.T("AreYouSureDelete")}e.actionVerify(f,Ext.Function.createDelayed(e.completeQuoteProcessing,0,e))}else{e.completeQuoteProcessing("yes")}}},completeQuoteProcessing:function(a){var b=this;DCT.Util.removeTabs(false);if(a!="no"){var c=Ext.getCmp("lastSearchItem");if((Ext.isDefined(c))&&(DCT.globalAction!="filter")&&DCT.Util.getSafeElement("_gridPage").value!="open"){c.setValue("(all)")}DCT.Util.getSafeElement("_QuoteID").value=DCT.globalQuoteID;if(DCT.globalAction.indexOf("load")>=0){DCT.Util.getSafeElement("_manuscriptLOB").value=DCT.globalLOB}if(!Ext.isEmpty(DCT.clientName)){if(DCT.globalAction.indexOf("load")>=0){DCT.globalPage="";DCT.globalSaveAction="save,"+DCT.globalAction;b.saveVerify(Ext.Function.createDelayed(b.completeQuoteSave,0,b))}else{b.completeQuoteSave("no")}}else{b.completeQuoteSave("no")}}},completeQuoteSave:function(b){var c=this;DCT.Util.removeTabs(false);if(b=="no"){var a=DCT.Util.getSafeElement("_gridPage").value;if(a!="open"){DCT.Util.getSafeElement("_targetPage").value="";c.submitAction(DCT.globalAction);DCT.Util.getSafeElement("_QuoteID").value=0}else{DCT.Grid.applyFilterToDataStore(Ext.getCmp("quoteList").getStore(),true,DCT.Submit.resetPolicyVariables)}}else{if(b=="yes"){c.completeSaveProcess();DCT.Util.getSafeElement("_QuoteID").value=0}}},resetPolicyVariables:function(){DCT.Util.getSafeElement("_QuoteID").value=0},downloadSubmissionPolicy:function(b,a){var c=this;DCT.globalQuoteID=a;DCT.globalAction=b;DCT.Util.getSafeElement("_QuoteID").value=DCT.globalQuoteID;var d=DCT.T("VerifyPolicyDownload");c.actionVerify(d,Ext.Function.createDelayed(c.downloadPolicy,0,c))},downloadPolicy:function(a){if(a=="yes"){DCT.Util.getSafeElement("_submitAction").value=DCT.globalAction;DCT.Submit.applySearchFilter(DCT.Submit.activeSearchMode)}},downloadSubmissionClientPolicy:function(b,a){var c=this;DCT.globalQuoteID=a;DCT.globalAction=b;DCT.globalPage="clientInfo";DCT.Util.getSafeElement("_QuoteID").value=DCT.globalQuoteID;var d=DCT.T("VerifyPolicyDownload");c.actionVerify(d,Ext.Function.createDelayed(c.downloadClientPolicy,0,c))},downloadClientPolicy:function(a){var b=this;if(a=="yes"){DCT.Util.getSafeElement("_submitAction").value=DCT.globalAction;b.removeKeyNames();b.setListItems();DCT.Util.getSafeElement("_targetPage").value=DCT.globalPage;b.secureAction(DCT.globalPage);b.submitForm()}},actionVerify:function(a,d,c){var b=this;if(typeof(c)=="undefined"||c==true){DCT.Util.removeTabs(true)}DCT.msgBox=Ext.MessageBox.confirm("Verify",a,d);msgToolbar=DCT.msgBox.getDockedItems("toolbar")[0];DCT.msgActionBtn=msgToolbar.getComponent("yes");Ext.Function.defer(b.setDlgActionBtnFocus,5)},setDlgActionBtnFocus:function(){if(DCT.msgBox.isVisible()){DCT.msgActionBtn.el.dom.focus()}},getSubmissionXML:function(b){var a=this;DCT.Util.getSafeElement("_submissionId").value=b;DCT.Util.getSafeElement("_targetPage").value="";a.submitAction("submissionDownload");DCT.Util.getSafeElement("_submitAction").value=""}});Ext.apply(DCT.Grid,{selectAgencyRenderer:function(d,a,b,g,f,h,k,e){var c;if(g.get("name")!=null&&g.get("name")!=""){c=g.get("name")}if(g.get("city")!=null&&g.get("city")!=""){c+=", "+g.get("city")}if(g.get("state")!=null&&g.get("state")!=""){c+=", "+g.get("state")}var l='<a href="javascript:;" onclick="DCT.Util.selectAgency('+g.id+",'"+c+'\');"><div class="passIcon" title="'+DCT.T("Select")+'"></div></a>';return l},portfolioAttachmentRowActionColumnRenderer:function(a,b,g,f,h,k,e){var c='<a href="javascript:;" onclick="DCT.Submit.deletePortfolioAttachment(\''+g.id+'\');"><img src="'+DCT.imageDir+'delete.gif" alt="Delete portfolio attachment" title="Delete portfolio attachment"/></a>';var d='<a href="javascript:;" onclick="DCT.Submit.downloadPortfolioAttachment(\''+g.id+'\');"><img src="'+DCT.imageDir+'icons/disk_download.png" alt="Download portfolio attachment" title="Download portfolio attachment"/></a>';var l=c+d;return l},portfolioAttachmentNameColumnRenderer:function(f,b,e,h,c,a,d){var g=f;return'<a href="javascript:;" id="aFileName" onclick="DCT.Submit.downloadPortfolioAttachment(\''+e.id+"')\">"+Ext.util.Format.htmlEncode(g)+"</a>"},printJobRowActionColumnRenderer:function(c,q,g,d,f,p,e){var u=g.data.name;var o=g.data.remove;var h=g.data.selected;var l='<input id="_removeFormNames'+u+'" type="hidden" name="_removeFormNames" value="'+u+"="+((!o)?"0":"1")+'"/>';var t='<input id="_printJobNames'+u+'" type="hidden" name="_printJobNames" value="'+u+"="+h+'"/>';var s=DCT.Grid.previewRenderer(c,q,g,d,f,p,e);var k=DCT.Grid.editFormPropsRenderer(c,q,g,d,f,p,e);var m=DCT.Grid.removeRenderer(c,q,g,d,f,p,e);var a=DCT.Grid.undoRemoveRenderer(c,q,g,d,f,p,e);var b=DCT.Grid.downloadRenderer(c,q,g,d,f,p,e);var r=s+b+m+a+k;return r+t+l},printJobRowActionReviewColumnRenderer:function(f,b,e,h,c,a,d){var g=DCT.Grid.reviewRenderer(f,b,e,h,c,a,d);return g},editFormPropsRenderer:function(a,d,k,h,l,m,g){var b=k.data.name;var e=k.data.order;var c=k.data.type=="adhoc"||DCT.Util.getSafeElement("_canReplace").value=="1"||DCT.Util.getSafeElement("_canAdd").value=="1"||DCT.Util.getSafeElement("_canReorder").value=="1";var f="";if(c){f="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('adHocFormEditor','"+b+"','"+m.currentStartIndex+"','"+h+'\');"><img src="'+DCT.imageDir+'icons/wrench.png" alt="'+DCT.T("EditFormProperties")+'" title="'+DCT.T("EditFormProperties")+'"/></a>'}return f},printJobRowActionEditColumnRenderer:function(g,c,f,h,d,b,e){var a=DCT.Grid.editRenderer(g,c,f,h,d,b,e);return a},editRenderer:function(c,t,h,e,g,s,f){var u=h.data.name;var d=h.data.docManuscript;var o=h.data.pageRef;var k=h.data.topicRef;var p=h.data.hasMerge;var m=Ext.DomQuery.selectValue("printDocs/@readOnly",h.store.proxy.reader.rawData);var q=h.data.remove;var l=h.data.order;var r=h.data.review;var a=h.data.editStatus;var b='<div class="collapsed"><a href="javascript:;" onclick="DCT.Submit.actOnPrintJobWithReturnToList(\'editPrintJob\',\''+k+":"+o+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editIcon" title="'+DCT.T("EditFormField")+'"></div>'+a+"</a></div>";if((p)&&(m!="1")){if(k!=""){if(a=="1"){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+k+":"+o+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editIcon" title="'+DCT.T("EditRequiredFormField")+'"></div></a><span class="required">*</span>'}else{if(a=="2"){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+k+":"+o+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editIcon" title="'+DCT.T("EditField")+'"></div></a>'}else{b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+k+":"+o+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editdoneIcon" title="'+DCT.T("FormFieldEdited")+'"></div></a>'}}}else{if(a=="1"){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+u+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editIcon" title="'+DCT.T("EditRequiredFormField")+'"></div></a><span class="required">*</span>'}else{if(a=="2"){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+u+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editIcon" title="'+DCT.T("EditField")+'"></div></a>'}else{b="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJobWithReturnToList('editPrintJob','"+u+"','"+d+"','"+r+"','"+u+"','"+s.currentStartIndex+"','"+e+'\');" class="iconLink"><div class="editdoneIcon" title="'+DCT.T("FormFieldEdited")+'"></div></a>'}}}}return b},previewRenderer:function(b,e,m,l,o,p,k){var c=m.data.name;var h=m.data.docManuscript;var f=m.data.printjob;var d=m.data.type=="adhoc";var g=m.data.type=="override";var a="";if(d){a="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJob('previewAdHoc','ADHOCFORM:"+c+"|"+h+'\');"><img src="'+DCT.imageDir+'icons/magnifier.png" alt="'+DCT.T("RenderedFormPreview")+'" title="'+DCT.T("RenderedFormPreview")+'"></a>'}else{if(g){a="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJob('previewAdHoc','FORMOVERRIDE:"+c+"|"+h+'\');"><img src="'+DCT.imageDir+'icons/magnifier.png" alt="'+DCT.T("RenderedFormPreview")+'" title="'+DCT.T("RenderedFormPreview")+'"></a>'}else{if(f){a="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnPrintJob('preview','FORM:"+c+"|"+h+'\');"><img src="'+DCT.imageDir+'icons/magnifier.png" alt="'+DCT.T("RenderedFormPreview")+'" title="'+DCT.T("RenderedFormPreview")+'"></a>'}}}return a},undoRemoveRenderer:function(a,c,o,m,q,r,l){var b=o.data.name;var g=o.data.remove;var e='<a href="javascript:;" name="UndoRemoveForm'+b+'" id="UndoRemoveForm'+b+'" onclick="DCT.Grid.toggleRemoveForm(\''+b+"', '"+m+"', '"+r.grid.id+'\');"><img src="'+DCT.imageDir+'icons/undelete.png" alt="'+DCT.T("UndoRemove")+'" title="'+DCT.T("UndoRemove")+'"/></a>';var f=o.data.onpolicy;var k=o.data.printDefault;var p=Ext.DomQuery.selectValue("printDocs/@readOnly",o.store.proxy.reader.rawData);var d=o.data.printjob;var h=f&&!((k=="Mandatory")||p=="1")&&d;if(!g||!h){e='<a href="javascript:;"  name="UndoRemoveForm'+b+'" class="collapsed" id="UndoRemoveForm'+b+'" onclick="DCT.Grid.toggleRemoveForm(\''+b+"', '"+m+"', '"+r.grid.id+'\');"><img src="'+DCT.imageDir+'icons/undelete.png" alt="'+DCT.T("UndoRemove")+'" title="'+DCT.T("UndoRemove")+'"/></a>'}return e},removeRenderer:function(f,v,o,h,m,u,l){var w=o.data.name;var s=o.data.remove;var g=o.data.type=="adhoc";var d=o.data.printjob;var c=o.data.printDefault;var t=o.data.onpolicy;var r=Ext.DomQuery.selectValue("printDocs/@readOnly",o.store.proxy.reader.rawData);var q=DCT.Util.getSafeElement("_canDelete").value=="1";var p=g&&!t&&q;var e='<input id="_removeForm'+w+'" type="hidden" name="__removeForm'+w+'" value="'+((!s)?"0":"1")+'"/>';var k;var b=t&&!((c=="Mandatory"&&d)||r=="1");if(!p&&(s||!b)){k='<a href="javascript:;" name="RemoveForm'+w+'" class="collapsed" id="RemoveForm'+w+'" onclick="DCT.Grid.toggleRemoveForm(\''+w+"', '"+h+"', '"+u.grid.id+'\');"><img src="'+DCT.imageDir+'icons/decline.png" alt="'+DCT.T("RemoveForm")+'" title="'+DCT.T("RemoveForm")+'"/></a>'}else{if(p){var a=o.data.staysWithPolicy==1?"collapsed":"";k='<a href="javascript:;" name="PurgeForm'+w+'" class="'+a+'" id="PurgeForm'+w+'" onclick="DCT.Grid.purgeForm(\''+w+"', '"+h+"', '"+u.grid.id+'\');"><img src="'+DCT.imageDir+'icons/trashcan.png" alt="'+DCT.T("Delete")+'" title="'+DCT.T("Delete")+'"/></a>'}else{k='<a href="javascript:;" name="RemoveForm'+w+'" id="RemoveForm'+w+'" onclick="DCT.Grid.toggleRemoveForm(\''+w+"', '"+h+"', '"+u.grid.id+'\');"><img src="'+DCT.imageDir+'icons/decline.png" alt="'+DCT.T("RemoveForm")+'" title="'+DCT.T("RemoveForm")+'"/></a>'}}return k+e},downloadRenderer:function(a,f,l,k,m,o,h){var g=DCT.Util.getSafeElement("_canDownload").value=="1";if(!g){return""}var b=encodeURI(l.data.name);var e=l.data.docManuscript;var c=l.data.type=="adhoc";if(c){e="adhoc"}var d=Ext.String.format('<a href="javascript:;" name="DownloadForm{0}" id="DownloadForm{0}" onclick="DCT.Grid.downloadForm(\'{0}\');"><img src="{1}icons/disk_download.png" alt="{2}" title="{2}"/></a>',Ext.String.escape(b),DCT.imageDir,DCT.T("Download"));return d},reviewRenderer:function(a,b,f,e,h,k,d){var g=f.data.hasMerge;var l=f.data.review;var c="";if(l=="1"&&g=="1"){c='<div class="passIcon"></div>'}return c},titleColumnRenderer:function(g,b,f,h,c,a,e){var d='<div class="normalWhiteSpace">'+Ext.util.Format.htmlEncode(g)+"</div>";return d},printSetRowSelection:function(h){var c=h.data.printjob;var f=h.data.remove;var d=h.data.selected;var g=h.data.printDefault;var k=Ext.DomQuery.selectValue("printDocs/@readOnly",h.store.proxy.reader.rawData);var b=((d=="1"||d=="2")&&!f);var e=(g=="Mandatory"||k=="1");var a=(f);return(c&&b&&!(e||a))},printCheckBoxColumnRenderer:function(d,t,k,f,h,s,g){var b=k.data.printjob;var q=k.data.remove;var l=k.data.selected;var a=k.data.printDefault;var v=k.data.name;var r=k.data.onpolicy;var p=Ext.DomQuery.selectValue("printDocs/@readOnly",k.store.proxy.reader.rawData);var m='<span class="x-grid-checkcolumn" id="_printJob'+v+'" name="__printJob'+v+'"></span>';var u='<input id="_printJobCB'+v+'" type="hidden" name="__printJobCB'+v+'" value="'+l+'"/>';var e=((l=="1"||l=="2")&&!q);var o=(a=="Mandatory"||p=="1");var c=(q);if(b){if(e){s.grid.getSelectionModel().select(f,true,false);s.grid.getSelectionModel().setPageSelections()}if(o||c){if(e){m='<span class="x-grid-checkcolumn-on-disable" id="_printJob'+v+'" name="__printJob'+v+'"></span>'}else{if(c){m='<span class="x-grid-checkcolumn-hidden" id="_printJob'+v+'" name="__printJob'+v+'"></span>'}else{m='<span class="x-grid-checkcolumn-disable" id="_printJob'+v+'" name="__printJob'+v+'"></span>'}}}}else{m='<span class="x-grid-checkcolumn-hidden" id="_printJob'+v+'" name="__printJob'+v+'"></span>'}return m+u},printCheckBoxAdjustedCount:function(){var b=this,a=b.queryBy(function(e,d){var g=e.data.remove,f=e.data.printDefault,k=Ext.DomQuery.selectValue("printDocs/@readOnly",e.store.proxy.reader.rawData),h=(f=="Mandatory"||k=="1"),c=(g);if(h||c){return true}else{return false}},b);return a.getCount()},messageDescriptionColumnRenderer:function(g,c,f,h,d,a,e){var b='<a href="javascript:;" id="messagesListLoadQuoteA" onclick="DCT.Submit.actOnMessage(\''+f.id+"','readMessage');\">"+Ext.util.Format.htmlEncode(g)+"</a>";return b},openRowActionsRenderer:function(b,d,o,m,q,r,k){var g=o.data.LOB;var a=o.data.deleted;var h=Ext.DomQuery.selectNode('state/user/privileges/privilege[@name="DuplicatePolicy"]',o.store.proxy.reader.rawData);var c=Ext.DomQuery.selectNode('state/user/privileges/privilege[@name="DeleteQuotes"]',o.store.proxy.reader.rawData);var p=Ext.DomQuery.selectValue("state/@securityLevel",o.store.proxy.reader.rawData);var f=DCT.IsReadOnly;var l=Ext.DomQuery.selectValue("state/EnableParty360",o.store.proxy.reader.rawData);var e=o.data.policyNumber;var s='<a href="javascript:;" id="quoteListLoadQuoteA" onclick="DCT.Submit.actOnQuote(\'load\',\''+o.id+"','"+g+'\');"><img width="16" alt="'+DCT.T("ViewPolicy")+'" title="'+DCT.T("ViewPolicy")+'" src="'+DCT.imageDir+'icons/magnifier.png"/></a>';s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.gotoPageForQuote('policy','"+o.id+'\');"><img width="16" alt="'+DCT.T("ViewPolicyDetails")+'" title="'+DCT.T("ViewPolicyDetails")+'" src="'+DCT.imageDir+'icons/application_view_list.png"/></a>';if(!f){if(c){if(a!="1"){s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.setGridAction('open', 'delete');DCT.Submit.actOnQuote('delete','"+o.id+'\');"><img width="16" alt="'+DCT.T("Delete")+'" title="'+DCT.T("Delete")+'" src="'+DCT.imageDir+'icons/delete.png"/></a>'}else{s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.setGridAction('open', 'delete');DCT.Submit.actOnQuote('delete','"+o.id+'\');"><img width="16" alt="'+DCT.T("Undelete")+'" title="'+DCT.T("Undelete")+'" src="'+DCT.imageDir+'icons/undelete.png"/></a>'}}if(a!="1"){if(h||(p>=8)){s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.setGridAction('open', 'duplicate');DCT.Submit.actOnQuote('duplicate','"+o.id+'\');"><img width="16" alt="'+DCT.T("Duplicate")+'" title="'+DCT.T("Duplicate")+'" src="'+DCT.imageDir+'icons/page_white_copy.png"/></a>'}s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnQuote('download','"+o.id+'\');"><img width="16" alt="'+DCT.T("DownloadXML")+'" title="'+DCT.T("DownloadXML")+'" src="'+DCT.imageDir+'icons/disk_download.png"/></a>';s=s+"<a href=\"javascript:;\" onclick=\"DCT.Submit.downloadSubmissionPolicy('submissionDownloadPolicy','"+o.id+'\' );"><img width="16" alt="'+DCT.T("DownloadPolicy")+'" title="'+DCT.T("DownloadPolicy")+'" src="'+DCT.imageDir+'icons/download_policy.png"/></a>'}}if(l=="1"){s=s+"<a onclick=\"{DCT.Util.popUpPartyCommon('partyStart:party360','[&quot;_partyReturnStructure:none&quot;,&quot;_partyReturnAction:none360&quot;,&quot;_objectId360:"+o.id+"&quot;,&quot;_objectReference360:"+e+'&quot;,&quot;_objectTypeCode360:POL&quot;,&quot;_page360:Party360Participants&quot;]\');}" name="name_Party360" id="id_Party_360" href="javascript:;"> 360 </a>'}return s},onPolicyColumnRenderer:function(a,c,o,m,q,r,l){var e=o.data.selected;var g=o.data.onpolicy;var h=o.data.remove;var b=o.data.name;var p=Ext.DomQuery.selectValue("printDocs/@readOnly",o.store.proxy.reader.rawData);var k='<div id="policyForm'+b+'_On" style="display: none;"><div class="passIcon"></div></div>';var f='<div id="policyForm'+b+'_Remove" style="display: none;">'+DCT.T("Remove")+"</div>";var s='<div id="policyForm'+b+'_Add" style="display: none;">'+DCT.T("Add")+"</div>";if(g&&!h){k='<div id="policyForm'+b+'_On"><div class="passIcon"></div></div>'}else{if((e=="1"||e=="2")&&!g){s='<div id="policyForm'+b+'_Add">'+DCT.T("Add")+"</div>"}else{if(h&&g){f='<div id="policyForm'+b+'_Remove">'+DCT.T("Remove")+"</div>"}}}var d=k+s+f;return d},nameColumnRenderer:function(a,c,g,f,h,k,e){var b=g.id;var d;if(a==""){d="(none)"}else{d=a}nameColumnHTML='<a href="javascript:;" id="clientPageLoadA" onclick="DCT.Submit.gotoPageForClient(\'clientInfo\',\''+b+"');\">"+Ext.util.Format.htmlEncode(d)+"</a>";return nameColumnHTML},namePolicyColumnRenderer:function(g,b,e,h,c,a,d){var f='<a href="javascript:;" id="clientPageLoadA" onclick="DCT.Submit.gotoPageForQuote(\'clientInfo\',\''+e.id+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>";return f},clientRowActionsRenderer:function(a,c,h,g,k,l,e){var b=h.data.deleted;var f=Ext.DomQuery.selectValue("state/EnableParty360",h.store.proxy.reader.rawData);var m="<a href=\"javascript:;\" onclick=\"DCT.Submit.setGridAction('open', 'deleteClient');DCT.Submit.actOnClient('deleteClient','"+h.id+"');\"><img ";var d;if(b=="1"){d=' src="'+DCT.imageDir+'icons/undelete.png" alt="'+DCT.T("UndeleteClient")+'" title="'+DCT.T("UndeleteClient")+'"/></a>'}else{d=' src="'+DCT.imageDir+'icons/delete.png" alt="'+DCT.T("DeleteClient")+'" title="'+DCT.T("DeleteClient")+'"/></a>'}if(f=="1"){m=m+d+"<a onclick=\"{DCT.Util.popUpPartyCommon('partyStart:party360','[&quot;_partyReturnStructure:none&quot;,&quot;_partyReturnAction:none360&quot;,&quot;_objectId360:"+h.id+'&quot;,&quot;_objectTypeCode360:PTY&quot;,&quot;_page360:ParticipantDetail&quot;]\');}" name="name_Party360" id="id_Party_360" href="javascript:;"> 360 </a>'}else{m=m+d}return m},batchClientColumnRenderer:function(f,b,e,h,c,a,d){var g='<a href="javascript:;" id="quoteListLoadQuoteA" onclick="DCT.Submit.actOnQuote(\'load\',\''+e.id+"');\">"+Ext.util.Format.htmlEncode(f)+"</a>";return g},newNameColumnRenderer:function(g,b,e,h,c,a,d){var f;if((e.data.family=="portfolio")||(e.data.family=="Portfolio")){f='<a href="javascript:;" id="productListStartNewQuote" onclick="DCT.Submit.newQuote(\'newPortfolio\',\''+e.id+"|"+e.data.lob+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>"}else{f='<a href="javascript:;" id="productListStartNewQuote" onclick="DCT.Submit.newQuote(\'newQuote\',\''+e.id+"|"+e.data.lob+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>"}return f},rowActionsRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" onclick="DCT.Submit.editManuScript(\''+f.id+'\');"><img src="'+DCT.imageDir+'icons/application_view_list.png" alt="'+DCT.T("ViewDetailsOfCompany")+'" title="'+DCT.T("ViewDetailsOfCompany")+'"/></a>';return a},jobRowActionColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" onclick="DCT.Submit.batchDeleteJob(\''+f.id+'\');"><img src="'+DCT.imageDir+'delete.gif" alt="'+DCT.T("DeleteJob")+'" title="'+DCT.T("DeleteJob")+'"/></a>';return a},logNameColumnRenderer:function(f,b,e,h,c,a,d){var g='<a href="javascript:;" id="batchProcessSelectJobA" onclick="DCT.Submit.batchSelectJob(\''+f+"');\">"+Ext.util.Format.htmlEncode(f)+"</a>";return g},messageBodyPreview:function(b,g,d,f){var e=this;var a,c;c=d.data.body.length>150?d.data.body.substr(0,147)+"...":d.data.body;c=Ext.util.Format.htmlEncode(c);read=d.data.read;if(read=="0"){a='<div class="messageBody unreadMessage">'+c+"</div>"}else{a='<div class="messageBody">'+c+"</div>"}return{rowBody:a}},messageEditColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" id="messagesListLoadQuoteA" onclick="DCT.Submit.actOnMessage(\''+f.id+"','readMessage');\"><img alt=\""+DCT.T("View")+'" title="'+DCT.T("View")+'" src="'+DCT.imageDir+'icons/magnifier.png"/></a>';return a},messageDeleteColumnRenderer:function(d,b,a,c,g,f,h,k,e){var l="";if(b&&DCT.IsReadOnly==false){l='<a href="javascript:;" id="messagesDeleteA" onclick="DCT.Grid.deleteNotification(\''+g.id+"','"+d+'\');"><img alt="'+DCT.T("Delete")+'" title="'+DCT.T("Delete")+'" src="'+DCT.imageDir+'icons/decline.png"/></a>'}return l},messagePolicyColumnRenderer:function(g,b,e,h,c,a,d){var f=e.data.policyID;if(f==""){rowActionsHTML="(none)"}else{rowActionsHTML="<a href=\"javascript:;\" onclick=\"DCT.Submit.gotoPageForQuote('policy','"+f+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>"}return rowActionsHTML},messageTypeColumnRenderer:function(a,b,g,f,h,k,d){var l="";var e="/root/content/CodeLists/CodeList/ListEntry[@Code='"+a+"']/@Description";var c=Ext.DomQuery.select(e,g.store.proxy.reader.rawData);if(c.length>0){l=c[0].firstChild.nodeValue}else{l="(none)"}return l},deletePASCommentColumnRenderer:function(d,b,a,c,g,f,h,k,e){var m="";var l=Ext.DomQuery.selectValue("/page/content/comments/@deleteAccess",g.store.proxy.reader.rawData);if(l=="1"&&DCT.IsReadOnly==false){b=true}else{b=false}if(b){m='<a href="javascript:;" id="commentsDelete" onclick="DCT.Grid.deleteComment(\''+g.id+"','"+g.get("commentLockingTS")+"','"+d+'\', DCT.Grid.completeDeletePASComment);"><img alt="'+DCT.T("Delete")+'" title="'+DCT.T("Delete")+'" src="'+DCT.imageDir+'/icons/decline.png"/></a>'}return m},viewPASCommentColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" id="viewPASComment" onclick="DCT.Util.displayPASViewCommentPopUp(\''+f.id+"','"+f.get("commentTypeCode")+'\');"><img alt="'+DCT.T("View")+'" title="'+DCT.T("View")+'" src="'+DCT.imageDir+'/icons/magnifier.png"/></a>';return a},batchExecuteColumnRenderer:function(g,c,f,h,d,a,e){var b="";switch(g){case"-1":b=DCT.T("ExecutePre");break;case"-2":b=DCT.T("ExecutePost");break;default:b=DCT.T("Execute");break}return b},batchSuccessColumnRenderer:function(a,c,k,h,l,m,f){var d=0,e=h+1,g="batchLog/batchLogItem:nth("+e+")",b=Ext.dom.Query.selectNode(g,k.store.proxy.reader.rawData);for(i=0;i<b.attributes.length;i++){if((b.attributes[i].nodeName.indexOf(".")>-1)&&(b.attributes[i].nodeValue=="success")){d+=1}}return d},batchFailureColumnRenderer:function(a,c,h,g,l,m,e){var k=0,d=g+1,f="batchLog/batchLogItem:nth("+d+")",b=Ext.dom.Query.selectNode(f,h.store.proxy.reader.rawData);for(i=0;i<b.attributes.length;i++){if((b.attributes[i].nodeName.indexOf(".")>-1)&&(b.attributes[i].nodeValue=="failure")){k+=1}}return k},batchTotalColumnRenderer:function(a,c,h,g,k,l,e){var m=0,d=g+1,f="batchLog/batchLogItem:nth("+d+")",b=Ext.dom.Query.selectNode(f,h.store.proxy.reader.rawData);for(i=0;i<b.attributes.length;i++){if((b.attributes[i].nodeName.indexOf(".")>-1)){m+=1}}return m},submissionPolicyColumnRenderer:function(e,b,d,h,c,a){var g=d.data.QuoteID;var f=d.data.LOB;if(g==""){rowActionsHTML=""}else{rowActionsHTML="<a href=\"javascript:;\" onclick=\"DCT.Submit.actOnQuote('load', '"+g+"','"+f+"');\">"+Ext.util.Format.htmlEncode(e)+"</a>"}return rowActionsHTML},submissionActionsRenderer:function(g,c,e,h,d,b){var f=e.data.SubmissionId;var a='<a href="javascript:;" onclick="DCT.Submit.getSubmissionXML(\''+f+'\');"><img width="16" alt="'+DCT.T("Download")+'" title="'+DCT.T("Download")+'" src="'+DCT.imageDir+'icons/disk_download.png"/></a>';return a},submissionLogRowRenderer:function(h,g,m,l){var o,e,k,c,d,f,a;c=Ext.DomQuery.select("SubmissionLogs/SubmissionLog",m.store.proxy.reader.rawData);o="";if(c.length>0){if(h.Status!=="CMP"&&h.Status!=="ERR"){var b=Ext.String.format('<img src="{0}"/>',DCT.skinsDir+"/images/loadingInd.gif");o+="<h3>Log Entries "+b+"</h3>"}else{o+="<h3>Log Entries</h3>"}o+='<table style="width:100%" border="0" class="x_ZebraStripe">';o+='<th align="left" width="50" class="x_columnB">Status</th>';o+='<th align="left" width="75" class="x_columnB">Subject</th>';o+='<th align="left" class="x_columnB">Details</th>';for(i=0;i<c.length;i++){if(Ext.DomQuery.selectValue("/SubmissionId",c[i])==h.SubmissionId){o+="<tr>";d=Ext.DomQuery.selectValue("/Status",c[i]);f=Ext.DomQuery.selectValue("/Subject",c[i]);a=Ext.DomQuery.selectValue("/Details",c[i]);o+="<td>"+d+"</td>";o+="<td>"+f+"</td>";o+="<td>"+a+"</td>";o+="</tr>"}}o+="</table>"}o='<div class="submissionLog">'+o+"</div>";return{rowBody:'<div id="submissionLog'+g+'">'+o+"</div>"}},highlightRowRenderer:function(d,f,c,a){var e=this;var b="";if(f==e.grid.dctClickedRowIndex){return e.grid.getView().rowOverCls}return b}});Ext.apply(DCT.Util,{updatePASSearchMode:function(b,a){if(a){DCT.Submit.activeSearchMode=b;DCT.Util.getSafeElement("_clearFilterCache").value="1";DCT.Util.getSafeElement("_cacheDataXml").value=b;DCT.ajaxProcess.processPage("search");if(b=="policy"||b=="client"){DCT.Util.hideShowGroup("searchConstraintsWrapper",true)}else{DCT.Util.hideShowGroup("searchConstraintsWrapper",false)}}},disableCheck:function(){var a=Ext.get("searchConstraintsWrapper");if(a.hasCls("hideOffset")){a.select("input,textarea,a",true).each(function(b){DCT.Util.disableComponent(b.id,true)})}},policyRecordCountCheck:function(a,b,c){Ext.get("clientGridEmpty").setDisplayed(false);Ext.getCmp("clientListData").hide();Ext.get("createClientButton").setDisplayed(false);if(a.getTotalCount()==0){Ext.get("policyGridEmpty").setDisplayed(true);Ext.getCmp("quoteList").hide()}else{Ext.get("policyGridEmpty").setDisplayed(false);Ext.getCmp("quoteList").show()}DCT.Util.getSafeElement("_clearFilterCache").value="0";DCT.LoadingMessage.hide()},clientRecordCountCheck:function(a,b,c){Ext.get("policyGridEmpty").setDisplayed(false);Ext.getCmp("quoteList").hide();Ext.get("createClientButton").setDisplayed(true);if(a.getTotalCount()==0){Ext.get("clientGridEmpty").setDisplayed(true);Ext.getCmp("clientListData").hide()}else{Ext.get("clientGridEmpty").setDisplayed(false);Ext.getCmp("clientListData").show()}DCT.Util.getSafeElement("_clearFilterCache").value="0";DCT.LoadingMessage.hide()},setSearchField:function(){var e=document.getElementById("searchFilterTable").rows.length;if(e>=1){for(var c=1;c<=e;c++){var b="_keynameAdvSearch"+c+"Combo";var f=document.getElementById(b).value;var d=Ext.getCmp("_keyvalueDateSearch"+c);var a=Ext.getCmp("_keyvalueTextSearch"+c);if(f=="EffectiveDate"||f=="Quote.ExpirationDate"||f=="Quote.DateAccessed"){d.setVisible(true);d.setDisabled(false);a.setVisible(false);a.setDisabled(true)}}}}});Ext.apply(DCT.Submit,{SUPPORT_PARTY:true,activeSearchMode:null,policyGridDataStore:null,clientGridDataStore:null,runQuickSearch:function(){var c=this;var a=Ext.getCmp("quickSearchTextId").getValue();var b=Ext.getCmp("quickSearchModeId").getValue();c.activeSearchMode=b;DCT.Util.getSafeElement("_cacheDataXml").value=b;DCT.Util.getSafeElement("_clearFilterCache").value="0";DCT.Util.getSafeElement("_filterSubset").value="Search";switch(b){case"policy":DCT.Util.getSafeElement("_keynameSearch").value="PolicyNumber";DCT.Util.getSafeElement("_typeOfSearchQuick").value="policy";break;case"clientname":DCT.Util.getSafeElement("_keynameSearch").value="Name";DCT.Util.getSafeElement("_typeOfSearchQuick").value="client";break;case"phone":DCT.Util.getSafeElement("_keynameSearch").value="Phone.PhoneNumber";DCT.Util.getSafeElement("_typeOfSearchQuick").value="client";break;default:DCT.Util.getSafeElement("_keynameSearch").value="PolicyNumber";DCT.Util.getSafeElement("_typeOfSearchQuick").value="policy";break}DCT.Util.getSafeElement("_keyvalueSearch").value=a;DCT.Util.getSafeElement("_keyopSearch").value="contains";DCT.ajaxProcess.submitAjax("PageForm","search")},runAdvSearch:function(){var a=this;DCT.Util.getSafeElement("_clearFilterCache").value="1";DCT.ajaxProcess.submitAjax("PageForm","search")},applySearchFilter:function(c){var b=this;if(!DCT.Util.validateFields()){return false}if(!Ext.getCmp("quoteList").isVisible()){DCT.LoadingMessage.show()}if(Ext.isEmpty(c)){var a=Ext.getCmp("searchRadioGroup").getValue();c=(a)?Ext.Object.getValues(a)[0]:null}b.policyGridDataStore=Ext.getCmp("quoteList").getStore();b.clientGridDataStore=Ext.getCmp("clientListData").getStore();switch(c){case"allPolicies":case"policy":DCT.Grid.applyFilterToDataStore(b.policyGridDataStore);break;case"allClient":case"client":DCT.Grid.applyFilterToDataStore(b.clientGridDataStore);break;case"clientname":DCT.Grid.applyFilterToDataStore(b.clientGridDataStore);c="client";break;case"phone":DCT.Grid.applyFilterToDataStore(b.clientGridDataStore);c="client";break;default:DCT.Grid.applyFilterToDataStore(b.policyGridDataStore);c="policy";break}b.activeSearchMode=c},addSearchFilter:function(){DCT.Util.getSafeElement("_clearFilterCache").value="0";DCT.Util.getSafeElement("_searchConstraintsAction").value="add";DCT.ajaxProcess.processPage("search");DCT.Util.getSafeElement("_searchConstraintsAction").value=""},removeSearchFilter:function(b){var a=Ext.getDom("searchFilterTable");DCT.Util.getSafeElement("_clearFilterCache").value="0";DCT.Util.getSafeElement("_searchConstraintsAction").value="remove";DCT.Util.getSafeElement("_actionKeyIndex").value=b-1;DCT.ajaxProcess.processPage("search");DCT.Util.getSafeElement("_searchConstraintsAction").value="";DCT.Util.getSafeElement("_actionKeyIndex").value=0},createNewClient:function(){var a=this;if(a.SUPPORT_PARTY){a.submitPartyAction("partyStart:partyAdd",'["_AddPageTitle:Add New Client"]')}else{a.newClient("clientDetail")}},editClient:function(a){var b=this;if(b.SUPPORT_PARTY){b.submitPartyAction("partyStart:partyUpdate",'["_partyIndex:'+a+'","_UpdatePageTitle:Client Information","_partyReturnStructure:none"]')}else{b.gotoPageForClient("clientDetail",a)}}});Ext.define("DCT.SharedDataDialog",{extend:"Ext.Window",dctControl:true,inputXType:"dctshareddatadialog",title:DCT.T("AcceptChanges"),plain:true,modal:true,layout:"fit",width:350,height:250,shadow:true,minWidth:175,minHeight:175,stateful:false,xtype:"dctshareddatadialog",constructor:function(a){var b=this;b.checkControlExists(a);b.setItems(a);b.setListeners(a);b.callParent([a])},setItems:function(b){var c=this;var a=Ext.getDom(b.dctDivFieldId);b.items=Ext.create("Ext.form.FormPanel",{defaultType:"displayfield",bodyBorder:false,id:"sharedFormId",formId:"sharedForm",html:(a)?a.innerHTML:"",buttons:[{text:"Yes",handler:function(){c.acceptSharedDataChanges();c.closeDialog()},scope:c},{text:"Cancel",id:"closeButton",handler:function(){c.closeDialog()},scope:c}]})},setListeners:function(a){var b=this;a.listeners={show:{fn:function(c){Ext.getCmp("closeButton").focus(false,5)},scope:b},close:{fn:function(){var c=this;c.closeDialog()},scope:b},hide:{fn:function(){var c=this;c.closeDialog()},scope:b}}},closeDialog:function(){var a=this;DCT.Util.removeTabs(false);a.destroy()},acceptSharedDataChanges:function(){var a=this;var b=Ext.DomQuery.selectNode("div[class=sharedDataValue]",a.body.dom).innerHTML;var c=Ext.getDom(a.dctElementName);if(c.type=="checkbox"){Ext.getCmp(a.dctElementName).setValue(!Ext.isEmpty(b)&&b=="1")}else{Ext.getCmp(a.dctElementName).setValue(b)}DCT.FieldsChanged.set();Ext.get(a.dctElement).setStyle("visibility","hidden")}});DCT.Util.reg("dctshareddatadialog","sharedDataDialog","DCT.SharedDataDialog");Ext.define("DCT.MessageDialog",{extend:"Ext.Window",dctControl:true,inputXType:"dctmessagedialog",width:450,height:250,minWidth:175,minHeight:175,maximizable:true,modal:true,layout:"fit",plain:true,shadow:true,stateful:false,iconImage:"warning.gif",xtype:"dctmessagedialog",constructor:function(a){var b=this;b.checkControlExists(a);b.setItems(a);b.setListeners(a);b.callParent([a])},setItems:function(a){var c=this;var b=Ext.DomHelper.createDom({tag:"img",name:"imgPopupHelpIcon",id:"imgPopupHelpIcon",src:DCT.imageDir+c.iconImage}).outerHTML;a.items=Ext.create("Ext.form.FormPanel",{defaultType:"displayfield",bodyBorder:false,id:"messageFormId",formId:"messageForm",items:[{style:"margin-top:5px;",hideLabel:true,anchor:"100%",value:"Information in policy differs from the portfolio's shared data.  What do I do?"},{hideLabel:true,anchor:"100%",html:"- Hover mouse over "+b+" to view shared data value for this field."},{hideLabel:true,anchor:"100%",html:"- Click "+b+" to update policy information with the shared data value."}],buttons:[{text:DCT.T("Close"),id:"closeButton",handler:function(){c.closeDialog()},scope:c}]})},setListeners:function(a){var b=this;a.listeners={show:{fn:function(c){Ext.getCmp("closeButton").focus(false,5)},scope:b},close:{fn:function(){b.closeDialog()},scope:b},hide:{fn:function(){b.closeDialog()},scope:b}}},closeDialog:function(){var a=this;DCT.Util.removeTabs(false);a.destroy()}});DCT.Util.reg("dctmessagedialog","messageDialog","DCT.MessageDialog");Ext.apply(DCT.Util,{showPopupMessage:function(d){var c=this;c.removeTabs(true);var b=Ext.getCmp("messageDialog");if(b){return}var a=Ext.create("DCT.MessageDialog",{title:d,id:"messageDialog"});a.show()},showShareDataChanges:function(d,a,g){var f=this;var e=Ext.getDom(g);if(Ext.isEmpty(e)){return}f.removeTabs(true);var b=Ext.getCmp("sharedDataDialog");if(b){return}var c=Ext.create("DCT.SharedDataDialog",{id:"sharedDataDialog",dctElement:d,dctElementName:a,dctDivFieldId:g});c.show()},previewSharedDataChange:function(c,a){var d=Ext.getDom(a);if(d==null){return}var b=Ext.DomQuery.selectNode("div[class=sharedDataValue]",d.document);var d=null;if(Ext.isDefined(b)){d=b}var e="-- no value --";if(!Ext.isEmpty(d)&&!Ext.isEmpty(d.innerHTML)){e=d.innerHTML}Ext.create("Ext.ToolTip",{target:c,html:e,title:DCT.T("SharedDataValue"),trackMouse:true})}});Ext.apply(DCT.Submit,{openPolicyReportButton:function(){var g=Ext.getCmp("_reportProductId");var m=g.getValue();var l=Ext.getCmp("_reportAgencyId").getValue();var f=Ext.getCmp("_reportStatusId").getValue();var e=Ext.getCmp("_reportUserId").getValue();var c=Ext.getCmp("_reportStartDateId");var h=Ext.getCmp("_reportEndDateId");var b=Ext.getCmp("_reportTaskId");var k="";if(typeof(b)!="undefined"){k=b.getValue()}var d=Ext.util.JSON.encode(Ext.apply({reportPath:g.dctReportPath,product:m,agency:l,status:f,user:e,taskStatus:k,startDate:c.getValue(),endDate:h.getValue(),appCode:"POL"}));DCT.LoadingMessage.show();var a=DCT.Util.getProxyUrl();a=a.replace("default.aspx","Reporting/ViewReport");Ext.Ajax.request({url:a,headers:{"Content-Type":"application/json; charset=UTF-8"},useDefaultHeader:true,scope:DCT.LoadingMessage,jsonData:d,success:function(o,r){var t=Ext.DomQuery;var p=o.responseXML;var s=t.selectNode("/ReportHTMLResult/ReportHTML",p);var q=Ext.getDom("oReportDiv");if(typeof(s.textContent)=="undefined"){q.innerHTML=s.text}else{q.innerHTML=s.textContent}DCT.LoadingMessage.hide()},failure:function(o,p){DCT.LoadingMessage.formsFailure}})},exportPolicyReport:function(e,g,c,h){var f=this;var a=Ext.getCmp("_reportStartDateId").getValue();var d=Ext.getCmp("_reportEndDateId").getValue();f.clearParmArray();f.addToParmArray("_targetPage",e);f.addToParmArray("_exportFormat",c);f.addToParmArray("_submitAction","reportExport");f.addToParmArray("_appCode","POL");var b=Ext.getCmp("_reportProductId");var k=b.getValue();f.addToParmArray("_reportProduct",b.getValue());f.addToParmArray("_reportPath",b.dctReportPath);f.addToParmArray("_reportAgency",Ext.getCmp("_reportAgencyId").getValue());f.addToParmArray("_reportStatus",Ext.getCmp("_reportStatusId").getValue());f.addToParmArray("_reportUser",Ext.getCmp("_reportUserId").getValue());f.addToParmArray("_reportStartDate",a);f.addToParmArray("_reportEndDate",d);f.submitPageForm(e,h);DCT.Util.getSafeElement("_submitAction").value=""}});Ext.define("DCT.ExportPolicyReportComboField",{extend:"DCT.SystemComboField",inputXType:"dctexportpolicyreportcombofield",xtype:"dctexportpolicyreportcombofield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{select:{fn:function(f,c,d){var e=this;e.processFunction(f,c)},scope:b}})},processFunction:function(c,a){var b=this;DCT.Submit.exportPolicyReport(b.dctTargetPage,b.dctReportPath,c.getValue(),b.dctActionButton)}});DCT.Util.reg("dctexportpolicyreportcombofield","exportPolReportComboField","DCT.ExportPolicyReportComboField");Ext.define("DCT.ReportProductFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctreportproductfiltercombofield",xtype:"dctreportproductfiltercombofield"});DCT.Util.reg("dctreportproductfiltercombofield","reportProductFilterComboField","DCT.ReportProductFilterComboField");Ext.define("DCT.ReportStatusFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctreportstatusfiltercombofield",xtype:"dctreportstatusfiltercombofield"});DCT.Util.reg("dctreportstatusfiltercombofield","reportStatusFilterComboField","DCT.ReportStatusFilterComboField");Ext.define("DCT.ReportAgencyFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctreportagencyfiltercombofield",xtype:"dctreportagencyfiltercombofield"});DCT.Util.reg("dctreportagencyfiltercombofield","reportAgencyFilterComboField","DCT.ReportAgencyFilterComboField");Ext.define("DCT.ReportUserFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctreportuserfiltercombofield",xtype:"dctreportuserfiltercombofield"});DCT.Util.reg("dctreportuserfiltercombofield","reportUserFilterComboField","DCT.ReportUserFilterComboField");Ext.define("DCT.ReportTaskFilterComboField",{extend:"DCT.SystemComboField",inputXType:"dctreporttaskfiltercombofield",xtype:"dctreporttaskfiltercombofield"});DCT.Util.reg("dctreporttaskfiltercombofield","reportTaskFilterComboField","DCT.ReportTaskFilterComboField");Ext.ns("DCT.ValidationLogs");Ext.apply(DCT.ValidationLogs,{validationLogData:null,validationLogWindow:null,requestInProgress:false,minimized:true,hasValidationsElem:true,close:function(){var c=this;var b=c.validationLogWindow||Ext.getCmp("validationLogWindow");if(b){b.destroy()}var a=Ext.get("validationsRestoreHelper");if(a){a.remove()}},showValidationLogDialog:function(){var b=this;var a=b.validationLogWindow||Ext.get("validationLogWindow")||Ext.getCmp("validationLogWindow");if(a==null&&!b.requestInProgress&&b.hasValidationsElem){b.requestInProgress=true;if(b.validationLogData==null){Ext.Ajax.request({url:DCT.Util.getPostUrl(),method:"POST",success:function(c,d){var e=c.responseText;if(!Ext.isEmpty(e)){if(Ext.String.startsWith(e,"<validationLogData",true)){b.validationLogData=DCT.Util.loadXMLString(e);DCT.ValidationLogs.initValidationLogDialog(b.validationLogData)}else{b.hasValidationsElem=false}}b.requestInProgress=false},scope:DCT.LoadingMessage,params:{_submitAction:"validationLogs",_SuppressAutoSave:"1",_quoteId:DCT.Util.getSafeElement("_QuoteID").value}})}else{b.initValidationLogDialog(b.validationLogData)}}},initValidationLogDialog:function(c){var g=this;var f="";logs=Ext.DomQuery.select("validationLogData/validation[@message]",c);if(logs==null||logs.length<1){g.validationLogData="No validation log data";f="<h2>No field corrections for the current quote.</h2>"}else{for(var d=0;d<logs.length;d++){var e="<h2><b>Field: </b>";var h=Ext.DomQuery.selectValue("@fieldName",logs[d]);var k=Ext.DomQuery.selectValue("@message",logs[d]);var a=Ext.DomQuery.selectValue("@oldValue",logs[d]);var b=Ext.DomQuery.selectValue("@newValue",logs[d]);if(h!=null&&h!=""){e+=h}e+="\n</h2>";if(a!=null&&a!=""){e+="<p><b>Was</b>: "+a+"\n</p>"}if(b!=null&&b!=""){e+="<p><b>Is Now: </b>: "+b+"\n</p>"}if(k!=null&&k!=""){e+="<p><b>Error: </b>: "+k+"\n\n</p>"}f+=e}}g.validationLogWindow=Ext.create("Ext.Window",{id:"validationLogWindow",width:320,minWidth:276,minHeight:320,height:420,zoomIncrement:0.05,hideCollapseTool:true,maximizable:false,closable:false,frame:false,html:'<div class="container" background:>'+f+"</div>",header:{xtype:"panel",frame:false,border:false,height:30,id:"validationLogHeader",style:{background:"transparent","margin-top":5,border:"none","box-shadow":"none !important","float":"right"},items:[{xtype:"button",id:"validationMinimize",iconCls:"spotlightMinusIcon",style:{border:"none",background:"#006699",height:"25px",width:"25px","border-radius":"5px","margin-right":"5px","float":"right"},listeners:{afterrender:function(l){Ext.tip.QuickTipManager.register({target:l.getId(),cls:"x-tip-validationLog",text:"Hide",listeners:{beforerender:function(m,p,o){alert("hiiihh")}}})}},handler:Ext.bind(function(){Ext.getCmp("validationLogWindow").collapseValidations()},this)},{xtype:"panel",id:"validationTitleText",html:'<div class="validationTitleText">Automatic Corrections</div>'}]},Style:{background:"transparent",position:"fixed !important","box-shadow":"none"},collapseValidations:function(){var l=this;Ext.DomHelper.append("relatedActions",{tag:"b",onclick:"Ext.getCmp('validationLogWindow').restoreValidations(this);",cls:"fieldValidationsExpandIcon",id:"validationsRestoreHelper",style:"float:right;cursor: pointer;"});DCT.ValidationLogs.minimized=true;l.hide()},restoreValidations:function(l){var m=this;DCT.ValidationLogs.minimized=false;m.show();if(l.remove){l.remove()}else{l.removeNode()}},closeToolText:"",resizable:true,liveDrag:true,guid:DCT.Util.getWindowGuid(),plain:true,scrollable:true,shadow:false,modal:false,focusOnToFront:true,toFrontOnShow:true,alwaysOnTop:true,tbar:["->"],listeners:{show:{fn:function(o,l){var m=this;o.setStyle({left:"auto",right:"200px",top:"15%"})},scope:g}}});if(g.minimized){g.validationLogWindow.collapseValidations()}else{g.validationLogWindow.show()}}});Ext.apply(DCT.Util,{checkIfAllocationAndPaymentFieldsBlank:function(){return(DCT.Util.checkIfPaymentFieldsBlank()||DCT.Util.checkIfAllocationFieldsBlank())},checkIfAllocationFieldsBlank:function(){var d=Ext.getCmp("paymentType").getValue();var g=Ext.getCmp("_otherAmountId");var b=parseFloat(g.formatting.formatNumberToUS(g.getValue()));var f=false;var e=false;var a=false;if(d=="A"){if(b==0){f=true}else{f=false}}if(Ext.getCmp("manuallyAllocatePaymentId").getValue()){var c=Ext.get("amountAllocatedTotalId").getValue();if(parseFloat(c)==0){e=true}else{e=false}}if(Ext.getCmp("otherAmountId").getValue()){if(b>0){a=false}else{a=true}}if((f)||(e)||(a)){return true}else{return false}},checkIfReverseReasonFieldBlank:function(){var a=Ext.getCmp("revReasonField").getValue();var b=Ext.getCmp("WriteOffWaivedList").getSelectionModel().getCount();if(a==""||(b==0)){return true}return false},checkIfPaymentFieldsBlank:function(){return(DCT.Util.checkIfPaymentFieldsBlankv2())},checkIfPaymentFieldsBlankv2:function(){var k=DCT.Util.getSafeElement("_hiddenPartyType").value;var d=false;var v=false;var p=Ext.getCmp("paymentType").getValue();var f=Ext.getCmp("paymentType").isValid();var C=Ext.getCmp("paymentMethod").getValue();var O=Ext.getCmp("paymentMethod").isValid();var N=Ext.getCmp("checkRecvDate").getValue();var H=Ext.getCmp("paymentAmount");var M=0;if(H){var J=H.getValue();M=(Ext.isEmpty(J))?0:parseFloat(H.formatting.formatNumberToUS(J));v=true}else{v=false}var g=false;var L=false;var D=false;var K;var u;var Q;var q;var G;var l;var x;switch(C){case"CK":var h="";if(Ext.getCmp("firstName")!=undefined){h=Ext.getCmp("firstName").getValue()}if(Ext.getCmp("lastName")!=undefined){h=h+Ext.getCmp("lastName").getValue()}if((Ext.isEmpty(C))||(Ext.isEmpty(p))||(Ext.isEmpty(h))){g=true}else{g=false}break;case"CC":case"CS":if((Ext.isEmpty(N))||(Ext.isEmpty(C))||(Ext.isEmpty(p))){g=true}else{g=false}break;case"WT":if(Ext.isEmpty(N)){g=true}else{g=false}break;case"EC":if(!Ext.isEmpty(k)){if(k!="O"){var b=Ext.getCmp("firstName").getValue();d=Ext.isEmpty(b)}}var E=Ext.getCmp("lastName").getValue();var F=Ext.getCmp("bankAccountNumber").getValue();var c=Ext.getCmp("bankAcctType").getValue();var e=Ext.getCmp("bankRouteNumber").getValue();var o=Ext.getCmp("phone").isValid();var y=Ext.getCmp("email").isValid();var m=Ext.getCmp("postalCode").isValid();K=Ext.getCmp("address").getValue();u=Ext.getCmp("city").getValue();Q=Ext.getCmp("state").getValue();q=Ext.getCmp("postalCode").getValue();G=Ext.getCmp("country").getValue();l=Ext.getCmp("phone").getValue();x=Ext.getCmp("email").getValue();if((!(O))||(!(f))||(!(y))||(!(o))||(!(m))||(Ext.isEmpty(N)||d||Ext.isEmpty(E)||Ext.isEmpty(F)||Ext.isEmpty(e)||Ext.isEmpty(c)||Ext.isEmpty(K)||Ext.isEmpty(u)||Ext.isEmpty(Q)||Ext.isEmpty(q)||Ext.isEmpty(G)||Ext.isEmpty(l)||Ext.isEmpty(x))){g=true}else{g=false}break;case"DC":case"PAC":case"PAD":if(!Ext.isEmpty(k)){if(k!="O"){var r=Ext.getCmp("firstName").getValue();d=Ext.isEmpty(r)}}var s=Ext.getCmp("cardType").getValue();var a=Ext.getCmp("cardType").isValid();var P=Ext.getCmp("lastName").getValue();var B=Ext.getCmp("_cardNumberId").getValue();var w=Ext.getCmp("_cardNumberId").isValid();var I=Ext.getCmp("expMonth").getValue();var A=Ext.getCmp("expYear").getValue();var z=Ext.getCmp("expMonth").isValid();var t=Ext.getCmp("expYear").isValid();var m=Ext.getCmp("postalCode").isValid();var o=Ext.getCmp("phone").isValid();var y=Ext.getCmp("email").isValid();K=Ext.getCmp("address").getValue();u=Ext.getCmp("city").getValue();Q=Ext.getCmp("state").getValue();q=Ext.getCmp("postalCode").getValue();G=Ext.getCmp("country").getValue();l=Ext.getCmp("phone").getValue();x=Ext.getCmp("email").getValue();if((!(a))||(!(z))||(!(t))||(!(w))||(!(m))||(!(o))||(!(y))||(Ext.isEmpty(N)||Ext.isEmpty(s)||d||Ext.isEmpty(P)||Ext.isEmpty(B)||Ext.isEmpty(I)||Ext.isEmpty(A)||Ext.isEmpty(K)||Ext.isEmpty(u)||Ext.isEmpty(Q)||Ext.isEmpty(q)||Ext.isEmpty(G)||Ext.isEmpty(l)||Ext.isEmpty(x))){g=true}else{g=false}break}if(v){if(M==0){D=true}else{D=false}}if((Ext.isEmpty(p))||(Ext.isEmpty(C))||(g)||(L)||(D)){return true}return false},checkIfReferenceFieldsBlank:function(d){var b=Ext.getCmp("unidentifedLastname").getValue();var c=Ext.getCmp("unidentifedAccount").getValue();var e=Ext.getCmp("unidentifedPolicy").getValue();var a=Ext.getCmp("unidentifedOtherInfo").getValue();var f=Ext.get("_hiddenAccountId").getValue();if(Ext.isDefined(d)){if(d=="accountPolicyName"){if(Ext.isEmpty(f)){return true}}if(d=="unidentified"){if((Ext.isEmpty(b))&&(Ext.isEmpty(c))&&(Ext.isEmpty(e))&&(Ext.isEmpty(a))){return true}}}else{if((Ext.isEmpty(b))&&(Ext.isEmpty(c))&&(Ext.isEmpty(e))&&(Ext.isEmpty(a))&&(Ext.isEmpty(f))){return true}}return false},checkIfReferenceAndPaymentFieldsBlank:function(a){return(DCT.Util.checkIfPaymentFieldsBlank()||DCT.Util.checkIfReferenceFieldsBlank(a))},checkIfSuspenseFieldBlank:function(a){var b=Ext.getCmp("SuspenseList").getSelectionModel().getCount();if(Ext.isEmpty(a)||(b==0)){return true}return false},checkIfOpenItemsFieldBlank:function(){var a=Ext.getCmp("openItemsActionField").getValue();var b=Ext.getCmp("openItemsList").getSelectionModel().getCount();if(Ext.isEmpty(a)||(b==0)){return true}return false},checkIfStatementFieldBlank:function(){var a=Ext.getCmp("statementActionField").getValue();var b=Ext.getCmp("scheduledItemsList").getSelectionModel().getCount();if(Ext.isEmpty(a)||(b==0)){return true}return false},checkIfPromiseToPayAndPaymentFieldsBlank:function(){return(DCT.Util.checkIfPaymentFieldsBlank()||DCT.Util.checkIfPromiseToPayFieldsBlank())},checkIfPromiseToPayFieldsBlank:function(){var d=Ext.getCmp("paymentAmount");var b=parseFloat(d.formatting.formatNumberToUS(d.getValue()));var e=false;var a=false;if(Ext.getCmp("allPromiseToPayId")){var c=Ext.getDom("amountAllocatedTotalId").value;if(parseFloat(c)==0){e=true}else{e=false}}if(b>0){a=false}else{a=true}if((e)||(a)){return true}else{return false}}});Ext.apply(DCT.Util,{updateStatementSummaryTotals:function(b,f,m){var a="0",h="0.00",e="0.00",l="0.00",c="0.00",d="0.00",g="0.00",k="0.00";if(f.length>0){statementHeaderNode=Ext.DomQuery.select("StatementHeader",b.proxy.reader.rawData);a=Ext.DomQuery.selectValue("ItemCount",statementHeaderNode);h=Ext.DomQuery.selectValue("TotalGross",statementHeaderNode);e=Ext.DomQuery.selectValue("TotalCommission",statementHeaderNode);l=Ext.DomQuery.selectValue("TotalSurcharge",statementHeaderNode);c=Ext.DomQuery.selectValue("TotalFee",statementHeaderNode);d=Ext.DomQuery.selectValue("TotalNet",statementHeaderNode);g=Ext.DomQuery.selectValue("TotalRemitted",statementHeaderNode);k=Ext.DomQuery.selectValue("Balance",statementHeaderNode)}Ext.getDom("itemsTotalId").innerHTML=a;Ext.getDom("grossAmountId").innerHTML=h;Ext.getDom("commissionAmountId").innerHTML=e;Ext.getDom("surchargesId").innerHTML=l;Ext.getDom("feesId").innerHTML=c;Ext.getDom("netAmountId").innerHTML=d;Ext.getDom("remittedAmountId").innerHTML=g;Ext.getDom("balanceDueId").innerHTML=k},formatAmounts:function(d,c){var b;if(typeof(c)=="undefined"){c="0.00"}var a=Ext.create("DCT.Formatting",{numberType:"float",numberMask:d});b=a.formatFloat(c);if(b.charAt(0)=="-"){b="("+b.substr(1)+")"}return b},setPromiseToPayListTotals:function(){var b=DCT.Util.getSafeElement("_hiddenPaymentAmount").value;var d=0;if(Ext.get("promiseToPayListGroup")){var a=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});for(i=1;i<Ext.getDom("tblItemListDetail").rows.length;i++){var c=Ext.get("_hiddenProcessDefaultAmountId_"+i);var e=(c)?c.getValue():0;Ext.getDom("_hiddenProcessAmountId_"+i).value=Number(e).toFixed(2);Ext.getDom("_processAmountId_"+i).value=a.formatFloat(Ext.getDom("_hiddenProcessAmountId_"+i).value);d+=parseFloat(e)}Ext.getDom("totalSuspenseAmtId").value=b;Ext.getDom("amountRemainingTotalId").value=Number(b-d).toFixed(2);Ext.get("displayTotalRemAmount").update(a.formatFloat(Ext.getDom("amountRemainingTotalId").value));Ext.getDom("amountAllocatedTotalId").value=d.toFixed(2);Ext.get("displayTotalAmount").update(a.formatFloat(Ext.getDom("amountAllocatedTotalId").value))}}});Ext.apply(DCT.Util,{cancelApproval:function(c,b,g){DCT.Util.getSafeElement("_statementStatus").value="";DCT.Util.hideShowGroup("approveStatement",false);var d=b.split("|");for(var a=0;a<d.length;a++){var f=d[a].split("!");if(f[1]=="button"){DCT.Util.enableDisableActionButton(false,f[0])}else{Ext.getCmp(f[0]).setDisabled(false)}}var e=g.split("!");if(Ext.getCmp(e[0]).getValue()!=""){DCT.Util.enableDisableActionButton(false,e[1]);Ext.getCmp(e[0]).setDisabled(false)}Ext.getCmp(c).focus()},cancelItemRemoval:function(c,d,a){DCT.Util.hideShowGroup("removeItems",false);var e=d.split("|");for(var b=0;b<e.length;b++){var f=e[b].split("!");if(f[1]=="button"){DCT.Util.enableDisableActionButton(false,f[0])}else{Ext.getCmp(f[0]).setDisabled(false)}}if(a.grid.getSelectionModel().isLocked()){a.grid.getSelectionModel().unlock()}Ext.getCmp(c).focus()}});Ext.apply(DCT.Util,{displayBillingComment:function(b,a,h,c,g){var e=this;var k=Ext.getCmp("cmtsDisplayPopup");if(k){return}e.removeTabs(true);var d=Ext.create("DCT.BillingDisplayComment",{dctExtRecordId:a,dctCommentText:h,dctCmtCreationDate:c,dctCmtOriginator:g,dctDataStore:(b!=null)?Ext.getCmp(b).getStore():null});var f=Ext.create("DCT.BaseWindow",{title:DCT.T("Comments"),width:400,height:400,id:"cmtsDisplayPopup",items:d,dctFocusFieldId:"_cmtCancelButton"});f.show()},displayAddBillingCommentsPopUp:function(l,f,d,e,c,h,m,k){var b=Ext.getCmp("commentsAddPopup");if(b){return}var a=Ext.create("DCT.BillingAddComment",{dctTargetPage:l,dctDataStore:f,dctItemId:d,dctItemTypeCode:e,dctHiddenCommentField:c,dctHiddenCmtTypeCode:h,dctViewAnchorField:m,dctHideOnStatementCheckbox:k});var g=Ext.create("DCT.BaseWindow",{title:DCT.T("AddItemComment"),width:500,height:300,id:"commentsAddPopup",items:a,dctFocusFieldId:"_commentEntry"});g.show()}});Ext.define("DCT.BillingAddComment",{extend:"DCT.AddComment",inputXType:"dctbillingaddcomment",xtype:"dctbillingaddcomment",setPanelItems:function(a){var b=this;a.items=[{style:"margin-top:5px;",hideLabel:true,boxLabel:DCT.T("ShowCommentOnStatement"),xtype:"checkbox",name:"_commentOnStatement",id:"_commentOnStatement",anchor:"100%",hidden:(Ext.isDefined(a.dctHideOnStatementCheckbox))?a.dctHideOnStatementCheckbox:false},{hideLabel:true,xtype:"textarea",name:"_commentEntry",id:"_commentEntry",anchor:"100% -45",listeners:{afterrender:{fn:function(c){b.el.on("contextmenu",Ext.emptyFn,null,{preventDefault:true})},scope:b},keyup:{fn:function(c){b.setAddButtonState(c.getValue())},scope:b}}}]},saveAdd:function(){var c=this;DCT.Util.getSafeElement("_commentStatus").value="A";DCT.Util.getSafeElement("_commentCode").value="OTHR";var b=Ext.getCmp("_commentEntry");var a=Ext.getCmp("_commentOnStatement").getValue();if(!Ext.isEmpty(c.dctTargetPage)){DCT.Util.getSafeElement("_targetPage").value=c.dctTargetPage;DCT.Util.getSafeElement("_submitAction").value="addComment";DCT.Util.getSafeElement("_commentTypeCode").value="CI";DCT.Util.getSafeElement("_commentDescription").value=b.getValue();if(a){DCT.Util.getSafeElement("_commentTypeCode").value="CP"}if(!Ext.isDefined(c.dctItemId)){c.dctDataStore.grid.assignGridSelection(false,DCT.Grid.getItemIdAndItemTypeForGridProcessing);c.dctDataStore.loadPage(1,{callback:function(e,d,f){DCT.Util.getSafeElement("_submitAction").value=""}})}else{DCT.Util.getSafeElement("_itemId").value=c.dctItemId;DCT.Util.getSafeElement("_itemTypeCode").value=c.dctItemTypeCode;c.dctDataStore.loadPage(1,{callback:function(e,d,f){DCT.Util.getSafeElement("_submitAction").value=""}})}c.ownerCt.closeWindow()}else{DCT.Util.getSafeElement(c.dctHiddenCommentField).value=b.getValue().replace(/,/g,"");if(a){DCT.Util.getSafeElement(c.dctHiddenCmtTypeCode).value="CP"}else{DCT.Util.getSafeElement(c.dctHiddenCmtTypeCode).value="CI"}DCT.Util.hideShowGroup(c.dctViewAnchorField,true);c.ownerCt.closeWindow()}}});Ext.define("DCT.BillingDisplayComment",{extend:"DCT.DisplayComment",inputXType:"dctbillingdisplaycomment",xtype:"dctbillingdisplaycomment",formId:"commentsForm",setPanelItems:function(b){var c="";var d="";if(b.dctExtRecordId){var h=b.dctDataStore.getById(b.dctExtRecordId);if(h){var g=h.data.ItemCmtDate;var e=h.data.ItemCmtOriginator;var k=h.data.ItemCmtDescription;var l=Ext.getDom("_hiddenDisplayDtMask").value;var a=Ext.Date.format(g,l+", g:i a");var f=Number(h.data.ItemCmtSize);c=a+" : "+e;d=k;if(f>200){d=d+"..."}}}else{if((b.dctCmtCreationDate)&&(b.dctCmtOriginator)){c=b.dctCmtCreationDate+" : "+b.dctCmtOriginator}d=b.dctCommentText}b.items=[{style:"margin-top:5px;",hideLabel:true,id:"commentDate",anchor:"100%",value:c},{hideLabel:true,id:"commentDescription",anchor:"100%",value:d}]},setPanelButtons:function(c){var f=this;var e=[];if(c.dctExtRecordId){var d=c.dctDataStore.getById(c.dctExtRecordId);if(d){if(d.store.proxy.reader.rawData.parentNode.baseName!="ClosedMatchList"){var b=Number(d.data.ItemCmtCount);var a=Number(d.data.ItemCmtSize);var h=d.data.ItemObjectId;var g=d.data.ItemObjectType;e.push({text:DCT.T("More"),id:"_cmtMoreButton",hidden:(b<2&&a<200),handler:function(){DCT.Submit.gotoScheduleItemDetail(h,g);f.ownerCt.closeWindow()},scope:f})}}}e.push({text:DCT.T("Cancel"),id:"_cmtCancelButton",handler:function(){f.ownerCt.closeWindow()},scope:f});c.buttons=e}});Ext.apply(DCT.Util,{removefield:function(a){if(Ext.get(a)){Ext.get(a).remove(false)}}});Ext.apply(DCT.Submit,{billingQuickSearch:function(b,a,d){var c=this;DCT.Util.getSafeElement("_accountId").value="";DCT.Util.getSafeElement("_searchNumber").value=b;DCT.Util.getSafeElement("_searchType").value=a;switch(a){case"party":DCT.Util.getSafeElement("_submitAction").value="partyStart:partySearch";DCT.Util.getSafeElement("__submitAction").value="accountSearch";DCT.Util.getSafeElement("__overrideTarget").value="accountSummary";break;default:if(!DCT.Util.validateBillingScreen(d)){return}DCT.Util.getSafeElement("_submitAction").value="accountSearch";DCT.Util.getSafeElement("_targetPage").value="accountSummary";DCT.Submit.setActiveParent("billingDashBoard");break}c.secureAction("");c.submitForm();Ext.event.Event.stopEvent},submitBillingPageActionWithCheck:function(e,d,b,a){var c=this;if(typeof(b)!="undefined"){if(!b){if(DCT.Util.isButtonDisabled(a)){return}}}if(DCT.Util.validateBillingScreen(e,a)){DCT.Util.getSafeElement("_targetPage").value=e;DCT.Util.getSafeElement("_submitAction").value=d;c.secureAction(e);c.submitForm()}},submitBillingPageAction:function(e,d,b,a){var c=this;if(typeof(b)!="undefined"){if(!b){if(DCT.Util.isButtonDisabled(a)){return}}}if(DCT.Util.validateBillingScreen(d,a)){DCT.Util.getSafeElement("_targetPage").value=e;DCT.Util.getSafeElement("_submitAction").value=d;c.secureAction(e);c.submitForm()}},submitBillingAccountSummaryPage:function(a,b){DCT.Util.getSafeElement("_accountId").value=b;DCT.Submit.submitBillingPage(a)},submitBillingPageTransferPolicyAction:function(b,a){DCT.Util.getSafeElement("_transferOption").value=a;DCT.Submit.submitBillingPage(b)},submitBillingPageEditHoldBillingForAccountAction:function(d,c,b,a){if(DCT.Util.validateEditHoldEndDate()){DCT.Util.getSafeElement("_isResumeAction").value="0";DCT.Submit.submitBillingPageAction(d,c,b,a)}},submitBillingPageHoldForAccountAction:function(d,c,b,a){if(DCT.Util.validateEditHoldEndDate()){DCT.Submit.submitBillingPageAction(d,c,b,a)}},submitEditHoldDisbBillingPage:function(d,c,b,a){DCT.Util.getSafeElement("EventHoldEdit").value=b;DCT.Util.getSafeElement("_editBillingHoldMode").value="HD";DCT.Submit.submitBillingPageAction(d,c,b,a)},submitEditHoldBillingPage:function(d,c,b,a){DCT.Util.getSafeElement("EventHoldEdit").value=b;DCT.Submit.submitBillingPage(d)},submitBillingPageTransferToCollectionsAction:function(e,d,c,a,b){DCT.Util.getSafeElement("_collectionAccountTo").value=Ext.getCmp(b).getSelectionModel().getSelection()[0].id;DCT.Util.getSafeElement("_agencyReference").value=Ext.getCmp(b).getSelectionModel().getSelection()[0].data.AgencyReference;DCT.Submit.submitBillingPageAction(e,d,c,a)},submitReferenceSearch:function(a,c){var b=this;DCT.Util.getSafeElement("_accountId").value="";DCT.Util.getSafeElement("_targetPage").value=c;switch(a){case"account":case"policy":if(!DCT.Util.validateBillingScreen("referenceSearch")){return}DCT.Util.getSafeElement("_submitAction").value="accountBatchSearch";DCT.Util.getSafeElement("_searchMode").value=a;break;case"party":DCT.Util.getSafeElement("_submitAction").value="partyStart:partyInvolvementSearch";DCT.Util.getSafeElement("_searchMode").value=a;DCT.Util.getSafeElement("__submitAction").value="accountBatchSearch";break}b.secureAction("");b.submitForm()},submitTransferToSearch:function(b,a,d){var c=this;DCT.Util.getSafeElement("_accountId").value="";DCT.Util.getSafeElement("_targetPage").value=d;DCT.Util.getSafeElement("_searchNumber").value=b;DCT.Util.getSafeElement("_searchType").value=a;switch(a){case"account":case"policy":if(!DCT.Util.validateBillingScreen("transferToAccountSearch")){return}DCT.Util.getSafeElement("_submitAction").value="accountSearch";break;case"party":DCT.Util.getSafeElement("_submitAction").value="partyStart:partyInvolvementSearch";DCT.Util.getSafeElement("_searchByNbr").value="";DCT.Util.getSafeElement("__submitAction").value="accountSearch";break}c.secureAction("");c.submitForm()},submitBillingPage:function(b){var a=this;DCT.Util.getSafeElement("_targetPage").value=b;if(b=="policySummary"){DCT.Util.getSafeElement("_policyId").value=""}a.secureAction(b);a.submitForm()},submitBillingSuspenseAction:function(e,g){var c=this;if(DCT.Util.isButtonDisabled(g)){return}var b=Ext.getCmp(e);var a=b.getStore();var d=Ext.getCmp("billingSuspenseActionField").getValue();switch(d){case"P":case"M":case"N":DCT.Util.getSafeElement("_targetPage").value="suspenseList";DCT.Util.getSafeElement("_submitAction").value="suspenseHold";break;case"DB":DCT.Util.getSafeElement("_targetPage").value="refundToSourcePayment";break;case"MA":DCT.Util.getSafeElement("_targetPage").value="allocateSuspensePayment";break;case"TR":DCT.Util.getSafeElement("_targetPage").value="transferPayment";break;case"WO":DCT.Util.getSafeElement("_targetPage").value="writeOffPayment";break}if(DCT.Util.validateBillingScreen("suspenseList",g)){if(d=="DB"){if(!DCT.Util.validateAvailableForDisbursement(a)){DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("Only one Refund Method, Account Number or Card allowed per Disbursement. Please uncheck the invalid item/items."),function(h){DCT.Util.removeTabs(false)},c);return}}if(!DCT.Util.validateECheckAuthorizedAction(d,a)){var f;if(d=="DB"){f="Disbursement "}else{if(d=="WO"){f="Write-off "}else{if(d=="TR"){f="Transfer "}}}f=f+"cannot be processed when the payment status is pending.";Ext.Msg.alert(DCT.T("Alert"),DCT.T(f),function(h){});return}if(!DCT.Util.validateCardCapturedAction(d,a)){var f="You cannot "+(d=="DB"?"disburse ":"write-off ")+"Card payments that have been not Settled.";Ext.Msg.alert(DCT.T("Alert"),DCT.T(f),function(h){});return}if(d=="P"||d=="M"||d=="N"){if(DCT.Util.validateAvailableForHoldorRelease(a)){b.assignGridSelection(true,"");c.secureAction(DCT.Util.getSafeElement("_targetPage").value);c.submitForm()}else{DCT.Util.getSafeElement("_submitAction").value="";DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("One or more of the selected items is already set to the chosen action. Please uncheck the invalid item/items."),function(h){DCT.Util.removeTabs(false)},c)}}else{b.assignGridSelection(false,"");c.secureAction(DCT.Util.getSafeElement("_targetPage").value);c.submitForm()}}},processReversal:function(c,b,d,e){var a=this;if(!DCT.Util.isButtonDisabled(e)){Ext.getCmp(d).assignGridSelection(true,"");DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_submitAction").value=b;a.secureAction(c);a.submitForm()}},submitBillingActivity:function(d,b,a){var c=this;if(DCT.Util.getSafeElement("_activeParentPage").value==""){DCT.Submit.setActiveParent("billingDashBoard")}switch(d){case"account":DCT.Util.getSafeElement("_targetPage").value="accountSummary";DCT.Util.getSafeElement("_accountId").value=b;break;case"policy":DCT.Util.getSafeElement("_targetPage").value="policySummary";DCT.Util.getSafeElement("_policyId").value=b;break;case"payment":DCT.Util.getSafeElement("_targetPage").value="paymentDetails";DCT.Util.getSafeElement("_technicalId").value=b;break;case"invoice":DCT.Util.getSafeElement("_targetPage").value="invoiceDetails";DCT.Util.getSafeElement("_technicalId").value=b;break;case"disbursement":DCT.Util.getSafeElement("_targetPage").value="viewDisbursementDetails";DCT.Util.getSafeElement("_technicalId").value=b;break;case"writeoff":DCT.Util.getSafeElement("_targetPage").value="writeoffDetails";DCT.Util.getSafeElement("_technicalId").value=b;break;case"writeoffinstallment":DCT.Util.getSafeElement("_targetPage").value="installmentSchedule";DCT.Util.getSafeElement("_technicalStartDate").value=b;break;case"paymentwriteoff":DCT.Util.getSafeElement("_targetPage").value="paymentWriteOffDetails";DCT.Util.getSafeElement("_technicalId").value=b;break;case"eftRequest":DCT.Util.getSafeElement("_targetPage").value="eftRequestDetails";DCT.Util.getSafeElement("_technicalId").value=b;break}c.secureAction(d);c.submitForm()},submitPaymentSuspenseAction:function(a){var d=this;if(DCT.Util.isButtonDisabled("suspendPaymentA")){return}var c=Ext.getCmp(a);var b=c.getStore();DCT.Util.getSafeElement("_targetPage").value="suspendPayment";c.assignGridSelection(false,"");if(DCT.Util.validateAvailableForSuspense(b)){d.secureAction("suspendPayment");d.submitForm()}else{DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("SelectedItemNotAvailableToSuspend"),function(e){DCT.Util.removeTabs(false)},d)}},submitBillingProcessAction:function(c,a){var b=this;DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_technicalId").value=a;b.secureAction(c);b.submitForm()},submitBillingInstallment:function(d,c,a,e){var b=this;DCT.Util.getSafeElement("_targetPage").value=d;DCT.Util.getSafeElement("_technicalStartDate").value=c;DCT.Util.getSafeElement("_technicalId").value=a;DCT.Util.getSafeElement("_technicalCode").value=e;b.secureAction(d);b.submitForm()},submitBillingInvoiceReprint:function(c,b,d){var a=this;DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_submitAction").value=b;DCT.Util.getSafeElement("_invoiceId").value=d;a.secureAction(c);a.submitForm()},deleteBatchPayment:function(e,d,a,c){var b=this;DCT.Util.getSafeElement("_targetPage").value=e;DCT.Util.getSafeElement("_submitAction").value=d;DCT.Util.getSafeElement("_paymentId").value=a;DCT.Util.getSafeElement("_paymentTS").value=c;b.secureAction(e);b.submitForm()},editBatchPayment:function(c,a){var b=this;DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_batchPaymentId").value=a;b.secureAction(c);b.submitForm()},processBatchItems:function(f,d,k){var h=this;if(DCT.Util.isButtonDisabled(k)){return}if(DCT.Util.validateBillingScreen(d)){var a=Ext.getCmp("_processAction").getValue();switch(a){case"delete":var g;var c=Ext.getCmp("waitingDepositBatchList");var b=c.getStore();var e=c.getSelectionModel();Ext.getDom("_submitAction").value=d;c.assignGridSelection(true,"");b.loadPage(1,{callback:function(m,l,o){DCT.Util.getSafeElement("_submitAction").value=""}});e.clearSelections();e.allSelected=false;e.setPageSelections();break;case"deposit":case"print":case"reverse":DCT.Util.getSafeElement("_targetPage").value=f;DCT.Util.getSafeElement("_submitAction").value=d;Ext.getCmp("waitingDepositBatchList").assignGridSelection(false,"");h.secureAction(f);h.submitForm();break}}},processBatchItem:function(d,c,e){var b=this;if(DCT.Util.isButtonDisabled(e)){return}if(DCT.Util.validateBillingScreen(c,e)){DCT.Util.getSafeElement("_processAction").value="deposit";DCT.Util.getSafeElement("_targetPage").value=d;DCT.Util.getSafeElement("_submitAction").value="processBatch";var a=new Array();a[a.length]=Ext.get("_technicalId").getValue();DCT.Util.getSafeElement("_gridSelectionArray").value=a;b.secureAction(d);b.submitForm()}},processResume:function(d,c,b,f){if(b==""){var a=Ext.getCmp("holdBillingIndefinitely");if(!Ext.isEmpty(a)){Ext.getCmp("holdBillingIndefinitely").setValue(false);var e=Ext.getCmp("holdEndDate");e.enable();e.adjustDate(0)}}DCT.Util.getSafeElement("_isResumeAction").value="1";DCT.Submit.submitBillingPageAction(d,c,false,f)},submitStopDisbursementInterfaceRequest:function(b,a,c){DCT.Util.getSafeElement("_actionType").value="stop";DCT.Submit.submitBillingPageAction(b,a,false,c)},submitResetSystemDate:function(b,a,c){DCT.Util.getSafeElement("_resetSytemDate").value="1";DCT.Submit.submitBillingPageAction(b,a,false,c)},reverseBatchItems:function(c,b,d){var a=this;if(DCT.Util.isButtonDisabled(d)){return}DCT.Util.getSafeElement("_processAction").value="reverse";DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_submitAction").value=b;Ext.getCmp("depositedBatchList").assignGridSelection(false,"");a.secureAction(c);a.submitForm()},searchPartyForInsured:function(){var a=this;DCT.Util.getSafeElement("_submitAction").value="partyStart:partySearch";a.secureAction("");a.submitForm()},submitBillingStatement:function(c,b){var a=this;DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_defaultStatementDate").value=b;a.secureAction(c);a.submitForm()},setStatementStatus:function(b,f,e){DCT.Util.getSafeElement("_statementStatus").value=b;if(b=="A"){DCT.Util.hideShowGroup("approveStatement",true);var c=f.split("|");for(var a=0;a<c.length;a++){var d=c[a].split("!");if(d[1]=="button"){DCT.Util.enableDisableActionButton(true,d[0])}else{Ext.getDom(d[0]).disabled=true}}}else{DCT.Submit.submitBillingPageAction("agencyStatement","setStatementStatus",false,e)}},applyAgencyAction:function(c,m,b,g){var h=this;var a=Ext.getCmp(c).getValue();switch(a){case"DI":if(DCT.Util.validateAvailableForDeletion(b)){DCT.Util.getSafeElement("_targetPage").value=m;DCT.Util.getSafeElement("_submitAction").value="deleteManualItem";b.grid.assignGridSelection(false,DCT.Grid.getItemIdForGridProcessing);h.secureAction(m);h.submitForm()}else{DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("OneOrMoreNotCompanyItem"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h)}break;case"HI":if(DCT.Util.validateAvailableForHold(b)){DCT.Util.hideShowGroup("removeItems",true);var k=g.split("|");for(var f=0;f<k.length;f++){var l=k[f].split("!");if(l[1]=="button"){DCT.Util.enableDisableActionButton(true,l[0])}else{Ext.getDom(l[0]).disabled=true}}b.grid.getSelectionModel().lock()}else{DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("OneOrMoreAlreadyHolding"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h)}break;case"AC":var d=(m=="openItems")?"openItemsList":"scheduledItemsList";DCT.Util.displayAddBillingCommentsPopUp(d,b);break;case"RH":if(DCT.Util.validateAvailableForRelease(b)){DCT.Util.getSafeElement("_targetPage").value=m;DCT.Util.getSafeElement("_submitAction").value="setScheduledItemStatus";DCT.Util.getSafeElement("_itemStatusCode").value="BILL";b.grid.assignGridSelection(true,DCT.Grid.getItemIdAndItemTypeForGridProcessing);h.secureAction(m);h.submitForm()}else{DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("OneOrMoreAlreadyReleased"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h)}break;case"MI":var e=b.grid.getTotalSelectionCount();switch(e){case 0:DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("PleaseSelectTwoItems"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h);break;case 1:DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("PleaseSelectMoreThanOneItem"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h);break;case 2:DCT.Util.getSafeElement("_targetPage").value="matchScheduledItems";b.grid.assignGridSelection(true,DCT.Grid.getItemIdAndItemTypeForGridProcessing);h.secureAction("matchScheduledItems");h.submitForm();break;default:DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("OnlyTwoItemsCanBeSelected"),function(o){DCT.Util.removeTabs(false);Ext.get(c).focus()},h);break}break}},processScheduledItems:function(d,a,c){var b=this;var e=Ext.getCmp(d).getValue();switch(e){case"HI":DCT.Util.getSafeElement("_targetPage").value="holdScheduledItems";if(a!=null){a.grid.assignGridSelection(false,DCT.Grid.getItemIdAndItemTypeForGridProcessing)}else{DCT.Util.getSafeElement("_itemId").value=c}b.secureAction("holdScheduledItems");b.submitForm();break}},applyScheduledItemAction:function(e,d,c,a){var b=this;var f=Ext.getCmp(e).getValue();switch(f){case"HI":DCT.Util.hideShowGroup("removeItems",true);break;case"AC":DCT.Util.displayAddBillingCommentsPopUp(d,dataStore);break;case"RH":DCT.Util.getSafeElement("_targetPage").value=d;DCT.Util.getSafeElement("_submitAction").value="setScheduledItemStatus";DCT.Util.getSafeElement("_itemAction").value=f;DCT.Util.getSafeElement("_itemStatusCode").value="BILL";DCT.Util.getSafeElement("_itemId").value=c;DCT.Util.getSafeElement("_itemLockingTS").value=a;b.secureAction(d);b.submitForm();break}},processStatementImport:function(c,b,d){var a=this;if(DCT.Util.isButtonDisabled("importStatementAction")){return}Ext.getCmp(d).assignGridSelection(false,"");DCT.Util.getSafeElement("_targetPage").value=c;DCT.Util.getSafeElement("_submitAction").value=b;a.secureAction(c);a.submitForm()},removeSelectedItem:function(c,e){var d=this;var b=new Array();var a=Ext.getDom("tblItemListDetail").rows.length-1;for(i=1;i<=a;i++){itemElement=Ext.getDom("hiddenItemId"+i);itemTypeCodeElement=Ext.getDom("hiddenItemTypeCd"+i);if(c!=itemElement.value){b[b.length]=itemElement.value+"|"+itemTypeCodeElement.value}}DCT.Util.getSafeElement("_gridSelectionArray").value=b;DCT.Util.getSafeElement("_targetPage").value=e;d.secureAction(e);d.submitForm()},processMatchItems:function(e,d,b,a){var c=this;switch(DCT.Util.validateRemainingBalanceOption()){case"balanceOption":DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("PleaseSelectRemainingBalance"),function(f){DCT.Util.removeTabs(false);Ext.get("leaveOpenBalanceOption").focus()},c);break;case"writeOffReasonBlank":DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("WriteOffReasonRequired"),function(f){DCT.Util.removeTabs(false);Ext.get("writeOffReasonCode").focus()},c);break;default:DCT.Submit.submitBillingPageAction(e,d,b,a);break}},processFormPost:function(){var e=Ext.get("_billingInterfaces");if(e){var g=e.getValue();var l=DCT.Util.loadXMLString(g);var a=Ext.DomQuery.selectValue("ExternalPaymentInterface/PaymentSiteURL/@method ",l);var d=Ext.DomQuery.selectValue("ExternalPaymentInterface/PaymentSiteURL/@url ",l);if(a=="GET"){var c=Ext.DomQuery.select("ExternalPaymentInterface/PaymentSiteQueryString/param",l);if(c.length>0){d+="?";for(i=0;i<c.length;i++){var f=Ext.DomQuery.selectValue("@externalName",c[i]);var o=Ext.DomQuery.selectValue("@value",c[i]);var k=Ext.DomQuery.selectValue("@useExpressValue",c[i]);if(k=="False"){d+=f+"="+o+"&"}else{if(k=="True"){var h=Ext.get(o).getValue();if(h!=null){d+=f+"="+h+"&"}}}}}window.location.href=d}if(a=="POST"){alert("POST");var m=document.createElement("Form");document.body.appendChild(m);m.method="POST";m.action=d;var c=Ext.DomQuery.select("ExternalPaymentInterface/PaymentSiteQueryString/param",l);if(c.length>0){for(i=0;i<c.length;i++){var f=Ext.DomQuery.selectValue("@externalName",c[i]);var o=Ext.DomQuery.selectValue("@value",c[i]);var k=Ext.DomQuery.selectValue("@useExpressValue",c[i]);var b=document.createElement("<input name='"+f+"' type='hidden'>");m.appendChild(b);if(k=="False"){m.value=o}else{if(k=="True"){var h=Ext.get(o).getValue();if(h!=null){m.value=h}}}}}m.submit()}}},submitAgencySuspense:function(f,e,c,a,b){var d=this;if(typeof(c)!="undefined"){if(!c){if(DCT.Util.isButtonDisabled(a)){return}}}if(DCT.Util.validateBillingScreen(e)){Ext.getCmp(b).assignGridSelection(true,DCT.Grid.getAgencyAgreementKeysForGridProcessing);DCT.Util.getSafeElement("_targetPage").value=f;DCT.Util.getSafeElement("_submitAction").value=e;d.secureAction(f);d.submitForm()}},verifyAgencyAllocationAmounts:function(a){if(DCT.Util.isButtonDisabled(a)){return}totalSuspenseElement=Ext.getDom("totalSuspenseAmtId");totalRemainElement=Ext.getDom("amountRemainingTotalId");if(parseFloat(totalSuspenseElement.value)==parseFloat(totalRemainElement.value)){DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("NoFundsAllocated"),function(b){DCT.Util.removeTabs(false);Ext.get("processAllocation").focus()},me)}else{DCT.Submit.submitBillingPageAction("suspenseList","processAgencyAllocationPayment",true)}},displayErrorDetail:function(a){var c=this;DCT.Util.getSafeElement("_popUp").value="1";DCT.Util.getSafeElement("_exceptionId").value=a;var b=Ext.create("DCT.PopupWindow",{width:600,height:500,modal:true,title:DCT.T("ErrorDetails"),dctItemClass:"DCT.ErrorDetailsPanel",defaultButton:"closeButton",buttons:[{text:DCT.T("Close"),id:"closeButton",handler:function(){DCT.Util.closePopUp("3","","0")}}]});b.show()},displayResubmitDetail:function(a){DCT.Util.getSafeElement("_popUp").value="1";DCT.Util.getSafeElement("_exceptionId").value=a;var b=Ext.create("DCT.PopupWindow",{width:500,height:500,modal:true,title:"Resubmission Details",dctItemClass:DCT.ResubmitDetailsPanel,});b.show()},displayUnidentifiedPaymentsDetail:function(a){DCT.Util.getSafeElement("_unidentifiedPaymentId").value=a;DCT.Submit.submitPage("unidentifiedPaymentsDetail")},createBatch:function(b,a){if(Ext.get("createBatch").hasCls("btnDisabled")){return}DCT.Submit.submitBillingPageAction(b,a,true)},processHoldItems:function(f,e,c,a,b){var d=this;if(DCT.Util.validateCommentsCreated()){DCT.Submit.submitBillingPageAction(f,e,c,a)}else{DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("OneOrMoreNoReasonForHold"),function(g){DCT.Util.removeTabs(false);Ext.get(b).focus()},d)}},processHoldEvent:function(b,d,c,a){DCT.Util.getSafeElement("_eventId").value=b;DCT.Util.getSafeElement("_eventLockingTS").value=a;DCT.Submit.submitBillingPageAction(d,c,true)},gotoMatchedItemDetail:function(b){var a=this;DCT.Util.getSafeElement("_targetPage").value="itemMatchedDetails";DCT.Util.getSafeElement("_itemId").value=b;a.secureAction("itemMatchedDetails");a.submitForm()}});Ext.apply(DCT.Grid,{getDataKeyString:function(c,e,a,g){var b="";var f="|";if(e){b=b+c.id}if(Ext.isArray(a)){if(e){b=b+f}for(var d=0;d<a.length;d++){b=b+c.data[a[d]];if((d+1)<a.length){b=b+f}}}if(Ext.isArray(g)){if(Ext.isArray(a)||e){b=b+f}for(var d=0;d<g.length;d++){b=b+c.data[g[d]];if((d+1)<g.length){b=b+f}}}return(b)},getItemIdForGridProcessing:function(a){return(DCT.Grid.getDataKeyString(a,false,["ItemObjectId"]))},getItemIdAndItemTypeForGridProcessing:function(a){return(DCT.Grid.getDataKeyString(a,false,["ItemObjectId","ItemObjectType"]))},getAgencyAgreementKeysForGridProcessing:function(a){return(DCT.Grid.getDataKeyString(a,true,["internalAmount"],["N"]))}});Ext.apply(DCT.Grid,{applyErrorFiltersToList:function(c,a){var b=this;DCT.Util.getSafeElement("_submitAction").value=c;a.grid.assignGridSelection(false,"");a.grid.getSelectionModel().clearSelections();a.loadPage(1)},applyErrorFiltersAndSubmit:function(b,c,a){DCT.Util.getSafeElement("_submitAction").value=b;DCT.Util.getSafeElement("_targetPage").value=c;a.grid.assignGridSelection(false,"");DCT.Submit.submitForm();a.grid.getSelectionModel().clearSelections()},applySearchFieldsToGrid:function(a){var b=this;if(DCT.Util.isButtonDisabled("searchBatch")){return}Ext.getDom("_processDefaultDate").value="";Ext.getDom("_entryDefaultDate").value="";a.loadPage(1)},applyScheduledItemsFiltersToList:function(a){var b=this;a.grid.getSelectionModel().clearSelections();a.loadPage(1)},clearScheduledItemsFiltersToList:function(a,c){var b=this;if(DCT.Util.isButtonDisabled(c)){return}Ext.getCmp("moreOptionsGroupPanelCmp").collapse(true);if(Ext.get("aggregationField")!=null){Ext.getDom("aggregationField").selectedIndex=0}if(Ext.get("subAgentsField")!=null){Ext.getDom("subAgentsField").selectedIndex=0}Ext.getDom("commissionPercent").value="";Ext.getDom("hiddenCommissionPercent").value="";Ext.getDom("_insuredId").value="";if(Ext.get("insuredGroup")!=null){Ext.get("insuredGroup").remove(false);Ext.getDom("searchForInsuredAction").innerHTML=DCT.T("SearchForInsured")}DCT.Util.enableDisableActionButton(true,"clearFilterAction");b.applyScheduledItemsFiltersToList(a)},resetSearchFieldsToGrid:function(a){var b=this;Ext.getCmp("userId").setValue("");Ext.getCmp("batchNbr").setValue("");b.applySearchFieldsToGrid(a);DCT.Util.enableDisableActionButton(true,"searchBatch")},updateCommentTypeCode:function(d,c,a,b,e){DCT.Util.getSafeElement("_commentId").value=a;DCT.Util.getSafeElement("_commentTypeCode").value=b;DCT.Util.getSafeElement("_commentLockingTS").value=e;DCT.Util.getSafeElement("_submitAction").value=c;Ext.getCmp("CommentsList").getStore().loadPage(1,{callback:function(g,f,h){DCT.Util.getSafeElement("_submitAction").value=""}})}});Ext.apply(DCT.Util,{displayNotesPopUp:function(){var b=Ext.getCmp("notesPopup");if(b){return}var a=Ext.create("DCT.BillingNotes",{});a.show()}});Ext.define("DCT.BillingNotes",{extend:"Ext.Window",dctControl:true,inputXType:"dctbillingnotes",xtype:"dctbillingnotes",title:DCT.T("AccountNotes"),width:500,height:300,id:"notesPopup",minWidth:300,minHeight:200,maximizable:true,layout:"fit",plain:true,bodyBorder:false,bodyStyle:"padding:5px;",constructor:function(a){var b=this;b.checkControlExists(a);b.setNotesItems(a);b.setListeners(a);b.callParent([a])},setNotesItems:function(a){var b=this;a.items=Ext.create("Ext.form.FormPanel",{defaultType:"textfield",labelWidth:55,bodyBorder:false,id:"notesPopupForm",formId:"notesForm",items:[{style:"margin-top:5px;",fieldLabel:DCT.T("Title"),name:"_activityTitle",id:"_activityTitle",anchor:"100%"},{fieldLabel:DCT.T("Entry"),xtype:"textarea",name:"_activityEntry",id:"_activityEntry",anchor:"100% -45"},{hideLabel:true,hidden:true,tabIndex:-1,name:"_activityTitleHeader",value:DCT.T("Reference_colon")},{hideLabel:true,hidden:true,tabIndex:-1,name:"_activityEntryHeader",value:DCT.T("Notes")}],buttons:[{text:DCT.T("Cancel"),id:"_cancelButton",handler:function(){var c=this;c.closeNotes()},scope:b},{text:DCT.T("Save"),id:"_saveButton",disabled:true,handler:function(){var c=this;c.saveNotes()},scope:b}]})},setListeners:function(a){var b=this;a.listeners={show:{fn:function(d){var c=this;c.setFocus()},scope:b},close:{fn:function(){var c=this;c.destroy()},scope:b,delay:10}}},closeNotes:function(){var a=this;a.close()},saveNotes:function(){var d=this;var b=DCT.Util.getProxyUrl();var a=Ext.getCmp("notesPopupForm");var c=a.getForm().getValues();var e=DCT.Util.getFormNameValuePairs(document.forms[0],true);Ext.Ajax.request({url:b,params:Ext.apply(c,{_targetPage:"addActivityLog",_gridRequest:"1"},e),scope:d,success:d.success,failure:d.failure})},success:function(b,d){var e=this;var c=Ext.DomQuery.select("/page/content",b.responseXML)[0].firstChild;var a=Ext.DomQuery.selectValue("@status",c);if(typeof(a)=="undefined"){DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("InformationNotSaved"),function(f){DCT.Util.removeTabs(false);Ext.getCmp("_cancelButton").focus()})}else{e.closeNotes();if(DCT.currentPage=="accountSummary"){Ext.getCmp("activityList").getStore().reload()}}},failure:function(a,b){var c=this;DCT.Util.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),DCT.T("InformationNotSaved"),function(d){DCT.Util.removeTabs(false);c.closeNotes()})},enableSave:function(){Ext.getCmp("_saveButton").enable()},disableSave:function(){Ext.getCmp("_saveButton").disable()},setButtonState:function(){var b=this;var c=Ext.getCmp("_activityTitle");var a=Ext.getCmp("_activityEntry");if(c&&a){if(c.getValue()==""||a.getValue()==""){b.disableSave()}else{b.enableSave()}}},setFocus:function(){var b=this;var c=Ext.getCmp("_activityTitle");var a=Ext.getCmp("_activityEntry");c.focus(false,10);c.on("keyup",function(){b.setButtonState()},b);a.on("keyup",function(){b.setButtonState()},b)}});DCT.Util.reg("dctbillingnotes","billingNotes","DCT.BillingNotes");Ext.apply(DCT.Submit,{openAccountSummary:function(b,d,c){var a=this;a.clearParmArray();a.addToParmArray("_targetPage",b);a.addToParmArray("_accountId",d);a.submitPageForm(b,c)},openReport:function(e,b,d,a,f){var c=this;c.clearParmArray();c.addToParmArray("_targetPage",e);c.addToParmArray("_reportPath",b);c.addToParmArray("_historyId",d);c.addToParmArray("_appCode",a);c.submitPageForm(e,f)},exportReport:function(e,b,d,a,f){var c=this;c.clearParmArray();c.addToParmArray("_targetPage",e);c.addToParmArray("_reportPath",b);c.addToParmArray("_historyId",d);c.addToParmArray("_exportFormat",a);c.addToParmArray("_submitAction","reportExport");c.submitPageForm(e,f);DCT.Util.getSafeElement("_submitAction").value=""},openCandidateListAccount:function(c,a){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",c);b.addToParmArray("_accountId",Ext.getCmp(a).getSelectionModel().getSelection()[0].id);b.submitPageForm(c,"processContinue")},openPolicySummary:function(c,a){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",c);b.addToParmArray("_policyId",a);b.submitPageForm(c)},viewManualInstallRedistribute:function(c,a,d){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",c);b.addToParmArray("_technicalId",a);b.addToParmArray("_detailTypeCode",d);b.submitPageForm(c)},viewInstallmentLevelRedistribute:function(c,a){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",c);b.addToParmArray("_installmentDate",a);b.submitPageForm(c)},viewIndividualDueDateChange:function(c,a,d){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",c);b.addToParmArray("_installmentDate",a);b.addToParmArray("_originalDueDate",d);b.submitPageForm(c)},viewWriteOffWaiveDetail:function(d,a,e,c){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",d);b.addToParmArray("_technicalId",a);b.addToParmArray("_detailTypeCode",e);b.addToParmArray("_reversalProcessingTypeCode",c);b.submitPageForm(d)},viewWriteOffWaiveDetailAtTermAndDateLevel:function(d,e,a,c){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",d);b.addToParmArray("_policyTermId",e);b.addToParmArray("_installmentDate",a);b.addToParmArray("_reversalProcessingTypeCode",c);b.submitPageForm(d)},openTargetPageAfterSearch:function(d,c,a){var b=this;b.clearParmArray();b.addToParmArray("_targetPage",d);b.addToParmArray("_submitAction",c);b.addToParmArray("_searchById",Ext.getCmp(a).getSelectionModel().getSelection()[0].id);b.addToParmArray("_searchByNbr",Ext.getCmp(a).getSelectionModel().getSelection()[0].data.AccountReference);b.addToParmArray("_searchMode","accountWithId");b.submitPageForm("","processContinue")},gotoScheduleItemDetail:function(c,b){var a=this;a.clearParmArray();a.addToParmArray("_targetPage","scheduledItemDetail");a.addToParmArray("_itemId",c);a.addToParmArray("_itemTypeCode",b);a.submitPageForm("scheduledItemDetail")},viewPaymentDetails:function(a,c,b){var d=this;d.clearParmArray();var e="";if(c!="UNID"||b=="REV"){d.addToParmArray("_technicalId",a);d.addToParmArray("_targetPage","searchPaymentDetails");e="searchPaymentDetails"}else{d.addToParmArray("_unidentifiedPaymentId",a);d.addToParmArray("_targetPage","unidentifiedPaymentsDetail");e="unidentifiedPaymentsDetail"}d.submitPageForm(e)},gotoBillingAccountPage:function(b){var a=this;if(DCT.BillingSystemURL!=""){document.forms[0].action=DCT.BillingSystemURL}a.clearParmArray();a.addToParmArray("_PortalName","Billing");a.addToParmArray("_targetPage","accountSummary");a.addToParmArray("_autoSaveState","");a.addToParmArray("_accountId",b);DCT.FieldsChanged.clear();DCT.Submit.setActiveParent("billingDashBoard");a.addToParmArray("_submitAction","setPortal");a.submitPageForm("accountSummary")},gotoBillingPolicyTermSummaryPage:function(c,b){var a=this;if(DCT.BillingSystemURL!=""){document.forms[0].action=DCT.BillingSystemURL}a.clearParmArray();a.addToParmArray("_PortalName","Billing");a.addToParmArray("_targetPage","policySummary");a.addToParmArray("_autoSaveState","");a.addToParmArray("_accountId",c);a.addToParmArray("_policyId",b);DCT.FieldsChanged.clear();DCT.Submit.setActiveParent("billingDashBoard");a.addToParmArray("_submitAction","setPortal");a.submitPageForm("policySummary")},gotoPASPolicyPage:function(a){var b=this;if(DCT.PolicySystemURL!=""){document.forms[0].action=DCT.PolicySystemURL}b.clearParmArray();b.addToParmArray("_PortalName","AdminPAS");b.addToParmArray("_targetPage","policy");b.addToParmArray("_autoSaveState","");b.addToParmArray("_QuoteId",a);DCT.FieldsChanged.clear();DCT.Submit.setActiveParent("dashboardHome");b.addToParmArray("_submitAction","setPortal");b.submitPageForm("policy")}});Ext.apply(DCT.Grid,{policyTermColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" id="policyIdLink" onclick="DCT.Submit.openPolicySummary(\'policySummary\',\''+f.data.policyId+"');\">"+g+"</a>";return a},policyLinkToPASRenderer:function(g,c,f,h,d,b,e){var a=(g=="")?"":'<a href="javascript:;" onclick="DCT.Submit.gotoPASPolicyPage('+f.data.quoteId+');"><img src="'+DCT.imageDir+'icons/application_go.png" alt="'+DCT.T("ViewinPolicyAdministrationSystem")+'" title="'+DCT.T("ViewinPolicyAdministrationSystem")+'"/></a>';return a},removeAnchorsFromGroupHeader:function(g,b,e,h,c,a,d){var f=g;return f},activityAmountColumnRenderer:function(g,b,e,h,c,a,d){var f="";if(e.data.type=="Write Off"){f='<div><a href="javascript:;" onclick="DCT.Submit.submitBillingProcessAction(\'writeOffDetail\','+e.data.writeOffId+')">'+g+"</a></div>"}else{f="<div>"+g+"</div>"}return f},activityDescriptionRowRenderer:function(s,h,m,c){var t=this;var v,u,q,a,r,k=h+1,o="CandidateList/ListItem:nth("+k+")",d=Ext.dom.Query.selectNode(o,m.store.proxy.reader.rawData);a=Ext.DomQuery.selectValue("ActivityDescription/text/@value",d);a=Ext.util.Format.htmlEncode(a);r=Ext.DomQuery.select("ActivityDescription/link",d);v="";if(Ext.isDefined(a)){v=v+a}if(r.length>0){for(i=0;i<r.length;i++){id=Ext.DomQuery.selectValue("@id",r[i]);linkText=Ext.DomQuery.selectValue("@linkText",r[i]);linkIds=Ext.DomQuery.select("linkId",r[i]);linkType=Ext.DomQuery.selectValue("@linkType",r[i]);q="^"+id;linkParms="";for(j=0;j<linkIds.length;j++){linkParms=linkParms+"'"+Ext.DomQuery.selectValue("@value",linkIds[j])+"'";if(j+1<linkIds.length){linkParms=linkParms+","}}var l=DCT.Util.isAuthorized("canAccessAccountSummary",m);var w=DCT.Util.isAuthorized("canAccessPolicySummary",m);var p=DCT.Util.isAuthorized("canAccessPaymentDetail",m);var g=DCT.Util.isAuthorized("canAccessDisbursementDetail",m);var b=DCT.Util.isAuthorized("canWriteOffPayments",m);var f=DCT.Util.isAuthorized("canAccessAllAreas",m);switch(linkType){case"account":if(l||f){functionToCall="DCT.Submit.submitBillingActivity('account',"}else{functionToCall=""}break;case"policy":if(w||f){functionToCall="DCT.Submit.submitBillingActivity('policy',"}else{functionToCall=""}break;case"payment":if(p||f){functionToCall="DCT.Submit.submitBillingActivity('payment',"}else{functionToCall=""}break;case"invoice":functionToCall="";break;case"disbursement":if(g||f){functionToCall="DCT.Submit.submitBillingActivity('disbursement',"}else{functionToCall=""}break;case"writeoff":if(b||f){functionToCall="DCT.Submit.submitBillingActivity('writeoff',"}else{functionToCall=""}break;case"writeoffinstallment":if(b||f){functionToCall="DCT.Submit.submitBillingActivity('writeoffinstallment',"}else{functionToCall=""}break;case"paymentwriteoff":if(b||f){functionToCall="DCT.Submit.submitBillingActivity('paymentwriteoff',"}else{functionToCall=""}break;case"eftRequest":if(true||f){functionToCall="DCT.Submit.submitBillingActivity('eftRequest',"}else{functionToCall=""}break;default:functionToCall="";break}if(functionToCall.length==0){u=linkText}else{u='<a href="javascript:;" onclick="'+functionToCall+linkParms+');">'+linkText+"</a>"}v=v.replace(q,u)}}var e=Ext.DomQuery.selectValue("ActivityTypeCode",d);if(e=="ANOT"){v='<div class="notesDescription">'+v+"</div>"}return{rowBody:'<div id="activityDescription'+h+'">'+v+"</div>"}},viewErrorDetailsColumnRenderer:function(g,b,e,h,c,a,d){var f='<a href="javascript:;" id="errorDetailsId" onclick="DCT.Submit.displayErrorDetail(\''+e.id+"');\">"+DCT.T("UI_ViewDetails")+"</a>";return f},viewResubmitDetailsColumnRenderer:function(f,b,e,h,c,a){var g=e.data.ExceptionStatus;if(g=="Closed"){return null}var d='<a href="javascript:;" id="resubmitDetailsId" onclick="DCT.Submit.displayResubmitDetail(\''+e.id+"');\">"+DCT.T("UI_Resubmit")+"</a>";return d},viewUnidentifiedPaymentsDetailColumnRenderer:function(f,b,e,g,c,a,d){return'<a href="javascript:;" id="UnidentifiedPaymentsDetailId" onclick="DCT.Submit.displayUnidentifiedPaymentsDetail(\''+e.id+"');\">Details</a>"},paymentAmountRenderer:function(a,c,m,l,o,p,h){var q=m.data.allocationTypeCode;var d=m.data.destinationId;var k=m.data.transactionDate;var r;var e=m.data.authorizedInstallment;var g=m.data.authorizedDisburse;var f=m.data.installmentDate;var b=(Ext.isDefined(f)&&f!=""?f:k);switch(q){case"IS":case"CH":if(e=="true"){r="<div><a href=\"javascript:;\" onclick=\"DCT.Submit.submitBillingInstallment('installmentSchedule','"+Ext.Date.format(b,"Y-m-d\\TH:i:s")+"', "+d+", '"+q+"')\">"+a+"</a></div>"}else{r="<div>"+a+"</div>"}break;case"PD":case"DB":if(g=="true"){r='<div><a href="javascript:;" onclick="DCT.Submit.submitBillingProcessAction(\'viewDisbursementDetails\','+d+')">'+a+"</a></div>"}else{r="<div>"+a+"</div>"}break;default:r="<div>"+a+"</div>";break}return r},viewDetailsRenderer:function(a,b,e,d,f,g,c){var k="";var h=e.data.authorized;if(h=="true"){k='<a href="javascript:;" onclick="DCT.Submit.submitBillingProcessAction(\'viewDisbursementDetails\','+e.id+')">View Details</a>'}return k},documentColumnRenderer:function(b,d,p,o,q,r,k){var f;var s="";var m=DCT.Util.isAuthorized("canViewInvoice",p);var h=DCT.Util.isAuthorized("canAccessAllAreas",p);if(m||h){if(b==""){s=""}else{var g=o+1,l="CandidateList/ListItem:nth("+g+")",c=Ext.dom.Query.selectNode(l,p.store.proxy.reader.rawData),e=Ext.DomQuery.selectValue("Moniker",c),a=Ext.DomQuery.selectValue("FileName",c);if(!Ext.isEmpty(e)){e=e.replace("\\","\\\\")}f="<a href=\"javascript:;\" onclick=\"DCT.Util.displayPDFAttachment('viewPDF', '"+p.data.Attachment+"','"+e+"','"+a+'\');"><img src="'+DCT.imageDir+'icons/attach_small.png" alt="Download attachment"/></a>';s=f}}return s},checkIfPolicyHold:function(a,b,f,e,g,h,d){var c;var k="";if(f.data.holdTypeCode!="N"&&f.data.holdTypeCode!=""){c='<div align="left"><img src="'+DCT.imageDir+'icons/stop.png" alt="'+f.data.PolicyTermHoldReason+'" title="'+f.data.PolicyTermHoldReason+'"/></div>';k=c}return k},reprintInvoiceColumnRenderer:function(g,b,e,h,c,a,d){var f;rowActionsHTML="",dataRow=h+1,xpathValue="CandidateList/ListItem:nth("+dataRow+")",rawRecord=Ext.dom.Query.selectNode(xpathValue,e.store.proxy.reader.rawData),subjectCode=Ext.DomQuery.selectValue("SubjectCode",rawRecord),canReprintInvoice=DCT.Util.isAuthorized("canReprintInvoice",e),canAccessAllAreas=DCT.Util.isAuthorized("canAccessAllAreas",e);if(canReprintInvoice||canAccessAllAreas){if(subjectCode=="INV"){f="<a href=\"javascript:;\" onclick=\"DCT.Submit.submitBillingInvoiceReprint('accountSummary', 'reprintInvoice', '"+g+'\');"><img src="'+DCT.imageDir+'icons/printer_small.png" alt="Reprint Invoice" title="Reprint Invoice"/></a>';rowActionsHTML=f}}return rowActionsHTML},formatDateColumnRenderer:function(a,c,f,e,g,h,d){var b="",k;if(Ext.isDefined(a)){k=Ext.getDom("_hiddenDisplayDtMask").value;b=Ext.Date.format(a,k)}return b},formatAmountColumnRenderer:function(a,c,g,f,h,k,e){var b="";if(Ext.isDefined(a)){var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});b=d.formatFloat(a)}return b},formatInstallmentDateColumnRenderer:function(a,d,h,g,k,l,f){var c="",m,b,e="";if(Ext.isDefined(a)){m=Ext.getDom("_hiddenDisplayDtMask").value;c=Ext.Date.format(a,m)}else{if(Ext.isDefined(h.get("SourceInstallmentDueDate"))){m=Ext.getDom("_hiddenDisplayDtMask").value;b=Ext.Date.parse(h.get("SourceInstallmentDueDate"),"Y-m-d");e=" - "+Ext.Date.format(b,m)}if(Ext.isDefined(h.get("InvoicedIndicator"))){if(h.get("InvoicedIndicator")=="Y"){c='<img src="'+DCT.imageDir+'icons/page.png" alt="Invoiced" title="Invoiced" unselectable="on"/>'}}if(Ext.isDefined(h.get("StatementIndicator"))){if(h.get("StatementIndicator")=="Y"){c='<img src="'+DCT.imageDir+'icons/page.png" alt="Statement Generated" title="Statement Generated" unselectable="on"/>'}}if(Ext.isDefined(h.get("InstallmentTypeCode"))){switch(h.get("InstallmentTypeCode")){case"M":c=c+'<img src="'+DCT.imageDir+'icons/icoDateAlert.png" alt="Missed Installment" title="Missed Installment" unselectable="on"/>';break;case"C":c=c+'<img src="'+DCT.imageDir+'icons/icoDateWarn.png" alt="Catchup Installment'+e+'" title="Catchup Installment'+e+'" unselectable="on"/>';break;case"E":c=c+'<img src="'+DCT.imageDir+'icons/money_dollar.png" alt="Earned Premium" title="Earned Premium" unselectable="on"/>';break;case"R":c=c+'<img src="'+DCT.imageDir+'icons/arrow_divide.png" alt="Redistributed Installment " title="Redistributed Installment " unselectable="on"/>';break;case"S":c=c+'<img src="'+DCT.imageDir+'icons/icoDateClock.png" alt="Spread Installment'+e+'" title="Spread Installment'+e+'" unselectable="on"/>';break;case"MR":c=c+'<img src="'+DCT.imageDir+'icons/icoDateAlertYellow.png" alt="Missed Installment due to Reschedule" title="Missed Installment due to Reschedule" unselectable="on"/>';break;default:break}}}return c},formatItemAmtColumnWithoutWriteOffActionRenderer:function(a,c,g,f,h,k,e){var b="";if(Ext.isDefined(a)){var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});b=d.formatFloat(a)}return b},formatItemAmtColumnRenderer:function(a,c,h,g,k,l,f){var b="";if(Ext.isDefined(a)){var e=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});b=e.formatFloat(a)}else{if(h.get("Type")=="Current"){var d=h.get("InstallmentDate");if((Ext.isDefined(h.get("Balance")))&&(Ext.isDefined(d))){if(h.get("Balance")>0){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.submitBillingProcessAction('writeOffWaiveInstallment','"+Ext.Date.format(d,"Y-m-d")+'\');"><img src="'+DCT.imageDir+'icons/icoWriteOff.png" alt="Write-Off/Waive" title="Write-Off/Waive"/></a>'}}}}return b},formatAttachmentColumnRenderer:function(a,d,k,h,l,m,g){var b="";var f=k.get("InstallmentDate");if(!Ext.isDefined(a)){b=""}else{var c=k.get("Type");if(c=="Current"){var e=Ext.getDom("_hiddenMoniker").value;if(!Ext.isEmpty(e)){e=e.replace("\\","\\\\")}if(Ext.isDefined(f)){b="<a href=\"javascript:;\" onclick=\"DCT.Util.displayPDFAttachment('viewPDF', '"+k.get("AttachmentId")+"','"+e+"','"+k.get("FileName")+'\');"><img src="'+DCT.imageDir+'icons/attach_small.png" alt="Download attachment"/></a>'}}}return b},formatAgencyItemAmtColumnRenderer:function(a,d,k,h,l,m,g){var b="";var e=k.get("InstallmentDate");if(Ext.isDefined(a)){var f=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});b=f.formatFloat(a)}else{var c=k.get("Type");if(c=="Current"){if((Ext.isDefined(k.get("Balance")))&&(Ext.isDefined(e))){b="<a href=\"javascript:;\" onclick=\"DCT.Submit.submitBillingProcessAction('writeOffWaiveInstallmentAgency','"+Ext.Date.format(e,"Y-m-d")+'\');"><img src="'+DCT.imageDir+'icons/icoWriteOff.png" alt="Write-Off/Waive" title="Write-Off/Waive"/></a>'}}}return b},formatWriteOffAmtColumnRenderer:function(a,e,o,m,p,q,l){var c="";if(Ext.isDefined(a)){var f=o.get("DetailId");var d=o.get("Type");var g=o.get("DetailTypeCode");var b=o.get("WriteOffExists");var k=((((Ext.isDefined(b))&&b==1)||(Ext.isDefined(f))&&(a!=0))&&(d=="Current"));var h=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});if(k==true){c='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetail(\'writeOffWaiveDetail\',\''+f+"','"+g+"' , 'R');\">"+h.formatFloat(a)+"</a>"}else{c=h.formatFloat(a)}}return c},formatWriteOffAmtColumnRendererForDirectBill:function(g,u,p,k,o,t,m){var r="";if(Ext.isDefined(g)){var d=p.get("ScheduleSubGroupDescription");var b;var q;var f;var l=p.get("ScheduleItemLevelTypeCode");var c=p.get("DetailId");var e=p.get("Type");var a=p.get("DetailTypeCode");var h=p.get("WriteOffReversalExists");var s=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});if(e=="Current"){if(g!=0){if(l=="R"){r='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetail(\'writeoffDetailForDirectBillClaims\',\''+c+"','"+a+"' , '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="A"){b=p.get("InstallmentDateTermLevelDisplay");r="<a class=\"dataAnchor\" href=\"javascript:;\" onclick=\"DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel('writeoffDetailForDirectBillClaims','' ,'"+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="T"){b=p.get("InstallmentDateTermLevelDisplay");f=p.get("PolicyTermIdTermLevelDisplay");r='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel(\'writeoffDetailForDirectBillClaims\',\''+f+"' ,'"+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="I"){b=p.get("InstallmentDate");r="<a class=\"dataAnchor\" href=\"javascript:;\" onclick=\"DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel('writeoffDetailForDirectBillClaims','' ,'"+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}}}}}else{if(g==0&&Ext.isDefined(h)&&h=="True"){if(l=="R"){r='<a class="dataAnchor" title = "View Write-Off / Waive Reversals" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetail(\'writeoffReversalHistoryForDirectBillClaims\',\''+c+"','"+a+"' , '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="A"){b=p.get("InstallmentDateTermLevelDisplay");r='<a class="dataAnchor" title = "View Write-Off / Waive Reversals"  href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel(\'writeoffReversalHistoryForDirectBillClaims\',\'\' ,\''+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="T"){b=p.get("InstallmentDateTermLevelDisplay");f=p.get("PolicyTermIdTermLevelDisplay");r='<a class="dataAnchor" title = "View Write-Off / Waive Reversals" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel(\'writeoffReversalHistoryForDirectBillClaims\',\''+f+"' ,'"+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}else{if(l=="I"){b=p.get("InstallmentDate");r='<a class="dataAnchor" title = "View Write-Off / Waive Reversals" href="javascript:;" onclick="DCT.Submit.viewWriteOffWaiveDetailAtTermAndDateLevel(\'writeoffReversalHistoryForDirectBillClaims\',\'\',\''+Ext.Date.format(b,"Y-m-d")+"', '"+l+"');\">"+s.formatFloat(g)+"</a>"}}}}}else{r=s.formatFloat(g)}}}else{r=s.formatFloat(g)}}return r},formatWriteOffAmtColumnSecuredRenderer:function(a,c,g,f,h,k,e){var b="";if(Ext.isDefined(a)){var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});b=d.formatFloat(a)}return b},formatManualInstallRedistributeAmtColumnRenderer:function(a,e,o,m,q,r,l){var b="";if(Ext.isDefined(a)){if(a=="0.0000"){b=DCT.Grid.formatAmountColumnRenderer(a,e,o,m,q,r,l)}else{var d=o.get("ScheduleSubGroupDescription");var p=o.get("EFTStatusCode");var f=o.get("DetailId");var c=o.get("Type");var h=o.get("DetailTypeCode");var k=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});var s=o.get("ScheduleItemLevelTypeCode");if(s=="R"&&(h!="CH")&&(p!="T")&&(c=="Current")){b='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewManualInstallRedistribute(\'manualInstallmentRedistribution\',\''+f+"','"+h+"');\">"+k.formatFloat(a)+"</a>"}else{if(s=="I"&&(p!="T")&&(c=="Current")){var g=o.get("InstallmentDate");b='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewInstallmentLevelRedistribute(\'manualInstallmentRedistribution\',\''+Ext.Date.format(g,"Y-m-d")+"');\">"+k.formatFloat(a)+"</a>"}else{b=k.formatFloat(a)}}}}return b},formatIndividualDueDateChangeDateColumnRenderer:function(a,d,k,h,m,o,g){var b="";if(Ext.isDefined(a)){var f=k.get("InstallmentDate");var e=k.get("OriginalDueDate");var l=k.get("EFTStatusCode");var c=k.get("Type");var p=Ext.getDom("_hiddenDisplayDtMask").value;if(Ext.isDefined(f)&&(l!="T")&&(c=="Current")){b='<a class="dataAnchor" href="javascript:;" onclick="DCT.Submit.viewIndividualDueDateChange(\'individualDueDateChange\',\''+Ext.Date.format(f,"Y-m-d")+"','"+Ext.Date.format(e,"Y-m-d")+"');\">"+Ext.Date.format(a,p)+"</a>"}else{b=Ext.Date.format(a,p)}}return b},viewEditDetailsColumnRenderer:function(f,b,e,g,c,a,d){rowActionsHTML='<a href="javascript:;" onclick="DCT.Submit.submitBillingProcessAction(\'batchPaymentList\','+e.id+')">'+f+"</a>";return rowActionsHTML},unidentifiedColumnRenderer:function(f,b,e,g,c,a,d){rowActionsHTML="";if(f==""){rowActionsHTML='<div class="required">*</div>'}return rowActionsHTML},editPaymentColumnRenderer:function(a,b,f,e,g,h,d){var k="";var c=f.data.StatusCode;if(c!="P"){k='<a href="javascript:;" onclick="DCT.Submit.editBatchPayment(\'editBatchPayment\','+a+')"><img alt="'+DCT.T("EditBatchPayment")+'" title="'+DCT.T("EditBatchPayment")+'" src="'+DCT.imageDir+'icons/pencil.png"/></a>'}return k},deletePaymentColumnRenderer:function(a,c,k,h,l,m,f){var p="";var d=k.data.StatusCode;if(d!="P"){var e=h+1,g="BatchPaymentList/BatchPaymentItem:nth("+e+")",b=Ext.dom.Query.selectNode(g,k.store.proxy.reader.rawData),o=Ext.DomQuery.selectValue("PaymentBatchEntryLockingTS",b);p="<a href=\"javascript:;\" onclick=\"DCT.Submit.deleteBatchPayment('batchPaymentList','processDeleteBatchPayment','"+a+"','"+o+'\')"><img alt="'+DCT.T("DeleteBatchPayment")+'" title="'+DCT.T("DeleteBatchPayment")+'" src="'+DCT.imageDir+'icons/decline.png"/></a>'}return p},formatTotalsColumnRenderer:function(a,c,g,f,h,k,e){var b="";var l="-$??????????#.00!"+g.data.currencySymbols;var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:l});b="<div>"+d.formatFloat(a)+"</div>";return b},printDetailsColumnRenderer:function(f,b,e,g,c,a,d){rowActionsHTML='<a href="javascript:;" id="printLink" onclick="DCT.Submit.submitBillingPageAction(\'depositedBatch\',\'printBatch\','+f+", false, 'printLink')\">Print</a>";return rowActionsHTML},viewPaymentColumnRenderer:function(a,b,h,g,l,m,f){var q="";var p=h.data.PaymentId;var k=h.data.PaymentType;var c=h.data.DestinationId;var d=h.data.StatusCode;var o="-$??????????#.00!"+h.data.currencySymbols;if(k=="UNID"&&d=="ACV"){p=c}var e=Ext.create("DCT.Formatting",{numberType:"float",numberMask:o});q='<div><a href="javascript:;" onclick="DCT.Submit.viewPaymentDetails(\''+p+"', '"+k+"', '"+d+"')\">"+e.formatFloat(a)+"</a></div>";return q},paymentDetailsAccountRenderer:function(a,b,f,e,g,h,d){var k="";var c=f.data.accountId;k="<a href=\"javascript:;\" onclick=\"DCT.Submit.submitBillingActivity('account','"+c+"')\">"+a+"</a>";return k},endBillingColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" onclick="DCT.Submit.processHoldEvent(\''+f.id+"', 'manageHoldEvents', 'endHoldEvent', '"+f.data.EventTS+"')\">End</a>";return a},reviewHoldEventColumnRenderer:function(g,c,f,h,d,b,e){var a='<a href="javascript:;" onclick="DCT.Submit.processHoldEvent(\''+f.id+"', 'manageHoldEvents', 'reviewHoldEvent', '')\">Review</a>";return a},errorDescriptionRowRenderer:function(c,h,e,g){var f=this;var a,d,b;d=e.data.Description;a="";if(Ext.isDefined(d)){a=a+d}a='<div class="errorDescription">'+a+"</div>";return{rowBody:a}},collectorsPayorRenderer:function(a,b,k,h,o,p,g){var c="";var e="";var q="";var f="";var d="";var l=Ext.DomQuery.select("Parties/PartyRecord",k.store.proxy.reader.rawData);if(l.length>0){for(i=0;i<l.length;i++){var m=Ext.DomQuery.selectValue("PartyRecordPartyId",l[i]);if(m==a){e=Ext.DomQuery.selectValue("Party/PartyName",l[i]);q=Ext.DomQuery.selectValue("Party/PartyFirstName",l[i]);f=Ext.DomQuery.selectValue("Party/PartyMiddleName",l[i]);break}}}if(!Ext.isDefined(q)||q==""){d=e}else{if(!Ext.isDefined(f)||q==""){d=q+" "+e}else{d=q+" "+f+" "+e}}policyTermColumnHTML=d;return policyTermColumnHTML},policyTermRenderer:function(a,d,l,k,m,o,h){var r="",q;var f=l.data.PolicyTermEffectiveDate;var p=l.data.PolicyTermExpirationDate;var g;var b;var e;var c;q=Ext.getDom("_hiddenDisplayDtMask").value;e=Ext.Date.parse(f,"Y-m-d");c=Ext.Date.parse(p,"Y-m-d");g=Ext.Date.format(e,q);b=Ext.Date.format(c,q);r='<a href="javascript:;" id="policyIdLink" onclick="DCT.Submit.openPolicySummary(\'policySummary\',\''+l.id+"');\">"+g+" - "+b+"</a>";return r},batchDescriptionRowRenderer:function(c,h,e,g){var f=this;var a,d,b;d=e.data.Description;a="";if(Ext.isDefined(d)){a=a+d}a='<div class="batchDescription">'+a+"</div>";return{rowBody:a}},billItemTermDescriptionRowRenderer:function(a,h,k,l){var f=this;var m,c,e,g,d,b;g=k.data.policyTerm;b=k.data.miscTypeCodeDesc;m="Billing Item Effective Dates - ";if(Ext.isDefined(g)){m=m+g}if(typeof(b)!="undefined"&&b!=null&&b!=""){m=m+" - "+b}m='<div class="billItemTermDescription">'+m+"</div>";return{rowBody:m}},scheduledItemsDescriptionRowRenderer:function(b,f,g,h){var e=this;var a='<tr class="remittedTableTitle"><td colspan="5">Remitted Detail</td></tr><tr><td>Statement Date</td><td>Gross</td><td>Commission</td><td>Net</td><td>Remitted</td></tr>';var c="";var l="";agencyStatement=Ext.DomQuery.select("AgencyStatements/AgencyStatement",g.store.proxy.reader.rawData);if(agencyStatement.length>0){var k="-$??????????#.00!"+g.data.currencySymbols;var m=Ext.getDom("_hiddenDisplayDtMask").value;for(i=0;i<agencyStatement.length;i++){statementDate=Ext.DomQuery.selectValue("StatementDate",agencyStatement[i]);dt=Ext.Date.parse(statementDate,"Y-m-d\\TH:i:s");grossAmount=Ext.DomQuery.selectValue("GrossAmount",agencyStatement[i]);commissionAmount=Ext.DomQuery.selectValue("CommissionAmount",agencyStatement[i]);netAmount=Ext.DomQuery.selectValue("NetAmount",agencyStatement[i]);remittedAmount=Ext.DomQuery.selectValue("RemittedAmount",agencyStatement[i]);var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:k});c=c+"<tr><td>"+Ext.Date.format(dt,m)+"</td><td>"+d.formatFloat(grossAmount)+"</td><td>"+d.formatFloat(commissionAmount)+"</td><td>"+d.formatFloat(netAmount)+"</td><td>"+d.formatFloat(remittedAmount)+"</td></tr>"}l='<div id="remittedDetail"><table>'+a+c+"</table></div>"}return{rowBody:l,rowBodyCls:"scheduledItemsList"}},closedMatchesDescriptionRowRenderer:function(b,m,o,p){var k=this;var a='<tr class="matchedTableTitle"><td colspan="6">Matched Items</td></tr><tr><td>Statement Date</td><td>Type</td><td>Gross</td><td>Commission</td><td>Net</td><td>Matched Amount</td></tr>';var e="";var s="";agencyStatement=Ext.DomQuery.select("MatchedItem",o.store.proxy.reader.rawData);if(agencyStatement.length>0){var r="-$??????????#.00!"+o.data.currencySymbols;var t=Ext.getDom("_hiddenDisplayDtMask").value;for(i=0;i<agencyStatement.length;i++){typeCode=Ext.DomQuery.selectValue("TypeCode",agencyStatement[i]);statementDate=Ext.DomQuery.selectValue("StatementDate",agencyStatement[i]);dt=Ext.Date.parse(statementDate,"Y-m-d");grossAmount=Ext.DomQuery.selectValue("GrossAmount",agencyStatement[i]);commissionAmount=Ext.DomQuery.selectValue("CommissionAmount",agencyStatement[i]);netAmount=Ext.DomQuery.selectValue("NetAmount",agencyStatement[i]);matchedAmount=Ext.DomQuery.selectValue("MatchedAmount",agencyStatement[i]);var l=Ext.DomQuery.selectNode("ItemComment",agencyStatement[i]);var g=Ext.create("DCT.Formatting",{numberType:"float",numberMask:r});if(l){var d=Ext.DomQuery.selectValue("@Originator",l);var q=Ext.DomQuery.selectValue("@Description",l);var f=Ext.DomQuery.selectValue("@CreationDate",l);var h=Ext.Date.parse(f,"Y-m-dTH:i:s");var t=Ext.getDom("_hiddenDisplayDtMask").value;var c=Ext.Date.format(h,t+", g:i a");e=e+"<tr><td>"+Ext.Date.format(dt,t)+"</td><td>"+typeCode+"</td><td>"+g.formatFloat(grossAmount)+"</td><td>"+g.formatFloat(commissionAmount)+"</td><td>"+g.formatFloat(netAmount)+"</td><td>"+g.formatFloat(matchedAmount)+'</td><td><a href="javascript:;" onclick="displayComment(null,\''+q+"','"+c+"','"+d+'\')"><img alt="Display Item Comment" title="Display Item Comment" src="'+DCT.imageDir+'icons/magnifier.png"/></a></td></tr>'}else{e=e+"<tr><td>"+Ext.Date.format(dt,t)+"</td><td>"+typeCode+"</td><td>"+g.formatFloat(grossAmount)+"</td><td>"+g.formatFloat(commissionAmount)+"</td><td>"+g.formatFloat(netAmount)+"</td><td>"+g.formatFloat(matchedAmount)+"</td><td></tr>"}}s='<div id="matchedItemDetail"><table>'+a+e+"</table></div>"}return{rowBody:s,rowBodyCls:"closedMatchesList"}},formatMatchedTotalColumnRenderer:function(a,c,g,f,k,l,e){var b="";var m="-$??????????#.00!"+g.data.currencySymbols;var d=Ext.create("DCT.Formatting",{numberType:"float",numberMask:m});var h=d.formatFloat(a);if(h.charAt(0)=="-"){h="("+h.substr(1)+")"}b="<div>"+h+"</div>";return b},formatPolicyReferenceRenderer:function(a,c,g,f,h,k,d){var l="";var b=g.data.ItemObjectType;var e=g.data.PolicyTermId=="0"?"":g.data.PolicyTermId;if((b!="CA")&&(b!="AA")&&(e!="")){l='<a href="javascript:;" id="policyIdLink" onclick="DCT.Submit.openPolicySummary(\'policySummary\',\''+e+"');\">"+a+"</a>"}else{l=a}return l},formatEffectiveDateRenderer:function(a,d,g,f,h,k,e){var c="",l;var b=g.data.ItemObjectType;l=Ext.getDom("_hiddenDisplayDtMask").value;c='<a href="javascript:;" id="scheduleItemLink" onclick="DCT.Submit.gotoScheduleItemDetail(\''+g.data.ItemObjectId+"','"+g.data.ItemObjectType+"');\">"+Ext.Date.format(a,l)+"</a>";return c},formatMatchedDateRenderer:function(a,c,f,e,g,h,d){var b="",k;k=Ext.getDom("_hiddenDisplayDtMask").value;b='<a href="javascript:;" id="matchItemDetailLink" onclick="DCT.Submit.gotoMatchedItemDetail(\''+f.id+"');\">"+Ext.Date.format(a,k)+"</a>";return b},formatItemCommentColumnRenderer:function(g,c,f,h,d,b,e){var a="";if(g!=""){a='<a href="javascript:;" onclick="DCT.Util.displayBillingComment(\''+b.grid.id+"', '"+f.id+'\')"><img alt="Display Item Comment" title="Display Item Comment" src="'+DCT.imageDir+'icons/magnifier.png"/></a>'}return a},commentsDescriptionRowRenderer:function(b,f,c,e){var d=this;var a="";a='<div id="commentDetail">'+c.data.description+"</div>";return{rowBody:a}},formatCommentTypeActionRenderer:function(g,c,f,h,d,b,e){var a="";if(f.data.commentTypeCode=="CP"){a="<a href=\"javascript:;\" onclick=\"DCT.Grid.updateCommentTypeCode('scheduledItemDetail','updateCommentType','"+f.id+"', 'CI', '"+f.data.commentLockingTS+'\');"><img src="'+DCT.imageDir+'icons/decline.png" alt="Remove comment from statement" title="Remove item from statement"/></a>'}else{if(f.data.commentTypeCode=="CI"){a="<a href=\"javascript:;\" onclick=\"DCT.Grid.updateCommentTypeCode('scheduledItemDetail','updateCommentType','"+f.id+"', 'CP', '"+f.data.commentLockingTS+'\');"><img src="'+DCT.imageDir+'icons/add.png" alt="Add comment to statement" title="Add comment to statement"/></a>'}}return a},agencyPaymentAmountRenderer:function(a,b,k,h,l,m,f){var o=k.data.allocationTypeCode;var c=k.data.destinationId;var g=k.data.transactionDate;var p;var d=k.data.authorizedInstallment;var e=k.data.authorizedDisburse;switch(o){case"PD":case"DB":if(e=="true"){p='<div><a href="javascript:;" onclick="DCT.Submit.submitBillingProcessAction(\'viewDisbursementDetails\','+c+')">'+a+"</a></div>"}else{p="<div>"+a+"</div>"}break;default:p="<div>"+a+"</div>";break}return p},setPaymentDetailSelectionCheckbox:function(f,b,e,h,c,a,d){var g=e.data.authorizedToSuspend;if((e.data.availableForSuspense=="N")||(e.data.statusCode=="REV")||(g=="false")){return'<span class="x-grid-checkcolumn-disable"></span>'}else{return'<span class="x-grid-checkcolumn"></span>'}},paymentDetailCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(d,c){var e=d.data.authorizedToSuspend;if((d.data.availableForSuspense=="N")||(d.data.statusCode=="REV")||(e=="false")){return true}else{return false}},b);return a.getCount()},checkPaymentDetailSelectionCheckbox:function(a,b,e,c){var d=b.data.authorizedToSuspend;if((b.data.availableForSuspense=="N")||(b.data.statusCode=="REV")||(d=="false")){return false}else{return true}},candidateListItemDeselected:function(a,b,d){var c=Ext.get("processContinue");c.replaceCls("btnEnabled","btnDisabled")},candidateListItemSelected:function(a,b,d){var c=Ext.get("processContinue");c.replaceCls("btnDisabled","btnEnabled")},collectionAccountsListItemDeselected:function(a,b,d){var c=Ext.get("transferAction");c.replaceCls("btnEnabled","btnDisabled")},collectionAccountsListItemSelected:function(a,b,d){var c=Ext.get("transferAction");c.replaceCls("btnDisabled","btnEnabled")},suspenseItemDeselected:function(a,b,d){var c=a.getCount();if(c==0){DCT.Util.enableDisableActionButton(true,"suspenseActionA");DCT.Util.disableComponent("billingSuspenseActionField",true)}},suspenseItemDeselectedTest:function(b,d,f){var e=b.getCount();var c=Ext.getCmp("paymentOptionsRadiobuttons").getValue();if(e==0){var a=Ext.get("_redistributeAction");a.replaceCls("btnEnabled","btnDisabled")}},suspenseItemSelectedTest:function(b,c,e){var d=b.getCount();if(d>0){var a=Ext.get("_redistributeAction");a.replaceCls("btnDisabled","btnEnabled")}},suspenseItemSelected:function(a,b,e){var d=a.getCount();if(d>0){var c=Ext.getCmp("billingSuspenseActionField");DCT.Util.enableDisableActionButton(DCT.Util.checkIfSuspenseFieldBlank(c.getValue()),"suspenseActionA");DCT.Util.disableComponent("billingSuspenseActionField",false)}},setSuspenseItemSelectionCheckbox:function(f,b,e,g,c,a,d){if(e.data.authorized=="true"){return'<span class="x-grid-checkcolumn"></span>'}else{return'<span class="x-grid-checkcolumn-disable"></span>'}},suspenseItemCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(d,c){if(d.data.authorized=="true"){return false}else{return true}},b);return a.getCount()},setWrittenOffItemSelectionCheckbox:function(f,b,e,g,c,a,d){if(e.data.writeOffReasonCode=="TCOL"){return'<span class="x-grid-checkcolumn-disable"></span>'}else{return'<span class="x-grid-checkcolumn"></span>'}},writtenOffItemCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(d,c){if(d.data.writeOffReasonCode=="TCOL"){return true}else{return false}},b);return a.getCount()},checkSuspenseItemSelectionCheckbox:function(a,b,d,c){if(b.data.authorized=="true"){return true}else{return false}},checkWrittenOffItemSelectionCheckbox:function(a,b,d,c){if(b.data.writeOffReasonCode=="TCOL"){return false}else{return true}},writtenOffItemDeselected:function(a,b,d){var c=a.getCount();if(c==0){DCT.Util.enableDisableActionButton(true,"_reverseAction")}},writtenOffItemSelected:function(a,b,d){var c=a.getCount();if(c>0){DCT.Util.enableDisableActionButton(DCT.Util.checkIfReverseReasonFieldBlank(),"_reverseAction")}},setBatchSelectionCheckbox:function(f,b,e,g,c,a,d){if((e.data.StatusCode=="E")||(e.data.StatusCode=="O")){return'<span class="x-grid-checkcolumn"></span>'}else{return'<span class="x-grid-checkcolumn-disable"></span>'}},batchCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(d,c){if((d.data.StatusCode=="E")||(d.data.StatusCode=="O")){return false}else{return true}},b);return a.getCount()},checkBatchSelectionCheckbox:function(a,b,d,c){if((b.data.StatusCode=="E")||(b.data.StatusCode=="O")){return true}else{return false}},setReverseBatchSelectionCheckbox:function(f,b,e,g,c,a,d){if(e.data.StatusCode=="P"){return'<span class="x-grid-checkcolumn"></span>'}else{return'<span class="x-grid-checkcolumn-disable"></span>'}},reverseBatchCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(d,c){if(d.data.StatusCode=="P"){return false}else{return true}},b);return a.getCount()},checkReverseBatchSelectionCheckbox:function(a,b,d,c){if(b.data.StatusCode=="P"){return true}else{return false}},scheduledItemForOpenItemsDeselected:function(a,b,d){var c=a.getCount();if(c==0){DCT.Util.enableDisableActionButton(true,"applyOpenItemsAction");DCT.Util.disableComponent("openItemsActionField",true)}},scheduledItemForOpenItemsSelected:function(a,b,d){var c=a.getCount();if(c>0){DCT.Util.enableDisableActionButton(DCT.Util.checkIfOpenItemsFieldBlank(),"applyOpenItemsAction");DCT.Util.disableComponent("openItemsActionField",false)}},scheduledItemForStatementDeselected:function(a,b,d){var c=a.getCount();if(c==0){DCT.Util.enableDisableActionButton(true,"applyStatementAction");DCT.Util.disableComponent("statementActionField",true)}},scheduledItemForStatementSelected:function(a,b,d){var c=a.getCount();if(c>0){DCT.Util.enableDisableActionButton(DCT.Util.checkIfStatementFieldBlank(),"applyStatementAction");DCT.Util.disableComponent("statementActionField",false)}},setScheduledItemSelectionCheckbox:function(f,b,e,g,c,a,d){statementType=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/Type",e.store.proxy.reader.rawData);statementStatus=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/StatementStatus",e.store.proxy.reader.rawData);if(!Ext.isDefined(statementType)){return'<span class="x-grid-checkcolumn"></span>'}else{if((statementType=="IP")&&(statementStatus!="A")&&(statementStatus!="D")&&(statementStatus!="IP")){return'<span class="x-grid-checkcolumn"></span>'}else{return'<span class="x-grid-checkcolumn-disable"></span>'}}},scheduledItemCheckboxAdjustedCount:function(){var b=this,a=b.queryBy(function(e,d){var c=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/Type",e.store.proxy.reader.rawData),f=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/StatementStatus",e.store.proxy.reader.rawData);if(Ext.isDefined(c)&&(!((c=="IP")&&(f!="A")&&(f!="D")&&(f!="IP")))){return true}else{return false}},b);return a.getCount()},checkScheduledItemsSelectionCheckbox:function(a,b,d,c){statementType=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/Type",b.store.proxy.reader.rawData);statementStatus=Ext.DomQuery.selectValue("/page/content/OpenList/StatementHeader/StatementStatus",b.store.proxy.reader.rawData);if(!Ext.isDefined(statementType)){return true}else{if((statementType=="IP")&&(statementStatus!="A")&&(statementStatus!="D")){return true}else{return false}}},holdEventItemSelectedDeselected:function(c,e,g){var k=false;var b=false;var a=Ext.getCmp("holdEventsList");if(a){var f=a.getSelectionModel();if(f.getCount()==0){DCT.Util.getSafeElement("holdEventId").value="";k=false}else{DCT.Util.getSafeElement("holdEventId").value=f.getSelection()[0].get("id");k=true}}var h=Ext.getCmp("holdDisbursementEventsList");if(h){var d=h.getSelectionModel();if(d.getCount()==0){DCT.Util.getSafeElement("holdDisbEventId").value="";b=false}else{DCT.Util.getSafeElement("holdDisbEventId").value=d.getSelection()[0].get("id");b=true}}if(k||b){DCT.Util.enableDisableActionButton(false,"holdAction")}else{DCT.Util.enableDisableActionButton(true,"holdAction")}}});Ext.apply(DCT.Grid,{paymentAllocationItemDeselected:function(c,d,g){var f=c.getCount();if(f==0){if(Ext.get("reversePaymentA")){var e=Ext.get("reversePaymentA");var b=Ext.getCmp("billingReverseReasonField");if(!Ext.isEmpty(b.getValue())){e.replaceCls("btnDisabled","btnEnabled")}b.setDisabled(false)}if(Ext.get("suspendPaymentA")){var a=Ext.get("suspendPaymentA");a.replaceCls("btnEnabled","btnDisabled")}}},paymentAllocationItemSelected:function(c,d,g){var f=c.getCount();if(f>0){if(Ext.get("reversePaymentA")){var e=Ext.get("reversePaymentA");e.replaceCls("btnEnabled","btnDisabled");var b=Ext.getCmp("billingReverseReasonField");b.setDisabled(true)}if(Ext.get("suspendPaymentA")){var a=Ext.get("suspendPaymentA");a.replaceCls("btnDisabled","btnEnabled")}}},batchItemDeselected:function(b,c,e){var d=b.getCount();if(d==0){var a=Ext.get("processBatch");a.replaceCls("btnEnabled","btnDisabled");DCT.Util.disableComponent("_processAction",true)}},batchItemSelected:function(b,c,e){var d=b.getCount();if(d>0){var a=Ext.get("processBatch");a.replaceCls("btnDisabled","btnEnabled");DCT.Util.disableComponent("_processAction",false)}},highLightRow:function(a,e,c,b){var d=DCT.Grid.checkIfAddPolicyHoldClass(a,e,c,b);if(d==""){d=DCT.Grid.checkIfAddPolicyCollectionsClass(a,e,c,b)}return d},checkIfAddPolicyHoldClass:function(a,e,c,b){var d="";if(a.data.holdTypeCode!="N"&&a.data.holdTypeCode!=""){d="policyOnHold"}return d},checkIfAddPolicyCollectionsClass:function(a,e,c,b){var d="";if(a.data.collectionStatusCode=="STRT"){d="policyInInternalCollections"}return d},reverseBatchItemDeselected:function(a,e,c){var d=a.getCount();if(d==0){var b=Ext.get("reverseBatch");b.replaceCls("btnEnabled","btnDisabled")}},reverseBatchItemSelected:function(a,c,e){var d=a.getCount();if(d>0){var b=Ext.get("reverseBatch");b.replaceCls("btnDisabled","btnEnabled")}},statementImportItemDeselected:function(a,b,c){if(a.getCount()==0){DCT.Util.enableDisableActionButton(true,"importStatementAction")}},statementImportItemSelected:function(a,b,c){if(a.getCount()>0){DCT.Util.enableDisableActionButton(false,"importStatementAction")}},agencyPaymentAllocationItemDeselected:function(c,e,h){var g=c.getCount();if(g==0){var f=Ext.get("reversePaymentA");var b=Ext.getCmp("billingReverseReasonField");var d=Ext.getCmp("billingSuspendReasonField");var a=Ext.get("suspendPaymentA");if(!Ext.isEmpty(b.getValue())){f.replaceCls("btnDisabled","btnEnabled")}a.replaceCls("btnEnabled","btnDisabled");b.setDisabled(false);d.setDisabled(true)}},agencyPaymentAllocationItemSelected:function(c,e,h){var g=c.getCount();if(g>0){var f=Ext.get("reversePaymentA");var b=Ext.get("suspendPaymentA");var a=Ext.getCmp("billingReverseReasonField");var d=Ext.getCmp("billingSuspendReasonField");if(!Ext.isEmpty(d.getValue())){b.replaceCls("btnDisabled","btnEnabled")}f.replaceCls("btnEnabled","btnDisabled");a.setDisabled(true);d.setDisabled(false)}}});Ext.apply(DCT.Util,{showHideManualAllocationGroup:function(a){DCT.Util.hideShowGroup("manualAllocationGroup",a)},showResuspendDisbursement:function(a){DCT.Util.hideShowGroup("reBillId",!a);DCT.Util.hideShowGroup("resuspendDisbursementOptions",a);DCT.Util.hideShowGroup("holdOptions",a)},showHideManualAllocationFields:function(a){DCT.Util.hideShowGroup("allocationDetail",a)},showHidePaymentFields:function(l){var k=(Ext.isDefined(Ext.getCmp("paymentMethod")))?(Ext.getCmp("paymentMethod").getValue()):l;var d=Ext.get("_externalPartyPaymentIndicator");var c=Ext.get("manuallyAllocateCheckbox");var f=Ext.get("unidentifiedGroup");if(d){var o=d.getValue();var a=Ext.get("paymentMethods");var h=false;if(a){var g=a.getValue().split("|");var e;var b=g.length;for(e=0;e<=b-1;e++){if(k==g[e]){h=true}}}if(o=="True"&&(h)){DCT.Util.hideShowGroup("paymentAction",false);DCT.Util.hideShowGroup("redirectAction",true);if(c){DCT.Util.hideShowGroup("manuallyAllocateCheckbox",false)}if(f){DCT.Util.hideShowGroup("unidentifiedGroup",false)}k="EX"}else{DCT.Util.hideShowGroup("paymentAction",true);DCT.Util.hideShowGroup("redirectAction",false);if(c){DCT.Util.hideShowGroup("manuallyAllocateCheckbox",true)}if(f){DCT.Util.hideShowGroup("unidentifiedGroup",true)}}}DCT.Util.hideShowGroup("checkNumberHeader",(k=="CK"||k=="EC"));DCT.Util.hideShowGroup("checkNumberInput",(k=="CK"||k=="EC"));DCT.Util.hideShowGroup("postmarkDateHeader",(k=="CK"));DCT.Util.hideShowGroup("postmarkDateInput",(k=="CK"));DCT.Util.hideShowGroup("checkRecvDateHeader",(k=="CK"||k=="EC"||k=="CS"||k=="CC"));DCT.Util.hideShowGroup("checkRecvDateInput",(k=="CK"||k=="EC"||k=="CS"||k=="CC"));DCT.Util.hideShowGroup("bankRouteNumberHeader",(k=="EC"));DCT.Util.hideShowGroup("bankRouteNumberInput",(k=="EC"));DCT.Util.hideShowGroup("bankAccountNumberHeader",(k=="EC"));DCT.Util.hideShowGroup("bankAccountNumberInput",(k=="EC"));DCT.Util.hideShowGroup("bankAcctTypeHeader",(k=="EC"));DCT.Util.hideShowGroup("bankAcctTypeInput",(k=="EC"));DCT.Util.hideShowGroup("addressHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("addressInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cityHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cityInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("stateHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("stateInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("postalCodeHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("postalCodeInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("countryHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("countryInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("phoneHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("phoneInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("emailHeader",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("emailInput",(k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("firstNameCheckHeader",(k=="CK"||k=="EC"));DCT.Util.hideShowGroup("firstNameCardHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("firstNameInput",(k=="CK"||k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("lastNameCheckHeader",(k=="CK"||k=="EC"));DCT.Util.hideShowGroup("lastNameCardHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("lastNameInput",(k=="CK"||k=="EC"||k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("firstNameAgentHeader",(false));DCT.Util.hideShowGroup("lastNameAgentHeader",(false));DCT.Util.hideShowGroup("cardTypeHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardTypeInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardNumberHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardNumberInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardVerificationHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardVerificationInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardExpirationHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardExpirationInput",(k=="DC"||k=="PAC"||k=="PAD"));var m=Ext.get("_hiddenCultureCode").getValue();if(m=="en-GB"){DCT.Util.hideShowGroup("cardReferenceNumberHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardReferenceNumberInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardStartDateHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardStartDateInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardIssueNumberHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardIssueNumberInput",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardAuthCodeHeader",(k=="DC"||k=="PAC"||k=="PAD"));DCT.Util.hideShowGroup("cardAuthCodeInput",(k=="DC"||k=="PAC"||k=="PAD"))}else{DCT.Util.hideShowGroup("cardReferenceNumberHeader",(false));DCT.Util.hideShowGroup("cardReferenceNumberInput",(false));DCT.Util.hideShowGroup("cardStartDateHeader",(false));DCT.Util.hideShowGroup("cardStartDateInput",(false));DCT.Util.hideShowGroup("cardIssueNumberHeader",(false));DCT.Util.hideShowGroup("cardIssueNumberInput",(false));DCT.Util.hideShowGroup("cardAuthCodeHeader",(false));DCT.Util.hideShowGroup("cardAuthCodeInput",(false))}},hideSearchAccountGroup:function(a){DCT.Util.hideShowGroup("accountTransferToAccountSearchId",a);DCT.Util.hideShowGroup("transferProcessingGroup",!a)},removeReferenceFields:function(a){Ext.get("accountPolicyReferenceId").remove(false);if(Ext.get("accountFound")){Ext.get("accountFound").remove(false)}Ext.getDom("_hiddenAccountId").value="";Ext.getDom("_hiddenPolicyReference").value="";if(a){DCT.Util.showHidePaymentDetails(false)}},showHidePaymentDetails:function(a){DCT.Util.hideShowGroup("paymentDetails",a);DCT.Util.hideShowByClass("paymentAction",a,"x-hidden")},showHideReferenceSearchFields:function(a){DCT.Util.hideShowGroup("accountPolicyNameSearchId",a)},showHideReferenceFields:function(a){DCT.Util.hideShowGroup("accountPolicyNameSearchId",a=="acctNotFound"||a=="changeAcct");DCT.Util.hideShowGroup("unidentifiedFieldsId",a=="unidentified")},showHidePromisesToPay:function(){allPayRadio=Ext.getCmp("allPromiseToPayId");allPayChecked=(Ext.isDefined(allPayRadio))?allPayRadio.getValue():false;if(allPayChecked){DCT.Util.setPromiseToPayListTotals()}if(Ext.get("promiseToPayListGroup")){DCT.Util.hideShowGroup("promiseToPayListGroup",allPayChecked)}},showHideAgencyPaymentFields:function(a){DCT.Util.hideShowGroup("checkNumberHeader",a=="CK");DCT.Util.hideShowGroup("checkNumberInput",a=="CK");DCT.Util.hideShowGroup("postmarkDateHeader",a=="CK");DCT.Util.hideShowGroup("postmarkDateInput",a=="CK");DCT.Util.hideShowGroup("checkRecvDateHeader",a=="CK"||a=="CS");DCT.Util.hideShowGroup("checkRecvDateInput",a=="CK"||a=="CS");DCT.Util.hideShowGroup("firstNameCheckHeader",false);DCT.Util.hideShowGroup("firstNameAgentHeader",false);DCT.Util.hideShowGroup("firstNameInput",false);DCT.Util.hideShowGroup("lastNameCheckHeader",a=="CK");DCT.Util.hideShowGroup("lastNameAgentHeader",false);DCT.Util.hideShowGroup("lastNameInput",a=="CK");DCT.Util.hideShowGroup("firstNameCardHeader",false);DCT.Util.hideShowGroup("lastNameCardHeader",false);DCT.Util.hideShowGroup("wireTransferNumberHeader",a=="WT");DCT.Util.hideShowGroup("wireTransferNumberInput",a=="WT");DCT.Util.hideShowGroup("agentIdHeader",false);DCT.Util.hideShowGroup("agentIdInput",false)}});Ext.apply(DCT.Util,{validateAvailableForSuspense:function(a){var b=a.grid.getSelectionModel().getSelection();for(i=0;i<b.length;i++){if(b[i].data.availableForSuspense=="N"){return false}}return true},validateECheckAuthorizedAction:function(c,a){if(c!="DB"&&c!="WO"&&c!="TR"){return true}var d=a.grid.getSelectionModel().getSelected();var b=false;for(i=0;i<d.items.length;i++){if(d.items[i].data.paymentMethod.toUpperCase()=="1EFT"&&d.items[i].data.StatusCode.toUpperCase()=="P"){b=true;break}}return !b},validateCardCapturedAction:function(d,a){if(d!="DB"&&d!="WO"){return true}var e=a.grid.getSelectionModel().getSelected();var c=false;for(i=0;i<e.length;i++){var b=e.items[i];if((b.data.paymentMethod.toUpperCase()=="1XCC"||b.data.paymentMethod.toUpperCase()=="1XDC"||b.data.paymentMethod.toUpperCase()=="RCC"||b.data.paymentMethod.toUpperCase()=="RDC")&&b.data.cardPaymentStatus.toUpperCase()!="C"){c=true;break}}return !c},validateAvailableForDisbursement:function(l){var g,f,c;var a=true;var d=l.grid.getSelectionModel().getSelection();for(i=0;i<d.length;i++){if(i==0){g=d[i].data.refundMethod;f=d[i].data.accountNumber;c=d[i].data.token}else{if(g!=d[i].data.refundMethod){a=false;break}else{if((g=="CC"||g=="DC"||g=="EFT"||g=="1EFT")&&(f!=d[i].data.accountNumber)){a=false;break}else{if((g=="1XDC"||g=="1XCC"||g=="RDC"||g=="RCC")&&((c!=d[i].data.token)||(f!=d[i].data.accountNumber))){a=false;break}}}}}var e=false;var k=false;var b=Ext.getCmp("refundToCheck");if(b){e=b.getValue()}var h=Ext.getCmp("refundToEFT");if(h){k=h.getValue()}if(e||k){a=true}return a},validateAvailableForHoldorRelease:function(a){var b=Ext.getCmp("billingSuspenseActionField").getValue();var c=a.grid.getSelectionModel().getSelection();for(i=0;i<c.length;i++){if(b==c[i].data.statusCd){return false}}return true},validateBillingScreen:function(P,E){var o=this;var M="";var r=false;var K;var g;switch(P){case"formPost":var J=Ext.getCmp("accountPolicyName");if(J){K=J;g=K.getValue();if(g!=true){M=DCT.T("PaymentReferenceRequired");r=true}}break;case"manualInstallmentRedistribution":var k=Ext.getCmp("paymentOptionsRadiobuttons").getValue();if(k.getRawValue()=="accountLevel"){K=Ext.getCmp("startDate");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("PaymentStartDateRequired");r=true}else{r=false}if(!r){K=Ext.getCmp("numberOfInstallments");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("PaymentCountRequired");r=true}else{r=false}}}else{r=false}break;case"processWriteOffPayment":K=Ext.getCmp("billingWriteOffSuspenseActionField");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("WriteOffReasonRequired");r=true}else{r=false}break;case"reversePayment":K=Ext.getCmp("billingReverseReasonField");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("ReasonRequiredReversal");r=true}else{r=false}break;case"processSuspendPayment":K=Ext.getCmp("billingSuspendReasonField");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("ReasonRequiredSuspension");r=true}else{r=false}break;case"suspenseList":K=Ext.getCmp("billingSuspenseActionField");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredSuspenseAction");r=true}else{r=false}break;case"accountSearch":K=Ext.getCmp("quickSearchTextId");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredSearchKey");r=true}else{r=false}break;case"reverseMatch":K=Ext.getCmp("reversalReasonCodeId");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("ReasonRequiredReversal");r=true}else{r=false}if(!r){K=Ext.getCmp("comment");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredComment");r=true}else{r=false}}break;case"accountDashBoardSearch":K=Ext.getCmp("searchByNbr");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredSearchKey");r=true}else{r=false}break;case"transferToAccountSearch":case"referenceSearch":K=Ext.getCmp("searchByNbr");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredReferenceNumber");r=true}else{r=false}break;case"processEftRequestDetails":r=true;K=Ext.getCmp("drawDate");var m=K.getValue();if(Ext.isEmpty(m)){DCT.Util.enableDisableActionButton(true,"eftRequestAction");M=DCT.T("RequiredDrawDate")}else{var a=Ext.get("_hiddenDateDisplayFormat").getValue();var u=Ext.Date.format(m,"Y-m-d");if(u!=""){var z=Ext.getDom("_hiddenDrawDate");z.value=u;var D=Ext.getCmp("DrawAmt");if(D!=undefined&&D!=null){var c=D.getValue();var H=Ext.getDom("_hiddenDrawAmount");H.value=c}r=false}}break;case"processEftRequestCancel":r=false;break;case"processAddBatchPayment":K=Ext.getCmp("paymentAmount");var b=Ext.get("_hiddenBatchTotalAmt").getValue();var p=Ext.get("_hiddenControlTotalAmt").getValue();g=K.getValue();var G=Number(parseFloat(b)+parseFloat(g)).toFixed(2);if(parseFloat(p)>0){if(parseFloat(G)>parseFloat(p)){M=DCT.T("BatchTotalExceedsControlTotal");r=true}else{r=false}}else{r=false}if(!r){K=Ext.getCmp("expMonth");g=K.getValue();var A=Ext.getCmp("paymentMethod").getValue();if(A=="DC"||A=="PAC"||A=="PAD"){var l=new Date();var x=l.getMonth()+1;var h=l.getYear();var L=Ext.getCmp("expMonth").getValue();var y=Ext.getCmp("expYear").getValue();if((y==h)&&(L<x)){M=DCT.T("ExpirationMonthAndYearRangeError");r=true}else{r=false}if(!r){var C=Ext.getCmp("_cardNumberId");if(!C.isValid()){M=DCT.T("InvalidCardNumber");K=C;r=true}else{r=false}}}else{r=false}}break;case"processUpdateBatchPayment":K=Ext.getCmp("expMonth");g=K.getValue();var A=Ext.getCmp("paymentMethod").getValue();if(A=="DC"){var l=new Date();var x=l.getMonth()+1;var h=l.getYear();var L=Ext.getCmp("expMonth").getValue();var y=Ext.getCmp("expYear").getValue();if((y==h)&&(L<x)){M=DCT.T("ExpirationMonthAndYearRangeError");r=true}else{r=false}if(!r){var C=Ext.getCmp("_cardNumberId");if(!C.isValid()){M=DCT.T("InvalidCardNumber");K=C;r=true}else{r=false}}}else{r=false}break;case"processMakeAPayment":var t=(Ext.get("_hiddenAgencyLiteInd").getValue()=="true");var v=Ext.get("totalSuspenseAmtId").getValue();r=false;if(t&&Ext.getCmp("manuallyAllocatePaymentId").getValue()&&parseFloat(Ext.get("amountAllocatedTotalId").getValue())>parseFloat(v)){var O=Ext.create("DCT.Formatting",{numberType:"float",numberMask:Ext.getDom("_hiddenDisplayAmtMask").value});M=DCT.T("AllocatedAmountExceedsSuspenseAmount",{amount:O.formatFloat(v)});r=true;K=Ext.getCmp("_otherAmountId");break}case"processAddPayment":K=Ext.getCmp("expMonth");g=K.getValue();var A=Ext.getCmp("paymentMethod").getValue();if(A=="DC"){var l=new Date();var x=l.getMonth()+1;var h=l.getYear();var L=Ext.getCmp("expMonth").getValue();var y=Ext.getCmp("expYear").getValue();if((y==h)&&(L<x)){M=DCT.T("ExpirationMonthAndYearRangeError");r=true}else{r=false}if(!r){var C=Ext.getCmp("_cardNumberId");if(!C.isValid()){M=DCT.T("InvalidCardNumber");K=C;r=true}else{r=false}}}else{r=false}break;case"processSingleBatch":K=Ext.get("addPayment");var b=Ext.get("_hiddenBatchTotalAmt").getValue();var p=Ext.get("_hiddenControlTotalAmt").getValue();if(parseFloat(p)>0){if(parseFloat(b)!=parseFloat(p)){M=DCT.T("BatchTotalMismatch");r=true}else{r=false}}else{r=false}if(!r){if(parseFloat(p)==0&&parseFloat(b)==0){M=DCT.T("BatchTotalZero");r=true}else{r=false}}break;case"processBatch":K=Ext.getCmp("_processAction");g=K.getValue();if(Ext.isEmpty(g)){M=DCT.T("RequiredProcessingAction");r=true}else{if((g=="deposit")&&(!DCT.Util.batchTotalsValid())){M=DCT.T("BatchTotalError");r=true}else{if((g=="reverse")&&(!DCT.Util.batchItemsValid())){M=DCT.T("BatchTotalOpenStatus");r=true}else{r=false}}}break;case"paymentSearch":if(E!="searchPayment"){K=Ext.getCmp(E);switch(E){case"exactAmount":case"startAmount":case"endAmount":if(!K.isValid()){return false}break;case"exactDate":case"startDate":case"endDate":if(!K.isValid()){return false}break}}var F=Ext.getCmp("_dateRange").getValue();var N=Ext.getCmp("_amtRange").getValue();if(F){var f=Ext.get("_currentSystemDate");var l=Ext.isEmpty(f)?new Date():new Date(f.getValue());var e=Ext.getCmp("startDate");var d=e.getValue();var q=Ext.getCmp("endDate").getValue();if(((Ext.isEmpty(d))&&(!Ext.isEmpty(q)))||((!Ext.isEmpty(d))&&(Ext.isEmpty(q)))){if(Ext.isEmpty(d)){K=Ext.getCmp("startDate")}else{K=Ext.getCmp("endDate")}M=DCT.T("RequiredSearchDates");r=true}else{if(d>q){K=Ext.getCmp("startDate");M=DCT.T("DateStartGreaterThanEnd");r=true}else{if(q>l||d>l){if(d>l){K=Ext.getCmp("startDate")}else{K=Ext.getCmp("endDate")}M=DCT.T("DatePastToday");r=true}else{if((!Ext.isEmpty(d))&&(!Ext.isEmpty(q))){if(d.getTime()==q.getTime()){K=Ext.getCmp("startDate");M=DCT.T("DatesEqual");r=true}else{r=false}}else{r=false}}}}}else{r=false}if(!r){if(N){var s=Ext.getCmp("startAmount").getValue();var I=Ext.getCmp("endAmount").getValue();var B=Ext.isEmpty(s)?0:Ext.get("_startAmountHidden").getValue();var w=Ext.isEmpty(I)?0:Ext.get("_endAmountHidden").getValue();if(((Ext.isEmpty(s))&&(!Ext.isEmpty(I)))||((!Ext.isEmpty(s))&&(Ext.isEmpty(I)))){if(Ext.isEmpty(s)){K=Ext.getCmp("startAmount")}else{K=Ext.getCmp("endAmount")}M=DCT.T("AmountsRequired");r=true}else{if(parseFloat(B)>parseFloat(w)){K=Ext.getCmp("startAmount");M=DCT.T("AmountStartPastEnd");r=true}else{if(parseFloat(B)==parseFloat(w)&&B>0&&w>0){K=Ext.getCmp("startAmount");M=DCT.T("AmountsCannotBeEqual");r=true}else{r=false}}}}}break}if(r){o.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),M,function(Q){o.removeTabs(false);K.focus()},o)}return(!r)},verifyAllocationAmounts:function(b){var a=this;if(DCT.Util.isButtonDisabled(b)){return}totalSuspenseElement=Ext.get("totalSuspenseAmtId");totalRemainElement=Ext.get("amountRemainingTotalId");if(parseFloat(totalSuspenseElement.getValue())==parseFloat(totalRemainElement.getValue())){a.removeTabs(true);Ext.Msg.confirm(DCT.T("Confirm"),DCT.T("AmountsNotAllocated"),function(c,d){a.removeTabs(false);if(c=="yes"){DCT.Submit.submitBillingPageAction("suspenseList","processAllocationPayment",true)}else{Ext.getCmp("processAllocation").focus()}},a)}else{DCT.Submit.submitBillingPageAction("suspenseList","processAllocationPayment",true)}},batchTotalsValid:function(){var c=Ext.getCmp("waitingDepositBatchList").getSelectionModel().getSelection();for(i=0;i<c.length;i++){var b=c[i].data.ControlTotal;var a=c[i].data.BatchTotal;if(parseFloat(b)>0){if(parseFloat(a)!=parseFloat(b)){return false}}else{if(parseFloat(a)==0){return false}}}return true},batchItemsValid:function(){var b=Ext.getCmp("depositedBatchList").getSelectionModel().getSelection();for(i=0;i<b.length;i++){var a=b[i].data.StatusCode;if(a=="O"){return false}}return true},validateAvailableForHold:function(a){var b=a.grid.getSelectionModel().getSelection();for(i=0;i<b.length;i++){if(b[i].data.ItemStatusCode!="BILL"){return false}}return true},validateAvailableForRelease:function(a){var b=a.grid.getSelectionModel().getSelection();for(i=0;i<b.length;i++){if(b[i].data.ItemStatusCode=="BILL"){return false}}return true},validateAvailableForDeletion:function(a){var b=a.grid.getSelectionModel().getSelection();for(i=0;i<b.length;i++){if(b[i].data.ItemObjectType!="CA"){return false}}return true},validateCommentsCreated:function(){var c=Ext.getCmp("holdReasonField").getValue();var b=Ext.get("hiddenGlobalComment").getValue();if(c!=""){if((c=="OTHR")&&(b=="")){return false}}else{var a=Ext.get("tblItemListDetail").dom.rows.length-1;for(i=1;i<=a;i++){var d=Ext.getCmp("holdItemReasonField"+i).getValue();var e=Ext.get("hiddenComment"+i).getValue();if((d=="OTHR")&&(e=="")){return false}}}return true},validateRemainingBalanceOption:function(){var c=Ext.get("hiddenBalance").getValue();if(c!="0.0000"){var a=Ext.getCmp("leaveOpenBalanceOption").getValue();var b=Ext.getCmp("writeOffOption").getValue();var d=Ext.getCmp("writeOffReasonCode").getValue();if(!a&&!b){return"balanceOption"}if(b&&d==""){return"writeOffReasonBlank"}}return""},cancelEftRequest:function(b){var a=this;DCT.Submit.actionVerify(DCT.T("CancelTransaction"),a.completeEftRequestCancel)},completeEftRequestCancel:function(a){if(a!="no"){DCT.Submit.submitBillingPageAction("accountSummary","processEftRequestCancel",true,"eftRequestCancel")}},validateEditHoldEndDate:function(){var c=Ext.getCmp("holdEndDate").getValue();var b=Ext.getCmp("holdStartDate").getValue();var a=Ext.getCmp("holdBillingIndefinitely").getValue();var d=false;if(a){d=true}else{if(!Ext.isEmpty(c)){if(Date.parse(c)<=Date.parse(b)){d=false;Ext.create("DCT.AlertMessage",{msg:DCT.T("StartDateGreaterThanEndDateError"),title:DCT.T("Alert")}).show()}else{d=true}}else{d=false}}return d}});Ext.apply(DCT.Util,{setSearchDataValues:function(b,a){this.clearSearchDataValues();switch(a){case"LC":DCT.Util.getSafeElement("_licenseNumber").value=Ext.getCmp("searchLicenseId").getValue();break;case"PH":DCT.Util.getSafeElement("_phoneNumber").value=Ext.getCmp("searchPhoneId").getValue();break;case"RF":DCT.Util.getSafeElement("_referenceNumber").value=Ext.getCmp("searchReferenceId").getValue();break;case"NA":case"OT":this.searchNameAddressValues(b);break}if(a=="OT"){DCT.Util.getSafeElement("_dob").value=Ext.getCmp("searchDOBId").getValue()}else{DCT.Util.getSafeElement("_soundexIndicator").value=(Ext.getCmp("searchSoundexId").getValue())?"S":" "}DCT.Util.getSafeElement("_partyTypeCode").value=b;DCT.Util.getSafeElement("_listStart").value="0";DCT.Util.getSafeElement("_listLength").value="10"},searchNameAddressValues:function(a){switch(a){case"P":DCT.Util.getSafeElement("_firstName").value=Ext.getCmp("searchFirstNameId").getValue();DCT.Util.getSafeElement("_middleName").value=Ext.getCmp("searchMiddleNameId").getValue();DCT.Util.getSafeElement("_name").value=Ext.getCmp("personPartyNameId").getValue();break;case"O":DCT.Util.getSafeElement("_name").value=Ext.getCmp("organizationPartyNameId").getValue();break;case"AG":DCT.Util.getSafeElement("_name").value=Ext.getCmp("agencyPartyNameId").getValue();break}DCT.Util.getSafeElement("_address1").value=Ext.getCmp("searchAddress1Id").getValue();DCT.Util.getSafeElement("_city").value=Ext.getCmp("searchCityId").getValue();DCT.Util.getSafeElement("_stateCode").value=Ext.getCmp("searchStateId").getValue();DCT.Util.getSafeElement("_postalCode").value=Ext.getCmp("searchZipCodeId").getValue()},clearSearchDataValues:function(){var a="";DCT.Util.getSafeElement("_licenseNumber").value=a;DCT.Util.getSafeElement("_phoneNumber").value=a;DCT.Util.getSafeElement("_referenceNumber").value=a;DCT.Util.getSafeElement("_address1").value=a;DCT.Util.getSafeElement("_city").value=a;DCT.Util.getSafeElement("_stateCodeCombo").value=a;DCT.Util.getSafeElement("_postalCode").value=a;DCT.Util.getSafeElement("_firstName").value=a;DCT.Util.getSafeElement("_middleName").value=a;DCT.Util.getSafeElement("_name").value=a;DCT.Util.getSafeElement("_referenceNumber").value=a},getSelectedParties:function(){var c=Ext.getCmp("searchResultsData").getSelectionModel().getSelection();var a=new Array();for(var b=0;b<c.length;b++){a.push(c[b].id)}DCT.Util.getSafeElement("_selectedRecords").value=a.join(",")}});Ext.apply(DCT.Submit,{submitPartyPage:function(b){var a=this;DCT.Util.getSafeElement("_targetPage").value=b;if(b=="policySummary"){DCT.Util.getSafeElement("_policyId").value=""}if(b=="partyManagement"){DCT.Util.getSafeElement("__overrideTarget").value="partyIsRelationship"}if(b=="partyIsCandidate"){DCT.Util.setSearchDataValues((Ext.getDom("lookingForSelectionId").value),(Ext.getDom("searchBySelectionId").value))}if(b=="partyLinkPeoplePlaces"){DCT.Util.getSelectedParties()}a.secureAction(b);a.submitForm()},submitPartyInvolvementsPage:function(a,b){DCT.Util.getSafeElement("_partyId").value=b;DCT.Submit.submitPartyPage(a)},submitPartyPageAction:function(e,d,b,a){var c=this;if(typeof(b)!="undefined"){if(!b){if(DCT.Util.isButtonDisabled(a)){return}}}if(DCT.Util.validatePartyScreen(d,a)){DCT.Util.getSafeElement("_targetPage").value=e;DCT.Util.getSafeElement("_submitAction").value=d;c.secureAction(e);c.submitForm()}},setPolicyPortal:function(b,c){var a=this;document.forms[0].action=DCT.PolicySystemURL;DCT.Util.getSafeElement("_PortalName").value="AdminPAS";DCT.Util.getSafeElement("_targetPage").value="interview";DCT.Util.initializeFields();DCT.Util.getSafeElement("_autoSaveState").value="";a.submitAction("setPortal")},loadPolicyFromParty:function(a){document.forms[0].action=DCT.PolicySystemURL;DCT.globalQuoteID=a;DCT.Util.getSafeElement("_QuoteID").value=DCT.globalQuoteID;DCT.Submit.addToParmArray("_submitAction","setPortal,load");DCT.FieldsChanged.clear();DCT.Submit.setActiveParent("dashboardHome");DCT.Submit.submitPageForm()}});Ext.apply(DCT.Util,{isPartyToolsVisible:false,partyPopUp:function(b){DCT.Util.getSafeElement("_popUp").value="1";var c=DCT.Util.getParent();if(Ext.isEmpty(b)){if(c.Ext.getCmp("dctPopupWindow")){b=c.Ext.getCmp("dctPopupWindow").title}else{b=DCT.T("PartyImport_DefaultPopupTitle")}}var a=Ext.create("DCT.PopupWindow",{width:800,height:360,modal:true,title:b,cls:"partyPopup",dctScrollbars:true,dctInterview:true,dctItemClass:"DCT.PartyPanel",dctPanelConfig:{dctTargetPage:"partyDataImportWizard"}});a.show()},closePartyPopup:function(){var a=DCT.Util.getParent().Ext.getCmp("dctPopupWindow");if(a){a.hideWindow()}},doPartyRecordAction:function(d,c,a){var b=this;b.getSafeElement("_execute").value=d;b.getSafeElement("_value").value=c;b.getSafeElement("_caption").value=a;DCT.Submit.submitPageAction("partyMappingActions","")},getPartyDataFromHistory:function(b){var a=this;a.getSafeElement("_historyId").value=b;a.getSafeElement("_retrieve").value="history";DCT.Submit.submitPageAction("partyHistoryData","")},getPartyData:function(b){var a=this;a.getSafeElement("_partyId").value=b;a.getSafeElement("_retrieve").value="party";DCT.Submit.submitPageAction("partyHistoryData","")},selectPartyData:function(){var d=this;if(!DCT.Util.validateFields()){return false}var c=Ext.get("partyTools").getAttribute("dctPartyRecordMappingId");Ext.select("input[dctPartyRecordMappingId="+c+"]").addCls("partyGroupIndicator");var e=Ext.get("partyTools").getAttribute("partyPopupTitle");var b=Ext.get("partyTools").getAttribute("fieldObjectRef");d.getSafeElement("_partyRecordMappingId").value=c;d.getSafeElement("_fieldObjectRef").value=b;var a=d.getSafeElement("_popUp").value;if(a=="true"||a=="1"){d.partyProcessIsInPopup=true;DCT.Util.getSafeElement("_importPartyDataToPolicyFromPopup").value="1";DCT.Util.getSafeElement("_targetPage").value="partyDataImportWizard";DCT.Submit.submitForm()}else{d.partyPopUp(e)}},importSelectedPartyRecords:function(d,e){var c=this;if(c.isButtonDisabled(e)){return}if(DCT.Grid.selectAll){c.getSafeElement("_selectedAll").value=true;c.getSafeElement("_deselectedRecords").value=DCT.Grid.deselectedRecords.join(",")}else{var b=Ext.getCmp("partyRecordData").getSelectionModel().getSelection();var a=new Array();Ext.each(b,function(g,f){a.push(g.id)});c.getSafeElement("_selectedRecords").value=a.join(",")}if(c.partyProcessIsInPopup){DCT.Submit.submitPageAction("",d)}else{DCT.Util.getSafeElement("_submitAction").value=d;c.closePopUp("3","","0")}},reloadInvolvementsGrid:function(c,d){var b=0;var e=Ext.get(c+"ClearButton");var a=c+"InvolvementsGrid";if(d){Ext.getCmp(c+"PageSizeInput").setValue("");e.addCls("btnDisabled");e.dom.children[0].disabled=true;b=parseInt(DCT.Util.getSafeElement("_defaultPageSize").value,10)}else{e.removeCls("btnDisabled");e.dom.children[0].disabled=false;b=parseInt(DCT.Util.getSafeElement(c+"PageSizeInput").value,10)}if(b>0){DCT.Util.resetPagination(a,b)}},resetPagination:function(b,a){var c=DCT.Util.getDataStore(b);c.removeAll();c.setPageSize(a);c.loadPage(1);Ext.getCmp(b).getBottomToolbar().pageSize=a}});Ext.apply(DCT.Grid,{selectAll:false,deselectedRecords:new Array(),partyMappedItemSelected:function(b,c,e){if(DCT.Grid.selectAll){DCT.Grid.removeItemFromDeselectedRecords(c.id)}var d=b.getCount();if(d>0){var a=Ext.get("importSelected");a.replaceCls("btnDisabled","btnEnabled");DCT.Util.disableComponent("_processAction",true)}},partyMappedItemDeselected:function(b,c,e){if(DCT.Grid.selectAll){DCT.Grid.addItemToDeselectedRecords(c.id)}var d=b.getCount();if(d==0){var a=Ext.get("importSelected");a.replaceCls("btnEnabled","btnDisabled");DCT.Util.disableComponent("_processAction",false)}},addItemToDeselectedRecords:function(a){DCT.Grid.deselectedRecords.push(a)},removeItemFromDeselectedRecords:function(a){Ext.each(DCT.Grid.deselectedRecords,function(c,b){if(c.indexOf(a)!=-1){DCT.Grid.deselectedRecords.remove(a)}})},selectAllRows:function(){DCT.Grid.selectAll=true;Ext.getCmp("partyRecordData").getSelectionModel().selectAll();Ext.getCmp("partyRecordData").getSelectionModel().allSelected=true;Ext.getCmp("partyRecordData").getSelectionModel().setPageSelections()},clearAllRows:function(){DCT.Grid.selectAll=false;Ext.getCmp("partyRecordData").getSelectionModel().clearSelections();Ext.getCmp("partyRecordData").getSelectionModel().allSelected=false;Ext.getCmp("partyRecordData").getSelectionModel().clearPageSelections()},policyReferenceColumnRenderer:function(g,c,f,h,d,a,e){var b='<a href="javascript:;" id="policyInvolvementLoad" onclick="DCT.Submit.actOnQuote(\'load\',\''+f.id+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>";return b},billingReferenceColumnRenderer:function(g,c,f,h,d,a,e){var b='<a href="javascript:;" id="billingInvolvementLoad" onclick="DCT.Submit.gotoBillingAccountPage(\''+f.id+"');\">"+Ext.util.Format.htmlEncode(g)+"</a>";return b},claimsNumberColumnRenderer:function(g,c,f,h,d,a,e){var b='<a href="'+f.data.NavigationLink+'" id="viewClaim">'+Ext.util.Format.htmlEncode(g)+"</a>";return b},involvementRoleColumnRenderer:function(a,b,h,g,k,l,e){var c="";var f="content/CodeLists/CodeList[@ListName='PTY_INVROLE']/ListEntry[@Code='"+a+"']/@Description";var d=Ext.DomQuery.select(f,h.store.proxy.reader.rawData);if(d.length>0){c=d[0].firstChild.nodeValue}else{c="(none)"}return c}});Ext.apply(DCT.Util,{partyIsCandidateSelected:function(b,c,e){var d=b.getCount();if(d>0){var a=Ext.get("linkSelected");a.replaceCls("btnDisabled","btnEnabled");DCT.Util.disableComponent("_processAction",true)}},partyIsCandidateDeselected:function(b,c,e){var d=b.getCount();if(d==0){var a=Ext.get("linkSelected");a.replaceCls("btnEnabled","btnDisabled");DCT.Util.disableComponent("_processAction",false)}}});Ext.apply(DCT.Util,{showRelatedPartySearch:function(){DCT.Util.hideShowGroup("relatedPartySearch",true);DCT.Util.hideShowGroup("relatedPartySearchData",true);DCT.Util.hideShowGroup("relatedPartyLink",false);DCT.Util.hideShowGroup("lookingForALabel",true);DCT.Util.hideShowGroup("lookingForAnLabel",false);var d=Ext.getCmp("lookingForSelectionId");var b=d.getStore().getAt(0);var c=Ext.getCmp("searchBySelectionId");var a=c.getStore().getAt(0);d.fireEvent("select",d,b);c.fireEvent("select",c,a)},hideRelatedPartySearch:function(){DCT.Util.hideShowGroup("relatedPartyLink",true);DCT.Util.hideShowGroup("processSearch",false)}});Ext.apply(DCT.Util,{positionPartyTools:function(h){if(DCT.Util.isPartyToolsVisible){var e=Ext.get("partyTools");var f=Ext.get(h);var d=(Ext.getCmp(h).dctType=="date");var c="down";var b=f.parent();while(b){if(b.hasCls("downLayout")){break}if(b.hasCls("acrossLayout")){c="across";break}b=b.parent()}e.removeCls("x-hidden-display");var a,g;if(c=="down"){a=(f.getX())+(f.getWidth());if(d){a-=15}g=(f.getY());e.setX(a);e.setY(g);e.dom.style.height=Ext.String.format("{0}px",f.dom.clientHeight);e.removeCls("toolsAbove");e.addCls("toolsRight");e.slideIn((d?"r":"l"),{duration:0.2})}else{a=(f.getX())+(f.getWidth())-(e.getWidth());g=(f.getTop()-(e.getHeight())+1);e.setX(a);e.setY(g);e.removeCls("toolsRight");e.addCls("toolsAbove");e.slideIn("b",{duration:0.2})}}}});Ext.apply(DCT.Util,{validatePartyScreen:function(e,a){var f=this;var d="";var c=false;var b=Ext.get(a);var g;switch(e){case"":c=true;break}if(c){f.removeTabs(true);Ext.Msg.alert(DCT.T("Alert"),d,function(h){f.removeTabs(false);b.focus()},f)}return(!c)},validateSearchData:function(){var e=this;var d=DCT.T("FieldRequired");var h;var a=false;var c;var b;var g=Ext.getCmp("lookingForSelectionId").getValue();var f=Ext.getCmp("searchBySelectionId").getValue();switch(f){case"LC":b=Ext.getCmp("searchLicenseId");if(Ext.isEmpty(b.getValue())){h=DCT.T("LicenseNumber");c=b;a=true}break;case"PH":b=Ext.getCmp("searchPhoneId");if(Ext.isEmpty(b.getValue())){h=DCT.T("PhoneNumber");c=b;a=true}break;case"RF":b=Ext.getCmp("searchReferenceId");if(Ext.isEmpty(b.getValue())){h=DCT.T("ReferenceNumber");c=b;a=true}break;case"NA":case"OT":b=Ext.getCmp("personPartyNameId");if(g=="P"&&Ext.isEmpty(b.getValue())){h=DCT.T("LastName");c=b;a=true;break}b=Ext.getCmp("organizationPartyNameId");if(g=="O"&&Ext.isEmpty(b.getValue())){h=DCT.T("OrganizationName");c=b;a=true;break}b=Ext.getCmp("agencyPartyNameId");if(g=="AG"&&Ext.isEmpty(b.getValue())){h=DCT.T("OrganizationOrLastName");c=b;a=true;break}b=Ext.getCmp("searchStateId");if(Ext.isEmpty(b.getValue())){h=DCT.T("State");c=b;a=true}break}if(a){e.removeTabs(true);Ext.Msg.alert(h,d,function(k){e.removeTabs(false);c.focus()},e)}return(!a)}});Ext.define("DCT.TaskDateRangePanel",{extend:"Ext.FormPanel",inputXType:"dcttaskdaterangepanel",bodyBorder:false,formId:"taskDateItemsForm",saveButton:"task_saveButton",cancelButton:"task_cancelButton",xtype:"dcttaskdaterangepanel",constructor:function(a){var b=this;b.checkControlExists(a);b.setPanelItems(a);b.setPanelButtons(a);b.setListeners(a);b.callParent([a])},setPanelItems:function(a){a.items=[{layout:"table",layoutConfig:{columns:3},defaults:{border:false,width:100},items:[{id:"startingDate",name:"startingDate",xtype:"dctsystemdatefield",value:a.dctDisplayDate,allowBlank:false,hideLabel:true,cellCls:"td-startingDate",disabled:false},{id:"dateSeperator",border:false,xtype:"label",text:"and",cellCls:"td-dateSeperator"},{id:"endingDate",name:"endingDate",xtype:"dctsystemdatefield",value:a.dctDisplayDate,allowBlank:false,cellCls:"td-endingDate",disabled:false},{hideLabel:true,boxLabel:a.dctAnyDateText,xtype:"checkbox",name:"_allDates",id:"_allDates",anchor:"-18 -80",columns:3}]}]},setPanelButtons:function(a){var b=this;a.buttons=[{text:DCT.T("Cancel"),id:b.cancelButton,handler:function(){b.ownerCt.closeWindow()},scope:b},{text:DCT.T("Save"),id:b.saveButton,disabled:false,handler:function(){b.saveItems()},scope:b}]},setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){b.validateFields(c.getValue(),d)},scope:b}})},saveItems:function(){var b=this;var a=Ext.getCmp("_allDates").getValue();if(!a&&!b.validateDates()){return}var c=DCT.Util.getParent();if(a){c.Ext.getCmp(b.dctDateRangeDisplay).setValue(DCT.T(b.dctAnyDateText));c.Ext.getCmp(b.dctFilter).setValue("")}else{c.Ext.getCmp(b.dctStartDate).setValue(Ext.getCmp("startingDate").getRawValue());c.Ext.getCmp(b.dctEndDate).setValue(Ext.getCmp("endingDate").getRawValue());if(Ext.getCmp("startingDate").getRawValue()==Ext.getCmp("endingDate").getRawValue()){c.Ext.getCmp(b.dctDateRangeDisplay).setValue(DCT.T(b.dctDateText)+" "+Ext.getCmp("startingDate").getRawValue())}else{c.Ext.getCmp(b.dctDateRangeDisplay).setValue(DCT.T(b.dctDateRangeText)+" "+Ext.getCmp("startingDate").getRawValue()+" "+DCT.T("And")+" "+Ext.getCmp("endingDate").getRawValue())}c.Ext.getCmp(b.dctFilter).setValue("dateRange")}b.ownerCt.closeWindow()},validateDates:function(){var b=this;var a=Ext.getCmp("startingDate");var c=Ext.getCmp("endingDate");if(!a.validate()){b.alertInvalidDate("DateUseValidFormat","startingDate");return false}if(!c.validate()){b.alertInvalidDate("DateUseValidFormat","endingDate");return false}if(Ext.getCmp("startingDate").getValue()>Ext.getCmp("endingDate").getValue()){b.alertInvalidDate("DateStartGreaterThanEnd","endingDate");return false}return true},alertInvalidDate:function(c,b){var a=this;Ext.Msg.alert(DCT.T("Alert"),DCT.T(c),function(d){Ext.getCmp(b).focus()},a)}});Ext.apply(DCT.Util,{displayTaskQueuePopUp:function(a){var d=Ext.getCmp("taskQueuePopUp");if(d){return}var b=Ext.create("DCT.PagingGridPanel",{dctColumnModel:[{dataIndex:"name",width:85,sortable:false}],dctCheckBoxSelection:true,dctStoreClass:"DCT.PagingStore",dctStoreConfig:{fields:[{name:"name",type:"string",mapping:"Name"}],record:"Queue",idProperty:"EntityId",totalProperty:"QueueList/SearchControl/Paging/TotalCount",dctTargetPage:"taskQueueList",pageSize:a,dctStart:0,autoLoad:{params:{start:0,limit:a}}},dctSelectionConfig:{type:"dctcheckboxmodel",checkOnly:true,mode:"MULTI"},dctPagingBarConfig:{dctPagingPluginType:"",pageSize:a},dctSelected:"adminQueueEntityIdDisplay",dctSelectedIds:"adminQueueEntityId",dctViewAllText:DCT.T("AllQueues"),dctAddPanelButtons:true});var c=Ext.create("DCT.BaseWindow",{title:DCT.T("Queues"),width:500,height:400,id:"taskQueuePopUp",items:b,dctFocusFieldId:"cancelButton"});c.show()},displayTaskDuePopUp:function(){var a=Ext.getCmp("taskDueDatesPopUp");if(a){return}var c=Ext.get("_hiddenExtJsDateformat").getValue();var b=Ext.Date.format(new Date(),c);var d=Ext.create("DCT.TaskDateRangePanel",{title:DCT.T("DueOnOrBetween"),dctStartDate:"dueStartDate",dctEndDate:"dueEndDate",dctDateRangeDisplay:"adminFilterDisplay",dctAnyDateText:DCT.T("AnyDueDate"),dctFilter:"adminFilter",dctDateRangeText:DCT.T("DueOnOrBetween_lower"),dctDateText:DCT.T("Due"),dctDisplayDate:b});var e=Ext.create("DCT.BaseWindow",{title:"",width:380,height:200,layout:"fit",id:"taskDueDatesPopUp",items:d,dctFocusFieldId:"task_cancelButton"});e.show()},displayTaskUserPopUp:function(b){var d=Ext.getCmp("taskSearchUsersPopUp");if(d){return}var a=Ext.create("DCT.PagingGridPanel",{dctColumnModel:[{dataIndex:"name",width:85,sortable:false}],dctCheckBoxSelection:true,dctStoreClass:"DCT.PagingStore",dctStoreConfig:{fields:[{name:"name",type:"string",mapping:"FullName"}],record:"QueueUser",idProperty:"UserId",totalProperty:"QueueUserList/Paging/TotalCount",dctTargetPage:"taskQueueUserList",pageSize:b,dctStart:0,autoLoad:{params:{start:0,limit:b}}},dctSelectionConfig:{type:"dctcheckboxmodel",checkOnly:true,mode:"MULTI"},dctPagingBarConfig:{dctPagingPluginType:"",pageSize:b},dctSelected:"adminUserIdsDisplay",dctSelectedIds:"adminAssignedUserId",dctViewAllText:DCT.T("AnyUserUnassigned"),dctAddPanelButtons:true});var c=Ext.create("DCT.BaseWindow",{title:DCT.T("AssignedTo"),width:500,height:400,id:"taskSearchUsersPopUp",items:a,dctFocusFieldId:"cancelButton"});c.show()},displayTaskStatusPopUp:function(c){var b=Ext.getCmp("taskSearchStatusPopUp");if(b){return}var d=Ext.create("DCT.NonPagingGridPanel",{id:"taskStatusList",dctColumnModel:[{dataIndex:"name",width:85,sortable:false}],dctCheckBoxSelection:true,dctTitle:"",dctStoreClass:"DCT.ArrayStore",dctStoreConfig:{fields:[{name:"id",type:"string",mapping:0},{name:"name",type:"string",mapping:1}],data:c},dctSelectionConfig:{type:"dctcheckboxmodel",checkOnly:true,mode:"MULTI"},dctSelected:"adminStatusDisplay",dctSelectedIds:"adminStatusFilterId",dctViewAllText:DCT.T("AllTasks"),dctAddPanelButtons:true});var a=Ext.create("DCT.BaseWindow",{title:DCT.T("TaskState"),width:300,height:300,id:"taskSearchStatusPopUp",items:d,dctFocusFieldId:"cancelButton"});a.show()},displayTaskCategoryPopUp:function(a){var b=Ext.getCmp("taskSearchCategoryPopUp");if(b){return}var c=Ext.create("DCT.BaseGridPanel",{id:"taskCategoryList",dctColumnModel:[{dataIndex:"name",width:85,sortable:false}],dctCheckBoxSelection:true,dctTitle:"",dctStoreClass:"DCT.ArrayStore",dctStoreConfig:{fields:[{name:"id",type:"string",mapping:0},{name:"name",type:"string",mapping:1}],data:a},dctSelectionConfig:{type:"dctcheckboxmodel",checkOnly:true,mode:"MULTI"},dctSelected:"adminCategoryDisplay",dctSelectedIds:"adminCategoryFilterId",dctViewAllText:DCT.T("AllCategories"),dctAddPanelButtons:true});var d=Ext.create("DCT.BaseWindow",{title:DCT.T("Category"),width:300,height:300,id:"taskSearchCategoryPopUp",items:c,dctFocusFieldId:"cancelButton"});d.show()},displayTaskCreatedOnPopUp:function(){var e=Ext.getCmp("taskCreationDatePopUp");if(e){return}var c=Ext.get("_hiddenExtJsDateformat").getValue();var a=Ext.Date.format(new Date(),c);var b=Ext.create("DCT.TaskDateRangePanel",{title:DCT.T("CreatedOnOrBetween"),dctStartDate:"createdOnStartDate",dctEndDate:"createdOnEndDate",dctDateRangeDisplay:"adminCreatedOnDisplay",dctFilter:"adminCreatedOnFilter",dctDateRangeText:DCT.T("CreatedOnOrBetween_lower"),dctDateText:DCT.T("Created"),dctAnyDateText:DCT.T("AnyCreationDate"),dctDisplayDate:a});var d=Ext.create("DCT.BaseWindow",{title:"",width:380,height:200,layout:"fit",id:"taskCreationDatePopUp",items:b,dctFocusFieldId:"task_cancelButton"});d.show()}});Ext.apply(DCT.Submit,{massReassignTasks:function(b){var e=Ext.getCmp(b);var a=[];var c=e.getSelectionModel().itemsSelectedPerPage.items;Ext.each(c,function(f){Ext.each(f,function(g){a.push(g.id+"|"+g.get("taskLockingTS"))})});if(a.length==0){var d=this;Ext.Msg.alert(DCT.T("Alert"),DCT.T("NoTasksSelectedForReassignment"),function(f){Ext.getCmp("QueueAdmin").focus()},d);return false}DCT.Util.getSafeElement("_taskSelectionArray").value=a.join(",");DCT.Util.getSafeElement("_detailMode").value="reassignDirect";DCT.Submit.submitPage("taskMassReassign","")}});Ext.apply(DCT.Grid,{buildItemsArray:function(a){return(DCT.Grid.getDataKeyString(a,true,["name"]))}});Ext.define("DCT.BillingTextAreaField",{extend:"DCT.SystemTextAreaField",inputXType:"dctbillingtextarea",xtype:"dctbillingtextarea",blankCheck:function(a){return false}});DCT.Util.reg("dctbillingtextarea","billingTextAreaField","DCT.BillingTextAreaField");Ext.define("DCT.BillingEnableTextAreaField",{extend:"DCT.BillingTextAreaField",inputXType:"dctbillingenabletextareafield",xtype:"dctbillingenabletextareafield",setListeners:function(a){var b=this;Ext.apply(a.listeners,{keyup:{fn:function(c,d){DCT.Util.enableDisableActionButton(b.blankCheck(c.getValue()),b.dctActionButton)},scope:b}})},blankCheck:function(b){var a=this;return(a.dctCheckFunction())}});DCT.Util.reg("dctbillingenabletextareafield","billingEnableTextAreaField","DCT.BillingEnableTextAreaField");Ext.define("DCT.BillingItemMatchedTextAreaField",{extend:"DCT.BillingEnableTextAreaField",inputXType:"dctbillingitemmatchedtextareafield",xtype:"dctbillingitemmatchedtextareafield",blankCheck:function(b){var a=this;return(a.checkIfReverseItemFieldsBlank())}});DCT.Util.reg("dctbillingitemmatchedtextareafield","billingItemMatchedTextAreaField","DCT.BillingItemMatchedTextAreaField");Ext.define("DCT.PartyPageSizeInputField",{extend:"DCT.InputIntField",inputXType:"dctpartypagesizeinputfield",xtype:"dctpartypagesizeinputfield",});DCT.Util.reg("dctpartypagesizeinputfield","partypagesizeinputfield","DCT.PartyPageSizeInputField");DCT.ProcessQueueMessage=Ext.extend(Ext.Panel,{inputXType:"dctprocessqueuemessage",labelWidth:100,padding:5,bodyBorder:false,border:false,formId:"processQueueMessage",cancelButton:"_cancelAddButton",layout:"auto",xtype:"dctprocessqueuemessage",constructor:function(a){var b=this;b.checkControlExists(a);b.setPanelItems(a);b.callParent([a])},setPanelItems:function(a){a.items=[{xtype:"label",id:"queueLabelId",name:"_queueLabelName",baseCls:"fa fa-clock-o",text:a.text,padding:"20 20 20 20"}]},closeForm:function(){Ext.getCmp("addProcessQueueMessagePopup").close()}});Ext.apply(DCT.ProcessQueue,{polling:false,waitTime:4000,pollingInterval:2000,loadingMsgText:"",timeoutHandle:null,objectTypeCode:"",objectId:"",asyncId:"",portal:"",title:"",task:"",init:function(a){this.portal=this.getValue("_asyncPortalId");this.objectTypeCode=this.getValue("_asyncTypeCode");this.objectId=this.getValue("_asyncObjectId");this.title=this.getValue("_asyncTitle");this.asyncId=a;DCT.Util.getSafeElement("runInterviewActionAsync").value=false;this.checkStatus()},getValue:function(b){var a=Ext.getDom(b);return a!=null?a.value:""},show:function(){var a=Ext.get("asyncWaitWindow");if(a==null){var b=Ext.create("Ext.ProgressBar",{style:"margin: 2px; width: 70%"});b.wait({interval:1000,increment:15,text:DCT.T("Processing"),scope:this,fn:function(){b.updateText(DCT.T("Complete"))}});var c=Ext.create("Ext.Window",{title:DCT.T(this.objectTypeCode+"_ProcessQueueTitle"),width:400,modal:true,closable:false,draggable:false,id:"asyncWaitWindow",cls:"fa fa-clock-o x-addProcessQueueMessagePopup",renderTo:"mainForm",bodyStyle:"padding: 4px",items:[Ext.create("DCT.ProcessQueueMessage",{id:"addProcessQueueMessagePanel",type:this.objectTypeCode,text:DCT.T("SystemProcessing"),style:"text-align:center"}),{xtype:"button",text:DCT.T("QueueAndExit"),id:"_returnToDashboardButton",disabled:false,style:"float:right; margin:2px;",handler:function(){Ext.getCmp("asyncWaitWindow").close();DCT.Util.getSafeElement("_SuppressAutoSave").value="1";DCT.Util.getSafeElement("_PortalName").value=this.portal;DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_autoSaveState").value="";DCT.Submit.submitAction("asyncsetportal")},scope:this},b]});c.show()}else{if(!a.isVisible(false)){a.setDisplayed(true)}}},hide:function(){var a=Ext.getCmp("asyncWaitWindow");if(a!=null){a.close()}},getPollingInterval:function(){var a=this;return a.pollingInterval},checkStatus:function(){var a=this;DCT.LoadingMessage.polling=true;Ext.Ajax.request({url:DCT.checkStatusUrl,success:a.requestSuccess,failure:a.requestFailure,scope:a})},requestSuccess:function(c,l){var h=this;var f=DCT.Util.loadXMLString(c.responseText);var d=Ext.DomQuery.selectValue("/semaphoreStatus",f);if(!Ext.isDefined(d)){var g=/<meta.*?http-equiv="Content-Type".*?content="(.*?)".*?>|<meta.*?content="(.*?)".*?http-equiv="Content-Type".*?>/i;var e=g.exec(c.responseText);if(e!=null&&e.length>0&&e.length>=3){if(e[1].match("text/html")||e[2].match("text/html")){d="HTMLResponse"}}}switch(d){case"success":DCT.Util.getSafeElement("_objectId").value=this.objectId;DCT.Util.getSafeElement("_objectTypeCode").value=this.objectTypeCode;DCT.Util.getSafeElement("_asyncID").value=this.asyncId;DCT.Util.getSafeElement("_resumeAsync").value="1";DCT.currentPage="interview";h.polling=false;h.hide();DCT.ajaxProcess.completeContentAjax();DCT.Util.getSafeElement("_resumeAsync").value="";break;case"failure":window.open(DCT.Util.getPostUrl(),"EndSession");h.polling=false;h.hide();break;case"invalid":DCT.Submit.submitForm();h.polling=false;h.hide();break;case"working":var k=h.getPollingInterval();var b=Ext.get("asyncWaitWindow");if(b==null||!b.isVisible(false)){h.show()}Ext.defer(h.checkStatus,k,h);break;case"HTMLResponse":if(c.responseText!=""){var a=window.open("",d,"dependent=yes,hotkeys=no,location=no,width=800,height=600,status=no,resizable=yes,toolbar=no,scrollbars=no");a.document.write(c.responseText)}h.polling=false;h.hide();break;default:h.checkStatus();break}},requestFailure:function(a,c){var b=this;document.location.replace(DCT.Util.getPostUrl());b.polling=false;b.hide()},resumeSession:function(){var a=this;if(!a.polling){window.onfocus=null;DCT.Submit.submitPage("interview");a.hide()}},displayAsyncProcessingPopUp:function(f,c,d,a,b){if(b==="1"){DCT.Util.getSafeElement("_asyncAllowWait").value=1;DCT.Util.getSafeElement("_asyncTitle").value=f;DCT.Util.getSafeElement("_asyncPortalId").value=c;DCT.Util.getSafeElement("_asyncTypeCode").value=d;DCT.Util.getSafeElement("_asyncObjectId").value=a;return}var e=this;e.objectTypeCode=d;e.portal=c;e.title=f;var g=Ext.create("Ext.Window",{title:DCT.T(d+"_ProcessQueueTitle"),width:400,layout:"fit",modal:true,closable:false,id:"addProcessQueueMessagePopup",cls:"fa fa-clock-o x-addProcessQueueMessagePopup",renderTo:"mainForm",items:Ext.create("DCT.ProcessQueueMessage",{id:"addProcessQueueMessagePanel",type:d,text:DCT.T(d+"_ProcessQueueMessage")}),buttons:[{text:DCT.T(f),id:"_returnToDashboardButton",disabled:false,handler:function(){Ext.getCmp("addProcessQueueMessagePanel").closeForm();DCT.Util.getSafeElement("_SuppressAutoSave").value="1";DCT.Util.getSafeElement("_PortalName").value=e.portal;DCT.Util.getSafeElement("_targetPage").value="";DCT.Util.getSafeElement("_autoSaveState").value="";DCT.Submit.submitAction("asyncsetportal")},scope:this}]});g.show();g.onresize=function(){var h=Ext.query(".x-window");Ext.each(h,function(k){Ext.getCmp(k.id).center()})}}});Ext.apply(DCT.Submit,{gotoPageForUnderwritingAccount:function(b,c){var a=this;a.removeKeyNames();DCT.Util.getSafeElement("_accountId").value=c;a.submitPage(b)}});Ext.apply(DCT.Grid,{commentUnderwritingColumnRenderer:function(a,c,f,e,h,k,d){var g=f.get("objectId");var b=f.get("underwritingAccountNumber");if(Ext.isEmpty(g)||Ext.isEmpty(b)){rowActionsHTML="(none)"}else{rowActionsHTML="<a href=\"javascript:;\" onclick=\"DCT.Submit.gotoPageForUnderwritingAccount('underwritingAccountSummary','"+g+"');\">"+Ext.util.Format.htmlEncode(a)+"</a>"}return rowActionsHTML}});Ext.apply(DCT.Grid,{messageUnderwritingColumnRenderer:function(a,c,f,e,h,k,d){var g=f.get("objectId");var b=f.get("underwritingAccountNumber");if(Ext.isEmpty(g)||Ext.isEmpty(b)){rowActionsHTML="(none)"}else{rowActionsHTML="<a href=\"javascript:;\" onclick=\"DCT.Submit.gotoPageForUnderwritingAccount('underwritingAccountSummary','"+g+"');\">"+Ext.util.Format.htmlEncode(a)+"</a>"}return rowActionsHTML}});Ext.apply(DCT.Submit,{downloadUnderwritingAttachment:function(a,b){DCT.Util.getSafeElement("_attachmentID").value=a;if(Ext.isEmpty(b)){b="underwritingAccountAttachments"}this.submitPageAction(b,"downloadUnderwritingAttachment")}});