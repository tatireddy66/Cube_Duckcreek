!function(e,t,n,i){"use strict";n.directive("gaigAccumulatorListbox",["$timeout",function(e){function n(n,a,s){function r(){return m.children(":first").prop("selected")}function l(){return m.children(":last").prop("selected")}function c(){return 0===m.find(":selected").length}function u(){var e,o,a,s,r,l;for(s=i.merge([],n.ngModel),l=s.length,r=0;r<l;r++)o=s[r],e=s[r+1],!f(o)&&t.isDefined(e)&&f(e)&&(a=o,s[r]=e,s[r+1]=a);n.ngModel=s}function g(e){var t,n,i,o;for(n=arguments,i=n.length;i>1&&e.length;)for(t=n[--i];(o=e.indexOf(t))!==-1;)e.splice(o,1);return e}function d(){var e,o,a,s,r;for(r=i.merge([],n.ngModel),e=r.length;e>0;e--)a=r[e],o=r[e-1],!f(a)&&t.isDefined(o)&&f(o)&&(s=a,r[e]=o,r[e-1]=s);n.ngModel=r}function f(e){var t,n,o,a;for(t=m.children(),a=t.length,o=0;o<a;o++)if(n=i(t[o]),e===n.val()&&n.prop("selected"))return!0;return!1}function p(){var e;return e=[],t.forEach(n.options,function(t){i.inArray(t.value,n.ngModel)===-1&&e.push(t)}),e}function h(){var e;return e=[],t.forEach(n.ngModel,function(i){t.forEach(n.options,function(t){i===t.value&&e.push(t)})}),e}var v,m,b,w,$;v=a.find(".gaig-shuttle-boxes-left"),m=a.find(".gaig-shuttle-boxes-right"),b=n.onAdd||t.noop,w=n.onRemove||t.noop,$=n.onChange||t.noop,t.isUndefined(n.showLabels)?n.showLabelz=!0:n.showLabelz=n.showLabels,s.size=t.isDefined(s.size)?s.size:o,n.$watch("ngModel",function(e,t){n.leftOptions=p(),n.rightOptions=h(),e!==t&&$()},!0),n.$watch("options",function(){n.leftOptions=p(),n.rightOptions=h()}),i.browser.msie&&(n.$on("accumRightSideDone",function(){m.append("<option></option>"),m.find("option:last-child").remove()}),n.$watch(function(){return m.children().length},function(e){m.append("<option></option>"),m.find("option:last-child").remove()})),n.moveRight=function(o){var a,s,r,l=[];o.preventDefault(),a=v.children(":selected"),s=i.merge([],n.ngModel),t.forEach(a,function(e){l.push(e.value),s.unshift(e.value)}),r=b({$addedItems:l}),!r&&void 0!==r||"false"===r||(n.ngModel=s,e(function(){m.focus(),t.forEach(m.children(),function(e){e.selected=!1,t.forEach(a,function(t){if(t.value===e.value)return e.selected=!0,!1})})},0))},n.moveLeft=function(o){var a,s,r,l=[];a=m.children(":selected"),s=i.merge([],n.ngModel),o.preventDefault(),t.forEach(a,function(e){l.push(e.value),g(s,i(e).val())}),r=w({$removedItems:l}),!r&&void 0!==r||"false"===r||(n.ngModel=s,e(function(){v.focus(),t.forEach(v.children(),function(e){e.selected=!1,t.forEach(a,function(t){t.value===e.value&&(e.selected=!0)})})},0))},n.selectAll=function(e,n){var o,a;if(e.preventDefault(),!t.isUndefined(n)){if("left"===n)a=v;else{if("right"!==n)return;a=m}o=a.children(),t.forEach(o,function(e){i(e).prop("selected","selected")}),a.focus()}},n.clearAll=function(e){e.preventDefault(),n.ngModel=[]},n.order=function(e,t){t.preventDefault();var i={up:function(){n.moveUpDisabled()||u()},down:function(){n.moveDownDisabled()||d()},top:function(){if(!n.moveUpDisabled())for(;!f(n.ngModel[0]);)u()},bottom:function(){if(!n.moveDownDisabled())for(;!f(n.ngModel[n.ngModel.length-1]);)d()}};i[e]()},n.moveDownDisabled=function(){return n.ngDisabled||l()||c()},n.moveUpDisabled=function(){return n.ngDisabled||r()||c()}}var o,a;return o=8,a='<div class="gaig-shuttle-boxes {{clazz}}"><div class="gaig-shuttle-boxes-left-container"><span class="gaig-shuttle-boxes-label" ng-show="showLabelz">Available {{label}}</span><select multiple="multiple" id="{{ids.leftList}}" class="gaig-shuttle-boxes-left" gaig-accumulator-size="size" ng-disabled="ngDisabled" gaig-keypress="{ \'space\': \'moveRight($event)\' }"><option ng-repeat="leftOption in leftOptions" value="{{leftOption.value}}">{{leftOption.label}}</option></select><a href="#" id="{{ids.leftSelectAll}}" ng-click="selectAll($event, \'left\')" ng-show="!ngDisabled">Select All</a></div><div class="gaig-shuttle-boxes-btns"><a href="#" title="Add Selected" id="{{ids.add}}" class="btn gaig-shuttle-boxes-btn" type="button" ng-click="moveRight($event)" ng-disabled="ngDisabled"><i class="icon icon-arrow-right"></i></a><a href="#" title="Remove Selected" id="{{ids.remove}}"class="btn gaig-shuttle-boxes-btn" type="button" ng-click="moveLeft($event)" ng-disabled="ngDisabled"><i class="icon icon-arrow-left"></i></a></div><div class="gaig-shuttle-boxes-right-container"><span class="gaig-shuttle-boxes-label" ng-show="showLabelz">Selected {{label}}</span><select multiple="multiple" id="{{ids.rightList}}" class="gaig-shuttle-boxes-right" gaig-accumulator-size="size" ng-disabled="ngDisabled" gaig-keypress="{ \'space\': \'moveLeft($event)\' }"><option ng-repeat="rightOption in rightOptions" value="{{rightOption.value}}" gaig-repeater-emitter="accumRightSideDone"data-value-full="{{rightOption}}">{{rightOption.label}}</option></select><a href="#" id="{{ids.rightSelectAll}}" ng-click="selectAll($event, \'right\')" ng-show="!ngDisabled">Select All</a></div><div class="gaig-shuttle-boxes-ordering-btns" ng-show="ordering && !ngDisabled"><a href="#" id="{{ids.moveToTop}}" title="Move to top" class="btn gaig-shuttle-boxes-btn" type="button" ng-click="order(\'top\', $event)" ng-disabled="moveUpDisabled()"><i class="icon icon-double-chevron-up"></i></a><a href="#" id="{{ids.moveUp}}" title="Move up" class="btn gaig-shuttle-boxes-btn" type="button" ng-click="order(\'up\', $event)" ng-disabled="moveUpDisabled()"><i class="icon icon-single-chevron-up"></i></a><a href="#" id="{{ids.moveDown}}" title="Move down" class="btn gaig-shuttle-boxes-btn" type="button" ng-click="order(\'down\', $event)" ng-disabled="moveDownDisabled()"><i class="icon icon-single-chevron-down"></i></a><a href="#" id="{{ids.moveToBottom}}" title="Move to bottom" class="btn gaig-shuttle-boxes-btn" type="button" ng-click="order(\'bottom\', $event)" ng-disabled="moveDownDisabled()"><i class="icon icon-double-chevron-down"></i></a></div></div>',{link:n,restrict:"E",require:"?ngModel",template:a,scope:{ids:"=",options:"=",ngModel:"=",ngDisabled:"=",ordering:"=",onAdd:"&",onRemove:"&",onChange:"&",size:"@",label:"@",showLabels:"@",clazz:"@class"}}}]).directive("gaigAccumulatorSize",function(){return{restrict:"A",link:function(e,n,i){e.$watch(i.gaigAccumulatorSize,function(e){t.element(n).attr("size",e)})}}})}(window,angular,gaigUi.app,jQuery),function(e,t,n,i){"use strict";n.directive("gaigAffix",function(){function n(n,o,a,s){var r,l=i(e),c=!1,u=o.offset().top,g=t.element("<div>",{height:o.outerHeight(),visibility:"hidden"}),d=0;return g.hide(),o.before(g),t.isUndefined(n.affixClass)?void console.warn("gaigAffix directive used without assigning an affix class"):void l.on("scroll",function(){function e(){var e=n.affixClass;c||(u=o.offset().top,g.height(o.outerHeight())),l.scrollTop()>=u?(o.addClass(e),g.show(),c=!0):(g.hide(),o.removeClass(e),c=!1)}var t=200,i=(new Date).getTime();r||(i-d>3*t&&(e(),d=i),r=setTimeout(function(){r=null,d=(new Date).getTime(),e()},t))})}return{link:n,restrict:"AC",scope:{affixClass:"@gaigAffix"}}})}(window,angular,gaigUi.app,jQuery),function(e,t){"use strict";e.directive("gaigBindHtml",["$compile",function(e){function t(e,t,n){e.$watch("html",function(e){t.html(e)})}return{link:t,restrict:"A",scope:{html:"=gaigBindHtml"}}}])}(uiBootstrap.app,angular),function(e,t,n,i){"use strict";n.directive("gaigCharms",["$timeout",function(n){function o(n,o,a,s){function r(){g&&clearTimeout(g),g=setTimeout(function(){o.mCustomScrollbar("update"),o.css({width:l()})},300)}function l(){var e=o.parent(),n=o.siblings(),a=e.width();return t.forEach(n,function(e,t){a-=i(e).outerWidth(!0)}),a-2}function c(e,t){e.mCustomScrollbar({horizontalScroll:!0,mouseWheel:{enable:!0,axis:"x",invert:!1},scrollButtons:{enable:!0},scrollInertia:0,contentTouchScroll:!0,advanced:{autoExpandHorizontalScroll:!0},callbacks:{onInit:function(){setTimeout(function(){e.find(".mCSB_buttonLeft").hide()},300)},onTotalScroll:function(){e.find(".mCSB_buttonRight").hide()},onTotalScrollBack:function(){e.find(".mCSB_buttonLeft").hide()},onScrollStart:function(){e.find(".mCSB_buttonLeft").show(),e.find(".mCSB_buttonRight").show()}}})}function u(){o.mCustomScrollbar("destroy")}var g;i(e).on("resize.charms",r),o.css({width:l()}),n.getTotalDynamicCharms=function(){var e=0;return t.forEach(n.charms,function(n,i){t.isDefined(n["static"])&&n["static"]||e++}),e},n.needClearAll=n.getTotalDynamicCharms()>0,n.remove=function(e,t){var a=!0,s=!1;e.preventDefault(),t.hasOwnProperty("onRemove")&&"function"==typeof t.onRemove&&(a=t.onRemove(),void 0==a&&(a=!0)),a&&(s=i.inArray(t,n.charms),s>-1&&n.charms.splice(s,1),o.mCustomScrollbar("update"))},n.$watch("charms",function(e,i){t.isDefined(e)&&(n.needClearAll=n.getTotalDynamicCharms()>0),o.mCustomScrollbar("destroy")}),n.$on("$destroy",u),n.$on("gaigCharmsRepeaterFinished",function(){c(o,n)}),n.removeAll=function(e){var t;e.preventDefault(),n.charms=n.charms.filter(function(e,t,n){return 1==e["static"]}),t="function"==typeof n.onClearAll?n.onClearAll:function(){},n.$eval(t),o.mCustomScrollbar("update")}}var a='<div class="gaig-filter-charms" ng-show="charms.length > 0"><table class="gaig-charms-table"><tr><td ng-repeat="charm in charms" gaig-charms-repeater><div ng-class="{true: \'gaig-filter-charm-static\', false: \'gaig-filter-charm\'}[charm.static == \'true\' || charm.static == true]"><span>{{charm.label}}</span><a href="#" class="remove" ng-click="remove($event, charm)" title="Remove Filter" ng-show="!charm.static"><i class="icon icon-remove icon-white"></i></a></div></td><td ng-show="needClearAll"><a href="#" class="remove-all" ng-click="removeAll($event)" title="Remove All Filters">&laquo; Clear All</a></td></tr></table></div>';return{link:o,restrict:"E",scope:{charms:"=",showClearAll:"=",onClearAll:"&"},template:a,replace:!0}}]).directive("gaigCharmsRepeater",["$timeout",function(e){return{restrict:"A",link:function(t,n,i){t.$last===!0&&e(function(){t.$emit("gaigCharmsRepeaterFinished")})}}}])}(window,angular,gaigUi.app,jQuery),function(e,t){"use strict";e.directive("gaigComboBox",["$document","$timeout",function(e,t){function n(e,n){var i=this;i.showList=!1,i.selectedIndex=0,i.id=makeString(13),i.isOpened=function(){return i.showList===!0},i.isClosed=function(){return i.showList===!1},i.openList=function(t){var n=$("#combo-box-list-"+i.id);angular.isDefined(t)&&t.preventDefault(),n.length>0&&(n.show(),i.showList=!0,e.$broadcast("opened"))},i.closeList=function(t){var n=$("#combo-box-list-"+i.id);angular.isDefined(t)&&t.preventDefault(),n.length>0&&(n.hide(),i.showList=!1,e.$broadcast("closed"))},i.toggleList=function(e){angular.isDefined(e)&&(e.stopPropagation(),e.preventDefault()),i.showList?i.closeList():i.openList()},i.addNewOption=function(t){t=t||e.model,e.options.push(t.capitalize())},i.selectOption=function(t,n){angular.isDefined(n)&&n.preventDefault(),e.model=t,i.closeList()},i.selectIndex=function(e){i.selectedIndex=e,i.scrollIndexIntoView(e)},i.syncIndex=function(){var t=-1;angular.forEach(e.options,function(n,i){t===-1&&e.model===n&&(t=i)}),t>-1?i.selectIndex(t):i.selectIndex(0)},i.getOptionByIndex=function(t){var n=!1;return angular.forEach(e.options,function(e,i){n||i===t&&(n=e)}),n},i.selectNext=function(t){var n=i.selectedIndex+1;n<=e.options.length-1&&i.selectIndex(n)},i.selectPrevious=function(e){var t=i.selectedIndex-1;t>=0&&i.selectIndex(t)},i.scrollIndexIntoView=function(e){var t,n=$("#combo-box-list-"+i.id),o=n.outerHeight(),a=n.find('[data-name="gaig-combo-box-item-'+e+'"]'),s=a.height(),r=a.position();angular.isDefined(r)&&e>-1&&(r.top+s>=o?t=r.top-(o-s-n.scrollTop()):r.top<=0&&(t=n.scrollTop()+r.top)),t&&n.scrollTop(t)},i.search=function(){var o=[],a=-1,s=!1,r=e.model.length,l=n.find(".gaig-combo-box-input");angular.forEach(e.options,function(t,n){s||(t.toLowerCase()===e.model.toLowerCase()&&(s=!0),t.toLowerCase().substring(0,r)===e.model.toLowerCase()&&(a===-1&&(a=n,l.val(t),l.setSelection(r,t.length)),o.push(t)))}),a>-1?(i.selectIndex(a),t(function(){i.openList()})):i.selectIndex(-1)}}function i(n,i,o,a){function s(){var e=f.offset(),t=f.outerHeight(),n=i.outerWidth();h.css({top:e.top+t-1,left:e.left,width:parseInt(n)-2})}function r(){f.focus(),s(),t(function(){a.scrollIndexIntoView(a.selectedIndex)})}function l(){a.syncIndex()}function c(n){angular.isDefined(d)&&t.cancel(d),e.off("keydown",g),e.on("keydown",g)}function u(i){d=t(function(){a.closeList(),e.off("keydown",g),n.model=f.val(),n.onBlur&&n.onBlur(),n.$apply(),a.syncIndex()},400)}function g(e){var t=e.which,i=String.fromCharCode(t);switch(t){case 13:e.preventDefault(),a.selectedIndex>-1&&a.isOpened()&&(a.selectOption(a.getOptionByIndex(a.selectedIndex)),a.closeList());break;case 27:e.preventDefault(),a.closeList(e);break;case 38:e.preventDefault(),e.stopPropagation(),a.isOpened()&&a.selectPrevious(e);break;case 40:e.preventDefault(),e.stopPropagation(),a.isClosed()?a.openList(e):a.selectNext(e)}f.length>0&&/\w+/.test(i)&&a.search(),n.$apply()}var d,f=i.find(".gaig-combo-box-input"),p=i.find(".gaig-combo-box-trigger"),h=(i.find(".gaig-combo-box-arrow"),i.find(".gaig-combo-box-list")),v=o.id;i.find(".gaig-combo-box-drop-mask");$("body").append(h),f.css("paddingRight",parseInt(f.css("paddingRight"))+29),n.$on(a.id,function(){a.syncIndex()}),n.$watch("options",function(e){n.options.sort()},!0),n.$watch("model",function(e){a.syncIndex()}),n.$on("opened",r),n.$on("closed",l),n.$on(a.id,function(){a.syncIndex()}),v&&(i.removeAttr("id"),f.attr("id",v)),f.focus(c),f.blur(u),p.on("click",function(e){e.stopPropagation()}),h.on("click mouseup mousedown touchstart touchend focusin",function(e){e.preventDefault(),e.stopPropagation(),t(function(){f.focus()},100)}),i.hover(function(){i.addClass("active")},function(){i.removeClass("active")})}return n.$inject=["$scope","$element"],{controller:n,controllerAs:"comboBox",link:i,replace:!0,restrict:"E",scope:{model:"=ngModel",options:"=",css:"=",onBlur:"&"},template:['<div class="gaig-combo-box" ng-class="{true: \'gaig-combo-box-open\'}[comboBox.showList]" data-name="{{comboBox.id}}">','<input type="text" class="gaig-combo-box-input input-medium" ng-class="{{css}}" ng-model="model">','<a href="#" class="gaig-combo-box-trigger" tabindex="-1" ng-click="comboBox.toggleList($event)">','<span class="gaig-combo-box-arrow"></span>',"</a>",'<ul class="gaig-combo-box-list" id="combo-box-list-{{comboBox.id}}" ng-show="comboBox.showList">','<li class="gaig-combo-box-list-item" ng-repeat="option in options" data-name="gaig-combo-box-item-{{$index}}" gaig-repeater-emitter="{{comboBox.id}}">','<a href="#" class="gaig-combo-box-list-item-anchor" tabindex="-1" ng-class="{true: \'active-option\'}[comboBox.selectedIndex == $index]" ng-click="comboBox.selectOption(option, $event)" ng-mouseover="comboBox.selectIndex($index)">{{option}}</a>',"</li>","</ul>","</div>"].join("")}}])}(uiBootstrap.app,angular),function(e,t){"use strict";e.directive("gaigConfirmClick",["$timeout","$compile","$document","$q",function(e,n,i,o){function a(a,r,l,c){var u,g,d=a.$new(!0),f=angular.element("body"),p=t.element(i[0].body);d.flags={isOpen:!1},r.bind("click",function(e){e.preventDefault(),e.stopPropagation(),p.addClass(s),d.$apply(d.open)}),d.open=function(e){u=angular.element('<div class="gaig-confirm-click-backdrop"ng-class="{true: \'gaig-confirm-click-backdrop-open\'}[flags.isOpen]"></div>'),g=angular.element(['<div class="gaig-confirm-click" ng-class="{true: \'gaig-confirm-click-open\'}[flags.isOpen]">','<div class="gaig-confirm-click-header">','<span class="gaig-confirm-click-title">{{title || "Confirm"}}</span>','<a href="#" ng-click="handleCancel($event)" class="close">&times;</a>',"</div>",'<div class="gaig-confirm-click-body">','<div class="gaig-confirm-click-icon">','<span class="gaig-icon" ng-class="iconClass"></span>',"</div>",'<div class="gaig-confirm-click-content">','<div class="gaig-confirm-click-message" ng-bind-html="message | sanitize"></div>','<div class="gaig-confirm-click-info" ng-show="information" ng-bind-html="information | sanitize"></div>',"</div>","</div>",'<div class="gaig-confirm-click-footer">','<button type="button" class="btn btn-primary" ng-class="confirmClass" ng-click="handleConfirm($event)">{{confirmLabel || "Ok"}}</button>','<button type="button" class="btn" ng-class="cancelClass" ng-click="handleCancel($event)">{{cancelLabel || "Cancel"}}</button>',"</div>","</div>"].join("")),d.title=l.title,d.iconClass=l.iconClass||"gaig-icon-check",d.message=l.message,d.information=l.information,d.confirmLabel=l.confirmLabel,d.cancelLabel=l.cancelLabel,d.confirmClass=l.confirmClass,d.cancelClass=l.cancelClass,f.append(n(u)(d)),f.append(n(g)(d)),d.flags.isOpen=!0,f.bind("keyup.confirmDialogue",function(e){27===e.keyCode&&d.$apply(function(){d.handleCancel(e)})})},d.close=function(t){angular.isDefined(t)&&t.preventDefault(),d.flags.isOpen=!1,f.unbind("keyup.confirmDialogue"),e(function(){u.remove(),g.remove(),p.removeClass(s)},300)},d.handleCancel=function(e){e.preventDefault(),angular.isDefined(l.onCancel)?o.when(a.$eval(l.onCancel)).then(function(t){var n=!0;angular.isDefined(t)&&(n=t,angular.isFunction(t)&&t.call()),n&&d.close(e)},function(e){e.call()}):d.close(e)},d.handleConfirm=function(e){e.preventDefault(),angular.isDefined(l.gaigConfirmClick)&&o.when(a.$eval(l.gaigConfirmClick)).then(function(t){var n=!0;angular.isDefined(t)&&(n=t,angular.isFunction(t)&&t.call()),n&&d.close(e)},function(e){e.call()})}}var s="body-locked";return{link:a,priority:1,restrict:"A"}}])}(uiBootstrap.app,angular),gaigUi.app.directive("gaigContextMenu",["$document","$location","$position",function(e,t,n){var i=null,o=angular.noop,a=(angular.noop,angular.noop),s=null,r=!1,l=0,c=38,u=40,g=9,d=27;return{restrict:"E",scope:!0,link:function(t,f,p){function h(e){angular.element(e[0].querySelectorAll("li > a:not([href])")).attr("href","#")}var v,m,b=f===i,w=f.find("ul:first");angular.isDefined(p.disabled)&&t.$watch(function(){return t.$eval(p.disabled)},function(e){t.isDisabled=e,e?f.children().eq(0).addClass("disabled").attr("title","Disabled menu"):f.children().eq(0).removeClass("disabled").attr("title","Open menu...")}),angular.isDefined(p.onOpen)&&t.$watch(function(){return t.$eval(p.onOpen)},function(e){e()}),f.addClass("gaig-context-menu"),w.addClass("context-menu context-menu-alt"),h(w),t.$watch("$location.path",function(){o()}),f.children().eq(0).bind("click",function(){o()}),f.children().eq(0).keypress(function(e){var t=e.keyCode;32===t&&(e.preventDefault(),e.stopPropagation(),f.children().eq(0).click())}),f.children().eq(0).bind("click",function(n){var h;if(n.preventDefault(),n.stopPropagation(),i&&o(),!t.isDisabled&&!b){f.addClass("cm-open"),v=w.find("a:first"),i=f,v.addClass("selected").focus(),l=a(w,p.openDirection),h="auto"!==l&&parseInt(l)<0,h?f.addClass("cm-open-up"):f.removeClass("cm-open-up"),w.css("top",l),s=f.find("span.caret"),r=s.length>0,r&&("auto"===l?s.removeClass("caret-up"):s.addClass("caret-up"));var C=w.children('li:not(".disabled")');C.on("mouseover",function(){C.each(function(e,t){$(t).find("a:first").removeClass("selected")}),$(this).find("a:first").addClass("selected").focus()}),w.bind("keydown",function(e){switch(e.keyCode){case c:e.preventDefault(),v.removeClass("selected"),m=v.parent().prevAll('li:not(".disabled")').first().find("a:first"),v=m.length>0?m:v,v.addClass("selected").focus();break;case u:e.preventDefault(),v.removeClass("selected"),m=v.parent().nextAll('li:not(".disabled")').first().find("a:first"),v=m.length>0?m:v,v.addClass("selected").focus();break;case g:o();break;case d:o(),f.children().eq(0).focus()}}),o=function(t){t&&(t.preventDefault(),t.stopPropagation()),s.removeClass("caret-up"),e.unbind("click keydown",o),w.unbind("keydown"),f.removeClass("cm-open"),v.removeClass("selected"),o=angular.noop,i=null},e.bind("click",o)}}),a=function(e,t){var o=n.offset(e),a=n.offset(i),s=$(document).scrollTop(),r=o.height+parseInt(e.css("paddingTop"))+parseInt(e.css("paddingBottom"));return o.bottom=a.top+a.height+r,"up"===t?-r+"px":"down"===t?"auto":o.bottom<window.innerHeight+s?"auto":-r+"px"}}}}]),function(e,t,n,i,o){"use strict";function a(t,n){var i=e(t),o=i.children();if(s=makeString(13),this.elements={container:i,opener:o.eq(0),menu:o.eq(1)},this.options=e.extend({},l,n),this._defaults=l,this._name=r,0===this.elements.opener.length)throw"Error: gaigJqueryContextMenu could not find a child opener element";if(0===this.elements.menu.length)throw"Error: gaigJqueryContextMenu could not find a child list element";this.init()}var s,r="gaigJqueryContextMenu",l={mainCss:"gaig-context-menu",menuCss:"context-menu context-menu-alt",openerBtnCss:"gaig-context-menu-opener",openMenuCss:"cm-open",disabledMenuItemCss:"disabled",selectedMenuItemCss:"selected",openUpCss:"cm-open-up",keys:{up:38,down:40,tab:9,esc:27,space:32,enter:13}};a.prototype={init:function(){var e=this;this.elements.container.addClass(this.options.mainCss),this.elements.menu.addClass(this.options.menuCss),this.elements.opener.addClass(this.options.openerBtnCss),this.elements.opener.on("click."+s,function(t){t.preventDefault(),e.toggleMenu(e.elements,e.options)}).on("keydown."+s,function(t){t.preventDefault(),t.keyCode!==e.options.keys.space&&t.keyCode!==e.options.keys.enter||e.toggleMenu(e.elements,e.options)})},toggleMenu:function(e,t){e.container.hasClass(t.openMenuCss)?this.closeMenu(e,t):this.openMenu(e,t)},openMenu:function(o,a){var r,l=this,c=null,u=null;r=e("."+a.openMenuCss),i.forEach(r,function(t){e(t).removeClass(a.openMenuCss)}),o.container.addClass(a.openMenuCss),this.setOpenDirection(o,a),e(t).on("scroll."+s,function(e){l.setOpenDirection(o,a)}),c=this.select(o.menu.children("li:not('.disabled')").first().find("a:first"),a),o.menu.children("li:not('."+a.disabledMenuItemCss+"')").find("a:first").on("mouseover",function(){l.select(e(this),a,o)}),o.menu.on("keydown."+s,function(e){switch(e.keyCode!==a.keys.enter&&e.keyCode!==a.keys.tab&&e.preventDefault(),e.keyCode){case a.keys.down:u=c.parent().nextAll("li:not('."+a.disabledMenuItemCss+"'):first").find("a:first"),1===u.length&&(l.deselect(c,a),c=l.select(u,a));break;case a.keys.up:u=c.parent().prevAll("li:not('."+a.disabledMenuItemCss+"'):first").find("a:first"),1===u.length&&(l.deselect(c,a),c=l.select(u,a));break;case a.keys.tab:l.closeMenu(o,a);break;case a.keys.esc:o.opener.focus(),l.closeMenu(o,a)}}),e(n).on("click."+s,function(t){var n=e(t.target);t.preventDefault(),n.hasClass(l.options.openerBtnCss)||n.parent().hasClass(l.options.openerBtnCss)||n[0]===l.elements.menu[0]||n.hasClass(l.options.disabledMenuItemCss)||l.closeMenu(l.elements,l.options)})},closeMenu:function(i,o){i.container.removeClass(o.openMenuCss),i.menu.off("keydown."+s),e(t).off("scroll."+s),e(n).off("click."+s)},select:function(t,n,i){var a=this;return i!==o&&i.menu.children("li:not('."+n.disabledMenuItemCss+"')").find("a:first").each(function(t,i){a.deselect(e(i),n)}),t.addClass(n.selectedMenuItemCss).focus(),t},deselect:function(e,t){e.removeClass(t.selectedMenuItemCss)},setOpenDirection:function(n,i){var o=e(t).scrollTop(),a=e(t).height(),s=n.container.offset(),r=n.container.outerHeight(),l=a-s.top-r+o;n.menu.outerHeight()>l?(n.container.addClass(i.openUpCss),n.menu.css("top",-n.menu.outerHeight()-6)):(n.container.removeClass(i.openUpCss),n.menu.css("top","100%"))}},e.fn[r]=function(t){return this.each(function(){e.data(this,"plugin_"+r)||e.data(this,"plugin_"+r,new a(this,t))})}}(jQuery,window,document,angular),function(e){"use strict";function t(e){return{restrict:"AC",require:"ngModel",link:e.createLinker({symbolBefore:"$",decimalsToShow:2,parenthenticalNegative:!0,useFixedNotation:!0}),scope:!0}}e.directive("gaigCurrency",["gaigNumberFormatting",t])}(gaigUi.app),function(e,t){"use strict";function n(e,t){function n(e,n,a,s){function r(){v.destroy(),h.remove()}function l(){return new Pikaday({field:p.input,trigger:p.trigger,format:i,theme:"dark-theme",onSelect:function(n){var i=d(n);p.input.classList.remove("gaig-error"),e.ngModel=i,p.input.value=i,angular.isDefined(e.onSelect)&&angular.isFunction(e.onSelect)&&e.onSelect(),t(function(){e.$apply(),v.hide()})}})}function c(){var e=$(p.input).inputmask({mask:"m/d/y",placeholder:i.toLowerCase(),oncomplete:function(){var e=d(this.value);v.setDate(e),p.input.classList.remove("gaig-error")},onincomplete:function(){p.input.value="",v.gotoToday(),this.value.length>0?p.input.classList.add("gaig-error"):p.input.classList.remove("gaig-error")},oncleared:function(){v.setDate(null),s.$setViewValue(null)}});return e}function u(){return{input:n[0].children[0],trigger:n[0].children[2]}}function g(e){angular.isDefined(e)&&(p.input.setAttribute("id",e),n.removeAttr("id"))}function d(e){var t=e;return 0===t.length?"":e instanceof Date||!o.test(e)?moment(e).format(i):t}function f(t){var n=t;return angular.isUndefined(n)||null===n||0===n.length?(s.$setValidity("date",!0),p.input.value="",void v.gotoToday()):(t instanceof Date?n=moment(t).format(i):o.test(n)||(n=e.timezone?moment(t).tz(e.timezone).format(i):moment(t).format(i),e.ngModel=n),v.setDate(n,!0),void(angular.isDefined(e.onSelect)&&angular.isFunction(e.onSelect)&&e.onSelect()))}var p=u(),h=c(),v=l();g(a.id),s.$formatters.push(f),e.$on("$destroy",r)}var i="MM/DD/YYYY",o=/\d{2}\/\d{2}\/\d{4}/;return{link:n,replace:!0,require:"ngModel",restrict:"E",scope:{ngModel:"=",onSelect:"&",timezone:"@",ngDisabled:"="},template:'<div class="input-append gaig-datepicker"><input type="text" class="date-input" placeholder="'+i.toLowerCase()+'" maxlength="'+i.length+'" ng-disabled="ngDisabled"><a href="javascript:void(0)" class="gaig-datepicker-anchor disabled add-on" tabindex="-1" ng-show="ngDisabled"></a><a href="javascript:void(0)" class="gaig-datepicker-anchor add-on" tabindex="-1" ng-hide="ngDisabled"></a></div>'}}n.$inject=["$window","$timeout"],e.directive("gaigDatepicker",n)}(uiBootstrap.app,angular),function(e,t){"use strict";function n(){return function(e,t,n,i,o){e&&t&&n&&(o.on(e+".gaigDelegate",t,function(e){var t=angular.fromJson(angular.element(e.target).data("gaigJson")||void 0);e.preventDefault(),angular.isFunction(i[n])&&i.$apply(function(i){i[n](e,t)})}),i.$on("destroy",function(){o.off(e+".gaigDelegate")}))}}function i(e){return function(t,n,i){var o=i.gaigDelegateClicks,a=i.delegateClicksSelector;return e("click",a,o,t,n)}}function o(e){return function(t,n,i){var o=i.gaigDelegateDblClicks,a=i.delegateDblClicksSelector;return e("dblclick",a,o,t,n)}}e.factory("gaigDelegationHelper",n),e.directive("gaigDelegateClicks",i),e.directive("gaigDelegateDblClicks",o),i.$inject=["gaigDelegationHelper"],o.$inject=["gaigDelegationHelper"]}(uiBootstrap.app,angular),function(e,t){"use strict";e.directive("gaigAnchorDisabled",[function(){function e(e,n,i){function o(e){e.preventDefault(),e.stopPropagation()}e.$watch(function(){return e.gaigAnchorDisabled},function(e,i){e&&"false"!==e?n.on("click",o).addClass("disabled").addClass(t):n.off("click",o).removeClass(t).removeClass("disabled")})}var t="gaig-disabled-anchor";return{link:e,priority:-9999,restrict:"A",scope:{gaigAnchorDisabled:"="}}}])}(uiBootstrap.app,angular),gaigUi.app.directive("gaigDropdown",function(){return{restrict:"A",scope:!0,compile:function(e,t,n){var i=$(e).find(".dropdown-toggle").first(),o=$(e).find(".dropdown-menu").first(),a=$("body").find("[gaig-dropdown]").not(e);if(0!=i.length&&0!=o.length){o.css("display","block");var s=makeString(12,!1);return toggleElementCenter=i.width()/2-3,o.addClass(s),$("head").append("<style>."+s+":before { left: "+toggleElementCenter+"px !important; }</style>"),$("head").append("<style>."+s+":after { left: "+toggleElementCenter+"px !important; }</style>"),i.attr("ng-click","toggle()"),o.attr("ng-show","isOpen"),function(e,t,n,o){e.isOpen=!1,e.open=function(){e.isOpen=!0},e.close=function(){e.isOpen=!1},e.toggle=function(){e.isOpen?e.close():e.open()},e.getIsOpen=function(){return e.isOpen},$("html").click(function(t){e.getIsOpen()&&(e.close(),e.$apply())}),i.click(function(e){a.each(function(e,t){var n=angular.element(t).scope();n.isOpen&&(n.close(),n.$apply())}),e.stopPropagation(),e.preventDefault()})}}}}}),function(e,t,n,i){"use strict";n.directive("gaigEllipsis",["$timeout","$compile",function(n,o){function a(o,a,s){function r(){var e,n,i,o;return a.hide(),a.wrap('<span class="gaig-ellipsis-wrapper"></span>'),n=a.parent(),e=t.element('<span class="gaig-ellipsis-clone"></span>'),i=t.element('<a href="#" class="gaig-ellipsis-anchor">&hellip;</a>'),o=t.element('<div class="gaig-ellipsis-tooltip"><a href="#" class="gaig-ellipsis-tooltip-close" title="Close expanded text"><i class="icon icon-white icon-remove"></i></a></div>'),n.append(e).append(i).append(o),{$wrapper:n,$clone:e,$ellipsis:i,$tooltip:o,$close:o.find(".gaig-ellipsis-tooltip-close")}}function l(e){var n,o,l,f,p,h,v=t.isDefined(s.maxLines)?s.maxLines:1,m=a.parent(),b=m.width();if(g(),a.css({display:"block",visibility:"hidden",whiteSpace:"nowrap","float":"left"}),p=t.isDefined(s.width)?parseInt(s.width,10):b,a.width()>p)for(d=r(),d.$clone.attr("title","Click to expand text"),d.$ellipsis.attr("title","").hide(),d.$tooltip.css("width",p).append(e),d.$clone.on("click",{$elements:d},c),d.$clone.on("mouseover",function(){i(this).addClass("active"),d.$ellipsis.addClass("active")}),d.$clone.on("mouseout",function(){i(this).removeClass("active"),d.$ellipsis.removeClass("active")}),d.$ellipsis.on("click",{$elements:d},c),d.$close.on("click",{$elements:d},u),f=e.split(""),h=v*parseInt(d.$clone.css("lineHeight"),10),n=0,o=f.length;n<o;n+=1){if(l=d.$clone.text(),d.$clone.height()>h){d.$ellipsis.show(),d.$clone.text(l.substr(0,l.length-5));break}d.$clone.text(l+f[n])}a.css({visibility:"visible",whiteSpace:"normal","float":"none"})}function c(e){e.preventDefault(),e.data.$elements.$tooltip.width(e.data.$elements.$wrapper.outerWidth()).show()}function u(e){e.preventDefault(),e.data.$elements.$tooltip.hide()}function g(){a.parent().hasClass("gaig-ellipsis-wrapper")&&(a.siblings().remove(),a.unwrap(),a.show())}var d;i(e).resize(function(){l(a.text())}),o.$on("gaigEllipsisRepeaterFinished",function(){i.browser.msie?n(function(){l(a.text())},1e3):n(function(){l(a.text())})}),o.$watch(function(){return a.text()},function(e){i.browser.msie?n(function(){l(e)},1e3):n(function(){l(e)})},!0),o.$watch(function(){return a.is(":visible")},function(e){e&&(i.browser.msie?n(function(){l(a.text())},1e3):n(function(){l(a.text())}))})}return{link:a,restrict:"EAC"}}]).directive("gaigEllipsisRepeater",function(e){return{restrict:"A",link:function(t,n,i){t.$last===!0&&e(function(){t.$emit("gaigEllipsisRepeaterFinished")})}}})}(window,angular,gaigUi.app,jQuery),function(e,t){"use strict";var n="gaig-fieldset",i="gaig-fieldset-legend",o="has-checkbox",a="gaig-fieldset-checkbox",s="gaig-fieldset-content",r="gaig-fieldset-content-inner clearfix";e.directive("gaigFieldset",["$compile",function(e){function t(e,t){var c,u=e.find("legend").eq(0),g=u.find("input[type=checkbox]").eq(0),d=angular.element("<a href=\"#\" ng-click=\"toggle($event)\" gaig-keypress=\"{ 'space': 'toggle($event)' }\" gaig-keyup=\"{ 'up left': 'close($event)', 'down right': 'open($event)' }\"></a>"),f=e.children().not(u),p=angular.element('<div class="'+s+'"><div ng-show="isOpen" class="'+r+'"></div></div>');return g.length>0&&(c=angular.element('<div class="'+a+'"></div>'),u.addClass(o),f.before(c),c.append(g)),e.addClass(n),u.addClass(i).attr({"ng-click":"toggle($event)","ng-class":"{true: 'gaig-fieldset-legend-open', false: 'gaig-fieldset-legend-closed'}[isOpen]",unselectable:"on"}).wrapInner(d),f.wrapAll(p),l}function l(e,t,n,i){function o(){return!i||i.$viewValue}function a(t){void 0===t&&(t=!0),e.isOpen=t}null!==i&&angular.isDefined(i)||(i={$viewValue:!0,$setViewValue:function(e){i.$viewValue=e}}),e.isOpen=!0,e.isFieldset=!0,e.$watch(o,function(e){a(e)}),e.toggle=function(n){var o=$(n.target);angular.isDefined(o)&&"INPUT"!==o[0].tagName?(angular.isDefined(n)&&(n.preventDefault(),n.stopPropagation()),i.$setViewValue(!e.isOpen),t.find("legend").children().eq(0).focus()):o.prop("checked",!o.prop("checked"));
},e.open=function(e){angular.isDefined(e)&&(e.preventDefault(),e.stopPropagation()),i.$setViewValue(!0)},e.close=function(e){angular.isDefined(e)&&(e.preventDefault(),e.stopPropagation()),i.$setViewValue(!1)}}return{compile:t,require:"?ngModel",restrict:"A",scope:!0}}])}(uiBootstrap.app,angular),function(e,t,n){"use strict";gaigUi.app.directive("gaigFocus",["$timeout","$parse",function(e,n){function i(i,o,a){function s(){var e=o[0];return o.hasClass("gaig-currency")&&(e=o.siblings(".formatted")),e}var r=n(a.gaigFocus);i.$watch(r,function(n){t.isDefined(n)&&n===!0&&(r.assign(i,!1),e(function(){s().focus()}))},!0)}return{restrict:"A",link:i}}])}(gaigUi,angular,jQuery),function(e,t){"use strict";e.directive("gaigFooter",["$timeout",function(e){function t(t,n,i,o){e(function(){var e=$(".gaig-main").first(),t=$(n);e.length>0&&e.css({paddingBottom:t.outerHeight()})},600)}return{link:t,restrict:"A"}}])}(gaigUi.app,angular),function(e,t,n){"use strict";gaigUi.app.directive("gaigHide",[function(){function e(e,t,n){function i(){return e.$eval(n.gaigHide)}t.css("opacity",0),e.$watch(i,function(e){e?t.hide().css({opacity:0}):t.show().css({opacity:100})})}return{restrict:"A",link:e}}])}(gaigUi,angular,jQuery),function(e,t,n){"use strict";t.factory("keypressHelper",["$parse",function(t){var n={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},i=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(o,a,s,r){var l,c=[];l=a.$eval(r["gaig"+i(o)]),e.forEach(l,function(n,i){var o,a;a=t(n),e.forEach(i.split(" "),function(t){o={expression:a,keys:{}},e.forEach(t.split("-"),function(e){o.keys[e]=!0}),c.push(o)})}),s.bind(o,function(t){var i=t.metaKey||t.altKey,s=t.ctrlKey,r=t.shiftKey,l=t.keyCode;"keypress"===o&&!r&&l>=97&&l<=122&&(l-=32),e.forEach(c,function(e){var o=e.keys[n[t.keyCode]]||e.keys[t.keyCode.toString()]||!1,l=e.keys.alt||!1,c=e.keys.ctrl||!1,u=e.keys.shift||!1;o&&l==i&&c==s&&u==r&&(t.preventDefault(),a.$apply(function(){e.expression(a,{$event:t})}))})})}}]),t.directive("gaigKeypress",["keypressHelper",function(e){return{restrict:"A",link:function(t,n,i){e("keypress",t,n,i)}}}]),t.directive("gaigKeyup",["keypressHelper",function(e){return{restrict:"A",link:function(t,n,i){e("keyup",t,n,i)}}}]),t.directive("gaigKeydown",["keypressHelper",function(e){return{restrict:"A",link:function(t,n,i){e("keydown",t,n,i)}}}])}(angular,gaigUi.app,jQuery),gaigUi.app.directive("gaigMaskedInput",function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(n.gaigMaskedInput&&0!==n.gaigMaskedInput.length){$(t).inputmask(n.gaigMaskedInput,{clearIncomplete:!1});i&&t.keyup(function(){e.$apply(function(){i.$setViewValue(t.val())})})}}}}),gaigUi.app.directive("gaigMaxlength",["$compile","$timeout",function(e,t){"use strict";var n,i,o,a,s,r;return n=10,a=500,s=150,r=500,i="gaig-maxlength-reached",o="gaig-maxlength-textarea",{restrict:"A",require:"ngModel",compile:function(e,t){var n,a,r;return 0===t.gaigMaxlength.length?null:(r=parseInt(t.gaigMaxlength,10),a=angular.element('<span class="gaig-maxlength">Characters remaining:&nbsp;</span>'),n=angular.element('<span class="chars-remaining">'+r+'</span> of <span class="total-chars">'+r+"</span>"),e.is(":visible")?a.show():a.hide(),e.addClass(o).after(a.append(n)),e.attr("maxlength",r),function(e,t,n,o){function l(e){return o.$setValidity("maxlength",u(e)<=r),e}function c(){throttle(f,s)(t,n,!1)}function u(e){var t=String(e||"");return t.length+g(e)}function g(e){var t,n;return t=String(e||""),n=t.match(/\n/g)||[],n.length}function d(e){e?a.hide():a.show()}var f,p;e.$watch(function(){return t.val().length},c),e.$watch("attrs.gaigMaxlength",c),e.$watch(function(){return t.is(":visible")},function(e,i){var o,a;o=t.next(),a=o.find(".chars-remaining"),e?(o.show(),f(t,n)):o.hide()}),n.ngModel&&e.$watch(n.ngModel,c),n.ngHide&&e.$watch(function(){return e.$eval(n.ngHide)},d),f=function(e,t){var n,o,a,s,c,g;e.is(":visible")&&(n=parseInt(t.gaigMaxlength,10),o=e.next(),a=o.find(".chars-remaining"),s=e.val(),l(s),c=u(s),g=r-c,o.removeClass(i),g<1&&o.addClass(i),a.html(g),p=g)},o.$formatters.push(l),o.$parsers.unshift(l),f(t,n,!1)})}}}]),function(e,t,n){"use strict";function i(e,t,i){function o(e,t,n){var i;O=e,A=n.objObserver(B),B.onOpen=B.onOpen||l,B.onSave=B.onSave||l,B.onCancel=B.onCancel||l,B.onClose=B.onClose||l,B.showSave=!c(B.showSave)||B.showSave,B.showCancel=!c(B.showCancel)||B.showCancel,B.cancelModal=v,B.saveModal=x,B.footerButtonClick=w,B.destroy=a,B.isOpen=!1,B.isOpening=!1,B.isSubmitting=!1,B.openByAttribute=$,s("canSave",d,["isSubmitting","saveDisabled"]),s("headerTitle",h,["title","modalTitle"]),s("hasTitle",f,["headerTitle"]),E=new S,E.openModal=C,B.id&&(i=t(p)(B)),B.openerSelector=c(B.openerSelector)?B.openerSelector:i,e(function(){E.attach(B.openerSelector)},300),A.observe("openerSelector",E.attach),A.observe("isOpening",E.setLoading)}function a(){m(!0),E.detach(),A=null,i.reset()}function s(e,t,n){function i(){B[e]=t()}var o=M(i);o(),n.forEach(function(e){A.observe(e,o)})}function d(){return!(B.isSubmitting||B.saveDisabled)}function f(){return!!B.headerTitle}function h(){return B.title||B.modalTitle}function v(e){b(B.onCancel,e)}function m(t){return t?void(B.isOpen=!1):void e(D("isSubmitting",!0)).then(B.onClose).then(k(D("isOpen",!1)))["catch"](y)["finally"](D("isSubmitting",!1))}function b(t,n){n&&n.preventDefault(),e(D("isSubmitting",!0)).then(t).then(k(m))["catch"](y)["finally"](D("isSubmitting",!1))}function w(e,t){var n,i;n=t&&t.closeOnClick===!0,i=g(t&&t.onClick)?t.onClick:l,e&&e.preventDefault(),n?b(i):i()}function $(e){!!e!=!!B.isOpen&&(B.isOpen?b(l):C())}function C(t){t&&t.preventDefault(),e(D("isSubmitting",!1)).then(D("isOpening",!0)).then(B.onOpen).then(k(D("isOpen",!0)))["catch"](y)["finally"](D("isOpening",!1))}function k(e){function t(t){var n=g(t);(u(t)||n&&t()||!n&&t)&&e()}return t}function y(e){return g(e)?e():e}function x(e){b(B.onSave,e)}function D(e,t){function n(){B[e]=t}return n}function M(e){function t(){O(e)}return t}function S(){function e(){l.attach=t,l.detach=i,l.setLoading=a,l.openModal=r}function t(e){i(),e&&(s=n(e),s.on("click.gaigOpenerButtons",o))}function i(){s&&s.off("click.gaigOpenerButtons",o),s=null}function o(e){l.openModal(e)}function a(e){var t=(e?"add":"remove")+"Class";s&&s[t]("btn-loading").prop("disabled",e)}var s,l=this;e()}var O,A,E,B=this;o(e,t,i)}function o(e,t){function i(e,t){return u(t.saveButtonLabel)&&t.$set("saveButtonLabel","Save"),o}function o(i,o,r,l){function u(e,t,n,i){m=e.ctrl,b=[],e.$on("$destroy",function(){b.forEach(function(e){e()}),m.destroy()}),b.push(e.$watch("ctrl.isOpen",function(e){e?p():f()})),b.push(e.$watch("ctrl.ngModel",m.openByAttribute)),m.dynatrace&&g(t),d()}function g(e){var t,n;t=e.find(".modal-header > a.close, .modal-footer > button:last-child"),n=e.find(".modal-footer > button:first-child"),t.attr("data-dtName",m.cancelButtonDtName),n.attr("data-dtName",m.saveButtonDtName)}function d(){a=o.parents().filter(function(){return n(this).css("transform").indexOf("matrix")!==-1}),a.each(function(e){var t=n(this);t.addClass("matrix-transform")})}function f(){t(function(){o.hide(),s(!1)},300),l&&l.$setViewValue(!1),e.off("keyup.gaigModal",h),n("input").off("keyup.gaigModal",v)}function p(){s(!0),c(m.ngModel)&&(m.ngModel=!0),o.show(),o.animate({scrollTop:0},0),e.on("keyup.gaigModal",h),n("input, textarea").on("keyup.gaigModal",v)}function h(e){27===e.keyCode&&t(function(){m.cancelModal()})}function v(e){if(27===e.keyCode)return e.preventDefault(),!1}var m,b;u(i,o,r,l)}var a;return{compile:i,bindToController:!0,controller:"GaigModalController",controllerAs:"ctrl",replace:!0,require:"?ngModel",restrict:"E",scope:{id:"@",title:"@",modalTitle:"=",modalCss:"@",dynamicCss:"=?",saveButtonLabel:"@",saveButtonId:"@",saveButtonDtName:"@",showSave:"=?",saveDisabled:"=",showCancel:"=?",cancelButtonId:"@",cancelButtonDtName:"@",footerButtons:"=",onOpen:"&",onCancel:"&",onSave:"&",onClose:"&",ngModel:"=",openerSelector:"=?",dynatrace:"="},transclude:!0,template:d}}function a(){return'<div class="gaig-modal-container" ng-class="{\'is-open\':ctrl.isOpen}">  <div class="gaig-modal-scroll-container">    <div class="modal gaig-modal {{ctrl.modalCss}}" ng-class="ctrl.dynamicCss" tabindex="-1">      <div class="modal-header" ng-show="ctrl.hasTitle">        <a href="#" class="close" ng-click="ctrl.cancelModal($event)">×</a>        <h3 class="modal-title">{{ctrl.headerTitle}}</h3>      </div>      <div class="modal-body" ng-transclude></div>      <div class="modal-footer">        <button id="{{ctrl.saveButtonId}}" class="btn btn-primary" ng-disabled="!ctrl.canSave" ng-class="{\'btn-loading\':ctrl.isSubmitting}" ng-show="ctrl.showSave" ng-click="ctrl.saveModal($event)">{{ctrl.saveButtonLabel}}</button>        <span ng-if="!ctrl.dynatrace" ng-repeat="button in ctrl.footerButtons track by button.label"><button class="btn" id="{{button.buttonId}}" ng-click="ctrl.footerButtonClick($event, button)" ng-class="button.css || \'btn\'" ng-disabled="button.isDisabled">{{button.label}}</button><span ng-if="button.hasOwnProperty(\'tooltip\')" class="icon icon-question-sign text-primary" gaig-tooltip="{{button.tooltip}}"></span></span>        <span ng-if="ctrl.dynatrace" ng-repeat="button in ctrl.footerButtons track by button.label"><button class="btn" id="{{button.buttonId}}" ng-click="ctrl.footerButtonClick($event, button)" ng-class="button.css || \'btn\'" ng-disabled="button.isDisabled" data-dtName="{{button.dynatrace}}">{{button.label}}</button><span ng-if="button.hasOwnProperty(\'tooltip\')" class="icon icon-question-sign text-primary" gaig-tooltip="{{button.tooltip}}"></span></span>        <button id="{{ctrl.cancelButtonId}}" class="btn" ng-show="ctrl.showCancel" ng-click="ctrl.cancelModal($event)">Cancel</button>      </div>    </div>  </div></div>'}function s(e){var t=(e?"add":"remove")+"Class";f[t]("body-locked")}function r(e){e&&e.preventDefault()}function l(){}var c=t.isDefined,u=t.isUndefined,g=t.isFunction,d=a(),f=n("body"),p='a[href="#{{id}}"], [gaig-modal-target="#{{id}}"]';e.controller("GaigModalController",["$timeout","$interpolate","gaigObserver",i]).directive("gaigModal",["$document","$timeout",o])}(uiBootstrap.app,angular,jQuery),uiBootstrap.app.provider("monthyear",function(){var e={};this.setOptions=function(t){e=t},this.$get=function(){return{getOptions:function(){return e}}}}).directive("monthyear",["$timeout","monthyear",function(e,t){var n=t.getOptions();return{require:"?ngModel",restrict:"AE",scope:{datetimepickerOptions:"@"},link:function(t,i,o,a){function s(){var e=null;a&&a.$viewValue&&(e=a.$viewValue);var t=i.data("DateTimePicker");t.date(e)}var r=t.$eval(o.monthyearOptions),l=jQuery.extend({},n,r);i.on("dp.change",function(t){e(function(){var e=i.data("DateTimePicker");a.$setViewValue(e.date().format("MM/YYYY"))})}),a.$render=function(e){s()},i.datetimepicker(l),s()}}}]),function(e){"use strict";function t(e){return{link:e.createLinker(),priority:100,require:"^ngModel",restrict:"AC",scope:!0}}e.directive("gaigNumber",["gaigNumberFormatting",t])}(uiBootstrap.app),function(e,t,n){"use strict";gaigUi.app.directive("gaigOnBlur",[function(){function e(e,t,n){t.blur(function(){e.$eval(n.gaigOnBlur)})}return{restrict:"A",link:e}}])}(gaigUi,angular,jQuery),function(e,t,n){"use strict";gaigUi.app.directive("gaigOnFocus",[function(){function e(e,t,n){t.focus(function(){e.$eval(n.gaigOnFocus)})}return{restrict:"A",link:e}}])}(gaigUi,angular,jQuery),function(e,t,n){"use strict";gaigUi.app.directive("gaigOnKeyup",["$timeout",function(e){function n(e,n,i){var o=i.gaigOnKeyup;n.keyup(function(){t.isDefined(o)&&e.$eval(o)})}return{restrict:"A",link:n}}])}(gaigUi,angular,jQuery),function(e){"use strict";function t(e){return{require:"ngModel",restrict:"A",scope:!0,link:e.createLinker({max:100,min:-100,allowNegative:!1,symbolAfter:"%"})}}e.directive("gaigPercentage",["gaigNumberFormatting",t])}(uiBootstrap.app),gaigUi.app.directive("placeholder",["$timeout",function(e){function t(){return test=document.createElement("input"),"placeholder"in test}return{restrict:"A",scope:!1,link:function(n,i,o){t()||n.$watch(function(){return o.placeholder},function(){e(function(){n.$apply(function(){i.placeholderFix()})})})}}}]),function(e,t,n,i){"use strict";n.directive("gaigPopover",["$q","$timeout","$compile","$document",function(e,n,i,o){function a(o,a,u){function g(e){o.position=e||"top",a.css("margin",0),o.position===c.top?a.css({marginTop:-(a.outerHeight()+h.outerHeight()+s+r),marginLeft:d(h.outerWidth(),a.outerWidth())}):o.position===c.right?a.css({marginTop:f(h.outerHeight(),a.outerHeight()),marginLeft:h.outerWidth()+s+r}):o.position===c.bottom?a.css({marginTop:s+r,marginLeft:d(h.outerWidth(),a.outerWidth())}):o.position===c.left&&a.css({marginTop:f(h.outerHeight(),a.outerHeight()),marginLeft:-(a.outerWidth()+s+r)})}function d(e,t){var n;return n=t>e?-((t-e)/2):(e-t)/2}function f(e,t){var n;return n=t>e?-((t-e)/2)-e:(e-t)/2-e}function p(t){var i=e.defer();return n(function(){var e=l.find("a[href='#"+t+"'], [gaig-popover-target='#"+t+"']");0===e.length?i.reject("Error: could not locate opener button for gaigPopover '#"+t+"'."):i.resolve(e)},300),i.promise}var h,v;if(t.isUndefined(u.id))throw"Error: gaigPopover used without setting an ID.";o.isHidden=!0,v=p(u.id),v.then(function(e){h=e,i(t.element(e).attr("ng-click","togglePopover($event)"))(o)},function(e){throw e}),o.togglePopover=function(e){e.preventDefault(),o.isHidden?(o.isHidden=!1,h.addClass("active"),g(u.position)):(o.isHidden=!0,h.removeClass("active"))}}var s=8,r=1,l=t.element(o[0].body),c={top:"top",right:"right",bottom:"bottom",left:"left"},u='<div class="gaig-popover {{position}}" gaig-hide="isHidden"><div class="gaig-popover-header" ng-show="title.length > 0"><span class="gaig-popover-title">{{title}}</span></div><div class="gaig-popover-body" ng-transclude></div></div>';return{link:a,replace:!0,restrict:"E",scope:{title:"@"},template:u,transclude:!0}}])}(window,angular,gaigUi.app,jQuery),function(e,t,n){"use strict";gaigUi.app.directive("gaigRadioButtons",["$timeout",function(e){function i(e,i,a){var s;s=n(i),e.select=o,e.scope=e,e._onClick="function"==typeof e.onClick?e.onClick:t.noop,e._onChange="function"==typeof e.onChange?e.onChange:t.noop,e.$watch("model",function(){s.data("selectedValue",e.model),e.selectedValue=e.model,e.$eval(e._onChange)})}function o(e,n,i){if(t.isDefined(i)&&i.preventDefault(),!e.disabled&&e.selectedValue!==n){var o=e.$eval(e._onClick),a=void 0===o||o;a&&(e.selectedValue=n,e.model=n)}}return{restrict:"E",require:"ngModel",priority:100,scope:{options:"=",model:"=ngModel",onClick:"&",onChange:"&",disabled:"=ngDisabled"},template:'<div class="btn-group gaig-radio-buttons"><button type="button" class="btn" ng-disabled="disabled"id="{{option.id}}"ng-class="{true:\'active\', false:\'\'}[selectedValue==option.value]"ng-repeat="option in options" ng-click="select(scope, option.value, $event)"gaig-keypress="{\'space\': \'select(scope, option.value, $event)\'}"value="{{option.value}}"><span ng-show="option.icon" class="gaig-icon {{option.icon}}"></span>{{option.label}}</button></div>',replace:!0,link:i}}])}(gaigUi,angular,jQuery),function(e,t,n){"use strict";gaigUi.app.directive("gaigRepeaterBroadcaster",["$timeout",function(e){function t(t,n,i){var o=i.gaigRepeaterBroadcaster;if(0===o.length)throw new EvalError("gaigRepeaterBroadcaster used without assigning a value to broadcast.");t.$last===!0&&e(function(){t.$broadcast(o)})}return{restrict:"A",link:t}}])}(gaigUi,angular,jQuery),function(e,t,n){"use strict";gaigUi.app.directive("gaigRepeaterEmitter",["$timeout",function(e){function t(t,n,i){var o=i.gaigRepeaterEmitter;if(0===o.length)throw new EvalError("gaigRepeaterEmitter used without assigning a value to emit.");t.$last===!0&&e(function(){t.$emit(o)})}return{restrict:"A",link:t}}])}(gaigUi,angular,jQuery),function(e,t,n,i){"use strict";n.directive("gaigScrollbar",function(){function e(e,n,i){var o,a={mousewheel:!0,advanced:{updateOnContentResize:!0}};t.isDefined(e.settings)&&t.isObject(e.settings)&&t.extend(a,e.settings),o=n.mCustomScrollbar(a)}return{link:e,restrict:"A",scope:{settings:"=gaigScrollbar"}}})}(window,angular,gaigUi.app,jQuery),function(e,t,n,i){"use strict";n.directive("gaigSelect",["$timeout","$compile",function(e,n){var o={};return{require:"ngModel",compile:function(a,s){var r,l,c,u,g=a.is("select"),d=void 0!==s.multiple;return a.is("select")&&(l=a.find("option[ng-repeat], option[data-ng-repeat]"),l.length?(c=l.attr("ng-repeat")||l.attr("data-ng-repeat"),r=jQuery.trim(c.split("|")[0]).split(" track ")[0].split(" ").pop(),r=r.substring(r.lastIndexOf(":")+1)):(u=a.attr("ng-options"),u&&(r=u.split(" in ")[1].split(" ")[0],r=r.substring(r.lastIndexOf(":")+1)))),function(a,l,c,u){var f=t.extend({},o,a.$eval(c.gaigSelect)),p={};if(t.isDefined(c.allowClear)&&(p.allowClear=a.$eval(c.allowClear)),f.minimumResultsForSearch=5,f.matcher=function(e,t){return t=i.trim(t),0==t.toUpperCase().indexOf(e.toUpperCase())},f=t.extend(f,p),g?(delete f.multiple,delete f.initSelection):d&&(f.multiple=!0),u&&(a.$watch(s.ngModel,function(e,n){e&&e!=n&&(u.$render(),t.isDefined(c.onChange)&&void 0!==l.select2("data")&&a.$eval(c.onChange))},!0),u.$render=function(){g?l.select2("val",u.$viewValue):d?u.$viewValue?t.isArray(u.$viewValue)?l.select2("data",u.$viewValue):l.select2("val",u.$viewValue):l.select2("data",[]):t.isObject(u.$viewValue)?l.select2("data",u.$viewValue):u.$viewValue?l.select2("val",u.$viewValue):l.select2("data",null)},r&&a.$watch(r,function(t,n,i){t&&e(function(){l.select2("val",u.$viewValue),l.select2("close")})}),u.$parsers.push(function(e){var t=l.prev();return t.toggleClass("ng-invalid",!u.$valid).toggleClass("ng-valid",u.$valid).toggleClass("ng-invalid-required",!u.$valid).toggleClass("ng-valid-required",u.$valid).toggleClass("ng-dirty",u.$dirty).toggleClass("ng-pristine",u.$pristine),e}),!g&&(l.bind("change",function(){a.$$phase||a.$apply(function(){u.$setViewValue(l.select2("data"))})}),f.initSelection))){var h=f.initSelection;f.initSelection=function(e,t){h(e,function(e){u.$setViewValue(e),t(e)})}}l.bind("$destroy",function(){l.select2("destroy")}),c.$observe("disabled",function(e){l.select2("enable",!e)}),c.$observe("readonly",function(e){l.select2("readonly",!!e)}),c.ngMultiple&&a.$watch(c.ngMultiple,function(e){l.select2(f)}),e(function(){var e,o;l.select2(f),e=l.select2("container"),o=e.find(".select2-input"),o.keydown(function(e){0==i(this).val().length&&"32"==e.keyCode&&(e.preventDefault(),e.stopPropagation())}),c.gaigWarning&&(n(e.attr("gaig-warning",c.gaigWarning))(a),c.$set("gaigWarning",void 0)),l.val(u.$viewValue),u.$render(),f.initSelection||g||u.$setViewValue(l.select2("data")),l.on("change",function(t){e.triggerHandler("gaigWarningCheck");a.$apply()}),e.find(".select2-focusser").on("focus",function(){e.triggerHandler("gaigWarningShow"),e.find(".select2-choice").addClass("focussed")}),e.find(".select2-focusser").on("blur",function(t){e.triggerHandler("gaigWarningHide"),e.find(".select2-choice").removeClass("focussed")}),l.on("select2-open",function(){e.triggerHandler("gaigWarningShow"),a.$apply()}),l.on("select2-close",function(t){setTimeout(function(){e.find(".select2-focusser").focus()},0)}),l.focus(function(){e.find(".select2-focusser").focus()}),l.on("select2-removed",function(e){t.isDefined(c.onClear)&&a.$eval(c.onClear)}),e.find(".select2-focusser").on("keydown",function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0;32==t&&(e.preventDefault(),e.stopPropagation(),l.select2("open"))})})}}}}])}(window,angular,gaigUi.app,jQuery),function(e,t,n,i){"use strict";n.directive("gaigSwitch",["$timeout",function(e){function t(t,n,i){var o=n.find("input");void 0!==t.size&&"medium"!==t.size&&n.addClass("switch-"+t.size),e(function(){n.bootstrapSwitch(),t.$watch("ngDisabled",function(e,t){"true"===e||e===!0?(o.attr("disabled","true"),n.attr("tabindex",-1),n.bootstrapSwitch("setActive",!1)):(o.removeAttr("disabled"),n.attr("tabindex",0),n.bootstrapSwitch("setActive",!0))}),t.$watch("ngModel",function(i,o){i!==o&&"function"==typeof t.onChange&&t.$eval(t.onChange),e(function(){"true"===i||i===!0?n.bootstrapSwitch("setState",!0,!0):n.bootstrapSwitch("setState",!1,!0)})}),n.on("switch-change",function(i,o){var a=!0;"function"==typeof t.onClick&&(a=t.$eval(t.onClick)),a===!0||void 0===a?e(function(){"string"==typeof t.ngModel?t.ngModel=o.value.toString():t.ngModel=o.value,t.$apply()}):"true"===t.ngModel||t.ngModel===!0?n.bootstrapSwitch("setState",!0,!0):n.bootstrapSwitch("setState",!1,!0)})},0)}var n='<div tabindex="0"><input type="checkbox" checked="false"></div>';return{restrict:"E",require:"?ngModel",scope:{ngDisabled:"=",ngModel:"=",onChange:"&",onClick:"&",size:"@"},template:n,replace:!0,link:t}}])}(window,angular,uiBootstrap.app,jQuery),function(e,t,n,i){"use strict";n.directive("gaigTooltip",["$compile","$document",function(e,n){function i(e,i,o){function a(){i.off("mouseover.tooltip").off("click.tooltip").off("toggle.tooltip")}function s(){d.append(f),u(),f.stop().animate({opacity:1},250)}function r(){f.stop().animate({opacity:0},150,function(){f.remove()})}function l(e){"{"===e.charAt(0)&&(e=JSON.parse(e)),i.off("mouseover.tooltip").off("toggle.tooltip"),"object"==typeof e?(v.html(e.title),e.hasOwnProperty("placement")&&(g.placement=e.placement),e.hasOwnProperty("trigger")&&(g.trigger=e.trigger)):v.html(e),c()}function c(){switch(g.trigger){case"hover":i.on("mouseover.tooltip",s).on("mouseout.tooltip",r);break;case"click":i.on("click.tooltip",function(e){e.preventDefault(),f.is(":visible")?r():s()})}}function u(){var e=i.offset(),t=i.outerHeight(),n=i.outerWidth(),o=f.outerHeight(),a=f.outerWidth(),s=0,r=0;switch(f.removeClass("top bottom left right"),f.addClass(g.placement),g.placement){case"top":s=-(o+3),r=(n-a)/2;break;case"bottom":s=3,r=(n-a)/2;break;case"left":s=-o-(t-o)/2,r=-(a+3);break;case"right":s=-o-(t-o)/2,r=n+2}f.css({top:e.top,left:e.left,marginTop:s,marginLeft:r})}var g={placement:"top",trigger:"hover"},d=t.element(n[0].body),f=t.element("<div>",{"class":"tooltip"}),p=t.element("<div>",{"class":"tooltip-inner"}),h=t.element("<div>",{"class":"tooltip-arrow"}),v=t.element("<span>");f.append(p),p.append(h),p.append(v),o.$observe("gaigTooltip",l),e.$on("$destroy",a)}return{link:i,replace:!0,restrict:"A",scope:{gaigTooltip:"@"}}}])}(window,angular,gaigUi.app,jQuery),function(e,t){"use strict";e.directive("gaigValidationPanel",["$window","$timeout",function(e,n){function i(i,o,s){function r(t){var n=$(e).scrollTop(),a=o.offset().top;i.utilities.syncWidths(),n>a?i.flags.isFixed||(i.flags.isFixed=!0):i.flags.isFixed&&(i.flags.isFixed=!1)}i.flags={isFixed:!1},i.fixedOffset=s.fixedOffset,i.models={errorElements:[],panelWidth:o.find(".gaig-callout").first().width()},i.errorElements=[],i.$watch("errors",function(e){var n=i.utilities.getScrollingParent();e&&(t.forEach(i.models.errorElements,function(e){e.removeClass(a)}),e.length>0?(r(),n.on("scroll.gaigValidationPanel",function(){i.$apply(function(){r()})}),t.forEach(e,function(e){var t=i.utilities.getId(e),n=t?i.utilities.getElement(t):void 0;n&&(i.models.errorElements.push(n),n.addClass(a))})):n.off("scroll.gaigValidationPanel"))}),i.utilities={getErrorHeader:function(){return t.isArray(i.errors)&&i.errors.length>1?"Errors":"Error"},getFixedOffset:function(){return i.fixedOffset},getMessage:function(e){var t="";return e.hasOwnProperty("text")?t=e.text:e.hasOwnProperty("message")&&(t=e.message),t},getId:function(e){var t;return e.hasOwnProperty("context")?t=e.context:e.hasOwnProperty("id")&&(t=e.id),t},scrollTo:function(e,a){var s,r,l,c=i.utilities.getElement(e),u=i.utilities.getScrollingParent(),g=$("html, body");t.isDefined(a)&&a.preventDefault(),c&&(l=c.parents(".gaig-fieldset"),l.length>0&&t.forEach(l,function(e){r=t.element(e).scope(),r.isFieldset&&r.open()}),n(function(){s=c.offset().top-(o.outerHeight()+parseInt(i.fixedOffset)+30),u.isModal?c.focus():g.animate({scrollTop:s},0,function(){c.focus()})},1))},getElement:function(e){var n=t.element("#"+e).first();return 1===n.length?n:void 0},getScrollingParent:function(){var t;return o.parents(".gaig-modal-container").length>0?(t=$(".gaig-modal-container"),t.isModal=!0):(t=$(e),t.isModal=!1),t},getErrorsLength:function(){return t.isDefined(i.errors)&&t.isArray(i.errors)?i.errors.length:0},syncWidths:function(){var e=o.find(".gaig-callout").first(),t=o.find(".gaig-callout-fixed");t.width(e.width())},handleClick:function(e,n){var o=i.utilities.getId(n);e.preventDefault(),t.isDefined(o)&&i.utilities.scrollTo(o,e),t.isDefined(n.onClick)&&n.onClick()}}}var o,a="gaig-error";return o='<div><div class="gaig-callout gaig-callout-danger" gaig-hide="utilities.getErrorsLength() === 0"><h4>{{utilities.getErrorHeader()}}</h4><ul ng-class="{true: \'gaig-callout-scroll\'}[utilities.getErrorsLength() > 6]"><li ng-repeat="error in errors"><span ng-show="utilities.getId(error) === undefined && error.onClick === undefined"><i class="icon icon-error"></i>{{utilities.getMessage(error)}}</span><a href="#" ng-click="utilities.handleClick($event, error)" ng-show="utilities.getId(error) !== undefined || error.onClick !== undefined"><i class="icon icon-error"></i>{{utilities.getMessage(error)}}</a></li></ul></div><div class="gaig-callout gaig-callout-danger gaig-callout-fixed" style="padding-top:{{utilities.getFixedOffset()}}px" ng-show="utilities.getErrorsLength() > 0 && flags.isFixed"><h4>{{utilities.getErrorHeader()}}</h4><ul ng-class="{true: \'gaig-callout-scroll\'}[utilities.getErrorsLength() > 6]"><li ng-repeat="error in errors"><span ng-show="utilities.getId(error) === undefined && error.onClick === undefined"><i class="icon icon-error"></i>{{utilities.getMessage(error)}}</span><a href="#" ng-click="utilities.handleClick($event, error)" ng-show="utilities.getId(error) !== undefined || error.onClick !== undefined"><i class="icon icon-error"></i>{{utilities.getMessage(error)}}</a></li></ul></div></div>',{link:i,replace:!0,require:"^ngModel",restrict:"E",scope:{errors:"=ngModel"},template:o}}])}(uiBootstrap.app,angular),function(e,t,n,i){"use strict";n.directive("gaigWarning",["$timeout",function(e){function n(n,a,s,r){function l(n){var o=i("body"),a=t.element('<span class="gaig-warning-details"id="gaig-warning-'+h+'">    <div class="gaig-warning-caret">        <div class="gaig-warning-body">'+n+"        </div>    </div></span>");c(),o.append(a),e(function(){f.addClass(p)},0),f.on("focus.gaigWarning",function(){f.triggerHandler("gaigWarningShow")}),f.on("keydown.gaigWarning",function(){f.triggerHandler("gaigWarningHide")}),f.on("gaigWarningShow",function(){u(a),attachRunOnScrollToScrollableParents({targetElement:f,namespace:"gaigWarning",callback:function(){a.hide(),f.blur()},removeOnTrigger:!0}),a.show()}),f.on("gaigWarningHide",function(){a.hide()})}function c(){i("#gaig-warning-"+h).remove(),f.removeClass(p),f.off("focus.gaigWarning"),f.off("blur.gaigWarning")}function u(e){var t=a.offset();e.css({top:t.top-e.height()-1,left:t.left+(a.outerWidth()-e.width())})}function g(){var e,a,u=n.$parent.$eval(s.gaigWarning),g=r.$viewValue||f.val()||i.trim(f.text()),p="";if(t.isUndefined(u)&&(u=n.$eval(s.gaigWarning)),u=i.merge(i.makeArray(u),i.makeArray(o)),i.isArray(u))for(e=0,a=u.length;e<a;e++)d(u[e],g)&&(p+=p.length>0?"<br>"+u[e].warn:u[e].warn);else d(u,g)&&(p=u.warn);return p.length>0?(l(p),!0):(c(),!1)}function d(e,t){return e&&e.hasOwnProperty("test")&&"function"==typeof e.test&&!e.test(t)&&"string"==typeof e.warn}var f,p="gaig-warning",h=makeString(13),v=a.hasClass("select2-container");f=v?a:a.is("input")?a:a.find("input"),f.on("blur.gaigWarningCheck",g),f.on("gaigWarningCheck",g)}var o=[];return{link:n,restrict:"A",require:"^ngModel"}}])}(window,angular,gaigUi.app,jQuery),function(e,t,n){"use strict";e.directive("gaigZipPostalCode",["$compile",function(e){function t(e,t,s,r){function l(){return e.type}function c(n){var i=n===o?7:10,a=e.model||"";p=n,d(a),t.attr("maxlength",i),u(n)}function u(e){var t=n('label[for="'+s.id+'"]');t.length>0&&(e===o?t.html("Postal Code"):t.html("ZIP Code"))}function g(e){var n=!0,i=e.target.value,a=e.which||e.keyCode,s=String.fromCharCode(a).toUpperCase(),r=/\d|-/,l=/\d|[ABCEGHJKLMNPRSTVWXYZ]| /;return p===o?(3===i.length&&" "!==s&&t.val(i+" "),n=l.test(s)):(5===i.length&&"-"!==s&&t.val(i+"-"),n=r.test(s)),n}function d(e){var n=!0,i=new RegExp("^\\d{5}(-\\d{4})?$"),a=new RegExp(/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i);e&&e.length>0&&(n=p===o?a.test(e):i.test(e)),n?t.removeClass("gaig-error"):t.addClass("gaig-error")}function f(e){t.val(e.target.value.toUpperCase())}var p=i;if(angular.isUndefined(s.ngModel))throw"zip-postal-code directive requires ng-model";t.addClass(a),t.on("keypress",g),t.on("keyup",f),t.on("blur",function(e){var t=e.target.value;d(t)});var h=e.$watch(l,c);e.$on("$destroy",function(){h()})}var i="zip",o="postal",a="gaig-input-zip-postal-code";return{link:t,restrict:"A",scope:{model:"=ngModel",type:"@gaigZipPostalCode"}}}])}(uiBootstrap.app,angular,jQuery);